function Cj(s,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function eh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ej(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),n}var qu={exports:{}},xi={},Hu={exports:{}},Me={},zp;function Pj(){if(zp)return Me;zp=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function j(F,V,ae){this.props=F,this.context=V,this.refs=b,this.updater=ae||_}j.prototype.isReactComponent={},j.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},j.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=j.prototype;function C(F,V,ae){this.props=F,this.context=V,this.refs=b,this.updater=ae||_}var k=C.prototype=new S;k.constructor=C,N(k,j.prototype),k.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,$={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(F,V,ae){var pe,Ie={},Te=null,le=null;if(V!=null)for(pe in V.ref!==void 0&&(le=V.ref),V.key!==void 0&&(Te=""+V.key),V)A.call(V,pe)&&!T.hasOwnProperty(pe)&&(Ie[pe]=V[pe]);var xe=arguments.length-2;if(xe===1)Ie.children=ae;else if(1<xe){for(var Ae=Array(xe),Oe=0;Oe<xe;Oe++)Ae[Oe]=arguments[Oe+2];Ie.children=Ae}if(F&&F.defaultProps)for(pe in xe=F.defaultProps,xe)Ie[pe]===void 0&&(Ie[pe]=xe[pe]);return{$$typeof:s,type:F,key:Te,ref:le,props:Ie,_owner:$.current}}function R(F,V){return{$$typeof:s,type:F.type,key:V,ref:F.ref,props:F.props,_owner:F._owner}}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function H(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ae){return V[ae]})}var P=/\/+/g;function D(F,V){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):V.toString(36)}function B(F,V,ae,pe,Ie){var Te=typeof F;(Te==="undefined"||Te==="boolean")&&(F=null);var le=!1;if(F===null)le=!0;else switch(Te){case"string":case"number":le=!0;break;case"object":switch(F.$$typeof){case s:case t:le=!0}}if(le)return le=F,Ie=Ie(le),F=pe===""?"."+D(le,0):pe,I(Ie)?(ae="",F!=null&&(ae=F.replace(P,"$&/")+"/"),B(Ie,V,ae,"",function(Oe){return Oe})):Ie!=null&&(U(Ie)&&(Ie=R(Ie,ae+(!Ie.key||le&&le.key===Ie.key?"":(""+Ie.key).replace(P,"$&/")+"/")+F)),V.push(Ie)),1;if(le=0,pe=pe===""?".":pe+":",I(F))for(var xe=0;xe<F.length;xe++){Te=F[xe];var Ae=pe+D(Te,xe);le+=B(Te,V,ae,Ae,Ie)}else if(Ae=w(F),typeof Ae=="function")for(F=Ae.call(F),xe=0;!(Te=F.next()).done;)Te=Te.value,Ae=pe+D(Te,xe++),le+=B(Te,V,ae,Ae,Ie);else if(Te==="object")throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return le}function Y(F,V,ae){if(F==null)return F;var pe=[],Ie=0;return B(F,pe,"","",function(Te){return V.call(ae,Te,Ie++)}),pe}function X(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=ae)},function(ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=ae)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var oe={current:null},J={transition:null},Z={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:J,ReactCurrentOwner:$};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Y,forEach:function(F,V,ae){Y(F,function(){V.apply(this,arguments)},ae)},count:function(F){var V=0;return Y(F,function(){V++}),V},toArray:function(F){return Y(F,function(V){return V})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Me.Component=j,Me.Fragment=n,Me.Profiler=o,Me.PureComponent=C,Me.StrictMode=i,Me.Suspense=m,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Me.act=ee,Me.cloneElement=function(F,V,ae){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var pe=N({},F.props),Ie=F.key,Te=F.ref,le=F._owner;if(V!=null){if(V.ref!==void 0&&(Te=V.ref,le=$.current),V.key!==void 0&&(Ie=""+V.key),F.type&&F.type.defaultProps)var xe=F.type.defaultProps;for(Ae in V)A.call(V,Ae)&&!T.hasOwnProperty(Ae)&&(pe[Ae]=V[Ae]===void 0&&xe!==void 0?xe[Ae]:V[Ae])}var Ae=arguments.length-2;if(Ae===1)pe.children=ae;else if(1<Ae){xe=Array(Ae);for(var Oe=0;Oe<Ae;Oe++)xe[Oe]=arguments[Oe+2];pe.children=xe}return{$$typeof:s,type:F.type,key:Ie,ref:Te,props:pe,_owner:le}},Me.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:c,_context:F},F.Consumer=F},Me.createElement=M,Me.createFactory=function(F){var V=M.bind(null,F);return V.type=F,V},Me.createRef=function(){return{current:null}},Me.forwardRef=function(F){return{$$typeof:h,render:F}},Me.isValidElement=U,Me.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:X}},Me.memo=function(F,V){return{$$typeof:f,type:F,compare:V===void 0?null:V}},Me.startTransition=function(F){var V=J.transition;J.transition={};try{F()}finally{J.transition=V}},Me.unstable_act=ee,Me.useCallback=function(F,V){return oe.current.useCallback(F,V)},Me.useContext=function(F){return oe.current.useContext(F)},Me.useDebugValue=function(){},Me.useDeferredValue=function(F){return oe.current.useDeferredValue(F)},Me.useEffect=function(F,V){return oe.current.useEffect(F,V)},Me.useId=function(){return oe.current.useId()},Me.useImperativeHandle=function(F,V,ae){return oe.current.useImperativeHandle(F,V,ae)},Me.useInsertionEffect=function(F,V){return oe.current.useInsertionEffect(F,V)},Me.useLayoutEffect=function(F,V){return oe.current.useLayoutEffect(F,V)},Me.useMemo=function(F,V){return oe.current.useMemo(F,V)},Me.useReducer=function(F,V,ae){return oe.current.useReducer(F,V,ae)},Me.useRef=function(F){return oe.current.useRef(F)},Me.useState=function(F){return oe.current.useState(F)},Me.useSyncExternalStore=function(F,V,ae){return oe.current.useSyncExternalStore(F,V,ae)},Me.useTransition=function(){return oe.current.useTransition()},Me.version="18.3.1",Me}var Up;function th(){return Up||(Up=1,Hu.exports=Pj()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Rj(){if($p)return xi;$p=1;var s=th(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,f){var p,v={},w=null,_=null;f!==void 0&&(w=""+f),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(_=m.ref);for(p in m)i.call(m,p)&&!c.hasOwnProperty(p)&&(v[p]=m[p]);if(h&&h.defaultProps)for(p in m=h.defaultProps,m)v[p]===void 0&&(v[p]=m[p]);return{$$typeof:t,type:h,key:w,ref:_,props:v,_owner:o.current}}return xi.Fragment=n,xi.jsx=u,xi.jsxs=u,xi}var Bp;function Tj(){return Bp||(Bp=1,qu.exports=Rj()),qu.exports}var e=Tj(),sl={},Gu={exports:{}},Bt={},Ku={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function Aj(){return Vp||(Vp=1,function(s){function t(J,Z){var ee=J.length;J.push(Z);e:for(;0<ee;){var F=ee-1>>>1,V=J[F];if(0<o(V,Z))J[F]=Z,J[ee]=V,ee=F;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var Z=J[0],ee=J.pop();if(ee!==Z){J[0]=ee;e:for(var F=0,V=J.length,ae=V>>>1;F<ae;){var pe=2*(F+1)-1,Ie=J[pe],Te=pe+1,le=J[Te];if(0>o(Ie,ee))Te<V&&0>o(le,Ie)?(J[F]=le,J[Te]=ee,F=Te):(J[F]=Ie,J[pe]=ee,F=pe);else if(Te<V&&0>o(le,ee))J[F]=le,J[Te]=ee,F=Te;else break e}}return Z}function o(J,Z){var ee=J.sortIndex-Z.sortIndex;return ee!==0?ee:J.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();s.unstable_now=function(){return u.now()-h}}var m=[],f=[],p=1,v=null,w=3,_=!1,N=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=J)i(f),Z.sortIndex=Z.expirationTime,t(m,Z);else break;Z=n(f)}}function I(J){if(b=!1,k(J),!N)if(n(m)!==null)N=!0,X(A);else{var Z=n(f);Z!==null&&oe(I,Z.startTime-J)}}function A(J,Z){N=!1,b&&(b=!1,S(M),M=-1),_=!0;var ee=w;try{for(k(Z),v=n(m);v!==null&&(!(v.expirationTime>Z)||J&&!H());){var F=v.callback;if(typeof F=="function"){v.callback=null,w=v.priorityLevel;var V=F(v.expirationTime<=Z);Z=s.unstable_now(),typeof V=="function"?v.callback=V:v===n(m)&&i(m),k(Z)}else i(m);v=n(m)}if(v!==null)var ae=!0;else{var pe=n(f);pe!==null&&oe(I,pe.startTime-Z),ae=!1}return ae}finally{v=null,w=ee,_=!1}}var $=!1,T=null,M=-1,R=5,U=-1;function H(){return!(s.unstable_now()-U<R)}function P(){if(T!==null){var J=s.unstable_now();U=J;var Z=!0;try{Z=T(!0,J)}finally{Z?D():($=!1,T=null)}}else $=!1}var D;if(typeof C=="function")D=function(){C(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=P,D=function(){Y.postMessage(null)}}else D=function(){j(P,0)};function X(J){T=J,$||($=!0,D())}function oe(J,Z){M=j(function(){J(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){N||_||(N=!0,X(A))},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(J){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var ee=w;w=Z;try{return J()}finally{w=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=w;w=J;try{return Z()}finally{w=ee}},s.unstable_scheduleCallback=function(J,Z,ee){var F=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?F+ee:F):ee=F,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,J={id:p++,callback:Z,priorityLevel:J,startTime:ee,expirationTime:V,sortIndex:-1},ee>F?(J.sortIndex=ee,t(f,J),n(m)===null&&J===n(f)&&(b?(S(M),M=-1):b=!0,oe(I,ee-F))):(J.sortIndex=V,t(m,J),N||_||(N=!0,X(A))),J},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(J){var Z=w;return function(){var ee=w;w=Z;try{return J.apply(this,arguments)}finally{w=ee}}}}(Ju)),Ju}var Wp;function Ij(){return Wp||(Wp=1,Ku.exports=Aj()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function Oj(){if(qp)return Bt;qp=1;var s=th(),t=Ij();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(o[r]=a,r=0;r<a.length;r++)i.add(a[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function w(r){return m.call(v,r)?!0:m.call(p,r)?!1:f.test(r)?v[r]=!0:(p[r]=!0,!1)}function _(r,a,l,d){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,a,l,d){if(a===null||typeof a>"u"||_(r,a,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(r,a,l,d,g,y,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=y,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];j[a]=new b(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,C);j[a]=new b(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,C);j[a]=new b(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,C);j[a]=new b(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function k(r,a,l,d){var g=j.hasOwnProperty(a)?j[a]:null;(g!==null?g.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,l,g,d)&&(l=null),d||g===null?w(a)&&(l===null?r.removeAttribute(a):r.setAttribute(a,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(a=g.attributeName,d=g.attributeNamespace,l===null?r.removeAttribute(a):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?r.setAttributeNS(d,a,l):r.setAttribute(a,l))))}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),$=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),H=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),J=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Object.assign,F;function V(r){if(F===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+r}var ae=!1;function pe(r,a){if(!r||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var d=K}Reflect.construct(r,[],a)}else{try{a.call()}catch(K){d=K}r.call(a.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),y=d.stack.split(`
`),E=g.length-1,O=y.length-1;1<=E&&0<=O&&g[E]!==y[O];)O--;for(;1<=E&&0<=O;E--,O--)if(g[E]!==y[O]){if(E!==1||O!==1)do if(E--,O--,0>O||g[E]!==y[O]){var L=`
`+g[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=O);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?V(r):""}function Ie(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function Te(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case $:return"Portal";case R:return"Profiler";case M:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case H:return(r.displayName||"Context")+".Consumer";case U:return(r._context.displayName||"Context")+".Provider";case P:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return a=r.displayName||null,a!==null?a:Te(r.type)||"Memo";case X:a=r._payload,r=r._init;try{return Te(r(a))}catch{}}return null}function le(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(a);case 8:return a===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(r){var a=Ae(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function We(r){r._valueTracker||(r._valueTracker=Oe(r))}function tt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=Ae(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function jt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function hr(r,a){var l=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ks(r,a){var l=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;l=xe(a.value!=null?a.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ns(r,a){a=a.checked,a!=null&&k(r,"checked",a,!1)}function Jn(r,a){Ns(r,a);var l=xe(a.value),d=a.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?ec(r,a.type,l):a.hasOwnProperty("defaultValue")&&ec(r,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Gh(r,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,l||a===r.value||(r.value=a),r.defaultValue=a}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ec(r,a,l){(a!=="number"||jt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ia=Array.isArray;function Ss(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+xe(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function tc(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Kh(r,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(n(92));if(Ia(l)){if(1<l.length)throw Error(n(93));l=l[0]}a=l}a==null&&(a=""),l=a}r._wrapperState={initialValue:xe(l)}}function Jh(r,a){var l=xe(a.value),d=xe(a.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),a.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Qh(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Yh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rc(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Yh(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ji,Zh=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,d,g){MSApp.execUnsafeLocalFunction(function(){return r(a,l,d,g)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ji.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Oa(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T0=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(r){T0.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Ma[a]=Ma[r]})});function Xh(r,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Ma.hasOwnProperty(r)&&Ma[r]?(""+a).trim():a+"px"}function em(r,a){r=r.style;for(var l in a)if(a.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Xh(l,a[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,g):r[l]=g}}var A0=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(r,a){if(a){if(A0[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function sc(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function ic(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oc=null,Cs=null,Es=null;function tm(r){if(r=ni(r)){if(typeof oc!="function")throw Error(n(280));var a=r.stateNode;a&&(a=yo(a),oc(r.stateNode,r.type,a))}}function rm(r){Cs?Es?Es.push(r):Es=[r]:Cs=r}function nm(){if(Cs){var r=Cs,a=Es;if(Es=Cs=null,tm(r),a)for(r=0;r<a.length;r++)tm(a[r])}}function sm(r,a){return r(a)}function am(){}var lc=!1;function im(r,a,l){if(lc)return r(a,l);lc=!0;try{return sm(r,a,l)}finally{lc=!1,(Cs!==null||Es!==null)&&(am(),nm())}}function Da(r,a){var l=r.stateNode;if(l===null)return null;var d=yo(l);if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,a,typeof l));return l}var cc=!1;if(h)try{var La={};Object.defineProperty(La,"passive",{get:function(){cc=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{cc=!1}function I0(r,a,l,d,g,y,E,O,L){var K=Array.prototype.slice.call(arguments,3);try{a.apply(l,K)}catch(re){this.onError(re)}}var Fa=!1,Qi=null,Yi=!1,uc=null,O0={onError:function(r){Fa=!0,Qi=r}};function M0(r,a,l,d,g,y,E,O,L){Fa=!1,Qi=null,I0.apply(O0,arguments)}function D0(r,a,l,d,g,y,E,O,L){if(M0.apply(this,arguments),Fa){if(Fa){var K=Qi;Fa=!1,Qi=null}else throw Error(n(198));Yi||(Yi=!0,uc=K)}}function Qn(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function om(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function lm(r){if(Qn(r)!==r)throw Error(n(188))}function L0(r){var a=r.alternate;if(!a){if(a=Qn(r),a===null)throw Error(n(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return lm(g),r;if(y===d)return lm(g),a;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=g,d=y;else{for(var E=!1,O=g.child;O;){if(O===l){E=!0,l=g,d=y;break}if(O===d){E=!0,d=g,l=y;break}O=O.sibling}if(!E){for(O=y.child;O;){if(O===l){E=!0,l=y,d=g;break}if(O===d){E=!0,d=y,l=g;break}O=O.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:a}function cm(r){return r=L0(r),r!==null?um(r):null}function um(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=um(r);if(a!==null)return a;r=r.sibling}return null}var dm=t.unstable_scheduleCallback,hm=t.unstable_cancelCallback,F0=t.unstable_shouldYield,z0=t.unstable_requestPaint,lt=t.unstable_now,U0=t.unstable_getCurrentPriorityLevel,dc=t.unstable_ImmediatePriority,mm=t.unstable_UserBlockingPriority,Zi=t.unstable_NormalPriority,$0=t.unstable_LowPriority,fm=t.unstable_IdlePriority,Xi=null,Pr=null;function B0(r){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Xi,r,void 0,(r.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:q0,V0=Math.log,W0=Math.LN2;function q0(r){return r>>>=0,r===0?32:31-(V0(r)/W0|0)|0}var eo=64,to=4194304;function za(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ro(r,a){var l=r.pendingLanes;if(l===0)return 0;var d=0,g=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var O=E&~g;O!==0?d=za(O):(y&=E,y!==0&&(d=za(y)))}else E=l&~g,E!==0?d=za(E):y!==0&&(d=za(y));if(d===0)return 0;if(a!==0&&a!==d&&(a&g)===0&&(g=d&-d,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((d&4)!==0&&(d|=l&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=d;0<a;)l=31-mr(a),g=1<<l,d|=r[l],a&=~g;return d}function H0(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-mr(y),O=1<<E,L=g[E];L===-1?((O&l)===0||(O&d)!==0)&&(g[E]=H0(O,a)):L<=a&&(r.expiredLanes|=O),y&=~O}}function hc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function pm(){var r=eo;return eo<<=1,(eo&4194240)===0&&(eo=64),r}function mc(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Ua(r,a,l){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-mr(a),r[a]=l}function K0(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-mr(l),y=1<<g;a[g]=0,d[g]=-1,r[g]=-1,l&=~y}}function fc(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-mr(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}var qe=0;function gm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var vm,pc,xm,ym,wm,gc=!1,no=[],an=null,on=null,ln=null,$a=new Map,Ba=new Map,cn=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _m(r,a){switch(r){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":$a.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(a.pointerId)}}function Va(r,a,l,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ni(a),a!==null&&pc(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function Q0(r,a,l,d,g){switch(a){case"focusin":return an=Va(an,r,a,l,d,g),!0;case"dragenter":return on=Va(on,r,a,l,d,g),!0;case"mouseover":return ln=Va(ln,r,a,l,d,g),!0;case"pointerover":var y=g.pointerId;return $a.set(y,Va($a.get(y)||null,r,a,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,Ba.set(y,Va(Ba.get(y)||null,r,a,l,d,g)),!0}return!1}function jm(r){var a=Yn(r.target);if(a!==null){var l=Qn(a);if(l!==null){if(a=l.tag,a===13){if(a=om(l),a!==null){r.blockedOn=a,wm(r.priority,function(){xm(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function so(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=xc(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ac=d,l.target.dispatchEvent(d),ac=null}else return a=ni(l),a!==null&&pc(a),r.blockedOn=l,!1;a.shift()}return!0}function bm(r,a,l){so(r)&&l.delete(a)}function Y0(){gc=!1,an!==null&&so(an)&&(an=null),on!==null&&so(on)&&(on=null),ln!==null&&so(ln)&&(ln=null),$a.forEach(bm),Ba.forEach(bm)}function Wa(r,a){r.blockedOn===a&&(r.blockedOn=null,gc||(gc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y0)))}function qa(r){function a(g){return Wa(g,r)}if(0<no.length){Wa(no[0],r);for(var l=1;l<no.length;l++){var d=no[l];d.blockedOn===r&&(d.blockedOn=null)}}for(an!==null&&Wa(an,r),on!==null&&Wa(on,r),ln!==null&&Wa(ln,r),$a.forEach(a),Ba.forEach(a),l=0;l<cn.length;l++)d=cn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<cn.length&&(l=cn[0],l.blockedOn===null);)jm(l),l.blockedOn===null&&cn.shift()}var Ps=I.ReactCurrentBatchConfig,ao=!0;function Z0(r,a,l,d){var g=qe,y=Ps.transition;Ps.transition=null;try{qe=1,vc(r,a,l,d)}finally{qe=g,Ps.transition=y}}function X0(r,a,l,d){var g=qe,y=Ps.transition;Ps.transition=null;try{qe=4,vc(r,a,l,d)}finally{qe=g,Ps.transition=y}}function vc(r,a,l,d){if(ao){var g=xc(r,a,l,d);if(g===null)Mc(r,a,d,io,l),_m(r,d);else if(Q0(g,r,a,l,d))d.stopPropagation();else if(_m(r,d),a&4&&-1<J0.indexOf(r)){for(;g!==null;){var y=ni(g);if(y!==null&&vm(y),y=xc(r,a,l,d),y===null&&Mc(r,a,d,io,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Mc(r,a,d,null,l)}}var io=null;function xc(r,a,l,d){if(io=null,r=ic(d),r=Yn(r),r!==null)if(a=Qn(r),a===null)r=null;else if(l=a.tag,l===13){if(r=om(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return io=r,null}function km(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U0()){case dc:return 1;case mm:return 4;case Zi:case $0:return 16;case fm:return 536870912;default:return 16}default:return 16}}var un=null,yc=null,oo=null;function Nm(){if(oo)return oo;var r,a=yc,l=a.length,d,g="value"in un?un.value:un.textContent,y=g.length;for(r=0;r<l&&a[r]===g[r];r++);var E=l-r;for(d=1;d<=E&&a[l-d]===g[y-d];d++);return oo=g.slice(r,1<d?1-d:void 0)}function lo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function co(){return!0}function Sm(){return!1}function Kt(r){function a(l,d,g,y,E){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?co:Sm,this.isPropagationStopped=Sm,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),a}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Kt(Rs),Ha=ee({},Rs,{view:0,detail:0}),e_=Kt(Ha),_c,jc,Ga,uo=ee({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ga&&(Ga&&r.type==="mousemove"?(_c=r.screenX-Ga.screenX,jc=r.screenY-Ga.screenY):jc=_c=0,Ga=r),_c)},movementY:function(r){return"movementY"in r?r.movementY:jc}}),Cm=Kt(uo),t_=ee({},uo,{dataTransfer:0}),r_=Kt(t_),n_=ee({},Ha,{relatedTarget:0}),bc=Kt(n_),s_=ee({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),a_=Kt(s_),i_=ee({},Rs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),o_=Kt(i_),l_=ee({},Rs,{data:0}),Em=Kt(l_),c_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h_(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=d_[r])?!!a[r]:!1}function kc(){return h_}var m_=ee({},Ha,{key:function(r){if(r.key){var a=c_[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=lo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?u_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(r){return r.type==="keypress"?lo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),f_=Kt(m_),p_=ee({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=Kt(p_),g_=ee({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),v_=Kt(g_),x_=ee({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),y_=Kt(x_),w_=ee({},uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),__=Kt(w_),j_=[9,13,27,32],Nc=h&&"CompositionEvent"in window,Ka=null;h&&"documentMode"in document&&(Ka=document.documentMode);var b_=h&&"TextEvent"in window&&!Ka,Rm=h&&(!Nc||Ka&&8<Ka&&11>=Ka),Tm=" ",Am=!1;function Im(r,a){switch(r){case"keyup":return j_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ts=!1;function k_(r,a){switch(r){case"compositionend":return Om(a);case"keypress":return a.which!==32?null:(Am=!0,Tm);case"textInput":return r=a.data,r===Tm&&Am?null:r;default:return null}}function N_(r,a){if(Ts)return r==="compositionend"||!Nc&&Im(r,a)?(r=Nm(),oo=yc=un=null,Ts=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rm&&a.locale!=="ko"?null:a.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!S_[r.type]:a==="textarea"}function Dm(r,a,l,d){rm(d),a=go(a,"onChange"),0<a.length&&(l=new wc("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var Ja=null,Qa=null;function C_(r){ef(r,0)}function ho(r){var a=Ds(r);if(tt(a))return r}function E_(r,a){if(r==="change")return a}var Lm=!1;if(h){var Sc;if(h){var Cc="oninput"in document;if(!Cc){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Cc=typeof Fm.oninput=="function"}Sc=Cc}else Sc=!1;Lm=Sc&&(!document.documentMode||9<document.documentMode)}function zm(){Ja&&(Ja.detachEvent("onpropertychange",Um),Qa=Ja=null)}function Um(r){if(r.propertyName==="value"&&ho(Qa)){var a=[];Dm(a,Qa,r,ic(r)),im(C_,a)}}function P_(r,a,l){r==="focusin"?(zm(),Ja=a,Qa=l,Ja.attachEvent("onpropertychange",Um)):r==="focusout"&&zm()}function R_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ho(Qa)}function T_(r,a){if(r==="click")return ho(a)}function A_(r,a){if(r==="input"||r==="change")return ho(a)}function I_(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var fr=typeof Object.is=="function"?Object.is:I_;function Ya(r,a){if(fr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!m.call(a,g)||!fr(r[g],a[g]))return!1}return!0}function $m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bm(r,a){var l=$m(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$m(l)}}function Vm(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Vm(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Wm(){for(var r=window,a=jt();a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=jt(r.document)}return a}function Ec(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function O_(r){var a=Wm(),l=r.focusedElem,d=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&Vm(l.ownerDocument.documentElement,l)){if(d!==null&&Ec(l)){if(a=d.start,r=d.end,r===void 0&&(r=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(r,l.value.length);else if(r=(a=l.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,y=Math.min(d.start,g);d=d.end===void 0?y:Math.min(d.end,g),!r.extend&&y>d&&(g=d,d=y,y=g),g=Bm(l,y);var E=Bm(l,d);g&&E&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),y>d?(r.addRange(a),r.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),r.addRange(a)))}}for(a=[],r=l;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)r=a[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var M_=h&&"documentMode"in document&&11>=document.documentMode,As=null,Pc=null,Za=null,Rc=!1;function qm(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rc||As==null||As!==jt(d)||(d=As,"selectionStart"in d&&Ec(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Za&&Ya(Za,d)||(Za=d,d=go(Pc,"onSelect"),0<d.length&&(a=new wc("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=As)))}function mo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Is={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Tc={},Hm={};h&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function fo(r){if(Tc[r])return Tc[r];if(!Is[r])return r;var a=Is[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Hm)return Tc[r]=a[l];return r}var Gm=fo("animationend"),Km=fo("animationiteration"),Jm=fo("animationstart"),Qm=fo("transitionend"),Ym=new Map,Zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(r,a){Ym.set(r,a),c(a,[r])}for(var Ac=0;Ac<Zm.length;Ac++){var Ic=Zm[Ac],D_=Ic.toLowerCase(),L_=Ic[0].toUpperCase()+Ic.slice(1);dn(D_,"on"+L_)}dn(Gm,"onAnimationEnd"),dn(Km,"onAnimationIteration"),dn(Jm,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Qm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Xm(r,a,l){var d=r.type||"unknown-event";r.currentTarget=l,D0(d,a,void 0,r),r.currentTarget=null}function ef(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var E=d.length-1;0<=E;E--){var O=d[E],L=O.instance,K=O.currentTarget;if(O=O.listener,L!==y&&g.isPropagationStopped())break e;Xm(g,O,K),y=L}else for(E=0;E<d.length;E++){if(O=d[E],L=O.instance,K=O.currentTarget,O=O.listener,L!==y&&g.isPropagationStopped())break e;Xm(g,O,K),y=L}}}if(Yi)throw r=uc,Yi=!1,uc=null,r}function Ye(r,a){var l=a[$c];l===void 0&&(l=a[$c]=new Set);var d=r+"__bubble";l.has(d)||(tf(a,r,2,!1),l.add(d))}function Oc(r,a,l){var d=0;a&&(d|=4),tf(l,r,d,a)}var po="_reactListening"+Math.random().toString(36).slice(2);function ei(r){if(!r[po]){r[po]=!0,i.forEach(function(l){l!=="selectionchange"&&(F_.has(l)||Oc(l,!1,r),Oc(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[po]||(a[po]=!0,Oc("selectionchange",!1,a))}}function tf(r,a,l,d){switch(km(a)){case 1:var g=Z0;break;case 4:g=X0;break;default:g=vc}l=g.bind(null,a,l,r),g=void 0,!cc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function Mc(r,a,l,d,g){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var O=d.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(E===4)for(E=d.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;E=E.return}for(;O!==null;){if(E=Yn(O),E===null)return;if(L=E.tag,L===5||L===6){d=y=E;continue e}O=O.parentNode}}d=d.return}im(function(){var K=y,re=ic(l),se=[];e:{var te=Ym.get(r);if(te!==void 0){var ue=wc,me=r;switch(r){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":ue=f_;break;case"focusin":me="focus",ue=bc;break;case"focusout":me="blur",ue=bc;break;case"beforeblur":case"afterblur":ue=bc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=r_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=v_;break;case Gm:case Km:case Jm:ue=a_;break;case Qm:ue=y_;break;case"scroll":ue=e_;break;case"wheel":ue=__;break;case"copy":case"cut":case"paste":ue=o_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Pm}var fe=(a&4)!==0,ct=!fe&&r==="scroll",W=fe?te!==null?te+"Capture":null:te;fe=[];for(var z=K,q;z!==null;){q=z;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,W!==null&&(ie=Da(z,W),ie!=null&&fe.push(ti(z,ie,q)))),ct)break;z=z.return}0<fe.length&&(te=new ue(te,me,null,l,re),se.push({event:te,listeners:fe}))}}if((a&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",te&&l!==ac&&(me=l.relatedTarget||l.fromElement)&&(Yn(me)||me[Br]))break e;if((ue||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(me=l.relatedTarget||l.toElement,ue=K,me=me?Yn(me):null,me!==null&&(ct=Qn(me),me!==ct||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=K),ue!==me)){if(fe=Cm,ie="onMouseLeave",W="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(fe=Pm,ie="onPointerLeave",W="onPointerEnter",z="pointer"),ct=ue==null?te:Ds(ue),q=me==null?te:Ds(me),te=new fe(ie,z+"leave",ue,l,re),te.target=ct,te.relatedTarget=q,ie=null,Yn(re)===K&&(fe=new fe(W,z+"enter",me,l,re),fe.target=q,fe.relatedTarget=ct,ie=fe),ct=ie,ue&&me)t:{for(fe=ue,W=me,z=0,q=fe;q;q=Os(q))z++;for(q=0,ie=W;ie;ie=Os(ie))q++;for(;0<z-q;)fe=Os(fe),z--;for(;0<q-z;)W=Os(W),q--;for(;z--;){if(fe===W||W!==null&&fe===W.alternate)break t;fe=Os(fe),W=Os(W)}fe=null}else fe=null;ue!==null&&rf(se,te,ue,fe,!1),me!==null&&ct!==null&&rf(se,ct,me,fe,!0)}}e:{if(te=K?Ds(K):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=E_;else if(Mm(te))if(Lm)ge=A_;else{ge=R_;var ye=P_}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=T_);if(ge&&(ge=ge(r,K))){Dm(se,ge,l,re);break e}ye&&ye(r,te,K),r==="focusout"&&(ye=te._wrapperState)&&ye.controlled&&te.type==="number"&&ec(te,"number",te.value)}switch(ye=K?Ds(K):window,r){case"focusin":(Mm(ye)||ye.contentEditable==="true")&&(As=ye,Pc=K,Za=null);break;case"focusout":Za=Pc=As=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,qm(se,l,re);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":qm(se,l,re)}var we;if(Nc)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ts?Im(r,l)&&(be="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(Rm&&l.locale!=="ko"&&(Ts||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ts&&(we=Nm()):(un=re,yc="value"in un?un.value:un.textContent,Ts=!0)),ye=go(K,be),0<ye.length&&(be=new Em(be,r,null,l,re),se.push({event:be,listeners:ye}),we?be.data=we:(we=Om(l),we!==null&&(be.data=we)))),(we=b_?k_(r,l):N_(r,l))&&(K=go(K,"onBeforeInput"),0<K.length&&(re=new Em("onBeforeInput","beforeinput",null,l,re),se.push({event:re,listeners:K}),re.data=we))}ef(se,a)})}function ti(r,a,l){return{instance:r,listener:a,currentTarget:l}}function go(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Da(r,l),y!=null&&d.unshift(ti(r,y,g)),y=Da(r,a),y!=null&&d.push(ti(r,y,g))),r=r.return}return d}function Os(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function rf(r,a,l,d,g){for(var y=a._reactName,E=[];l!==null&&l!==d;){var O=l,L=O.alternate,K=O.stateNode;if(L!==null&&L===d)break;O.tag===5&&K!==null&&(O=K,g?(L=Da(l,y),L!=null&&E.unshift(ti(l,L,O))):g||(L=Da(l,y),L!=null&&E.push(ti(l,L,O)))),l=l.return}E.length!==0&&r.push({event:a,listeners:E})}var z_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function nf(r){return(typeof r=="string"?r:""+r).replace(z_,`
`).replace(U_,"")}function vo(r,a,l){if(a=nf(a),nf(r)!==a&&l)throw Error(n(425))}function xo(){}var Dc=null,Lc=null;function Fc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zc=typeof setTimeout=="function"?setTimeout:void 0,$_=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(r){return sf.resolve(null).then(r).catch(V_)}:zc;function V_(r){setTimeout(function(){throw r})}function Uc(r,a){var l=a,d=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){r.removeChild(g),qa(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);qa(a)}function hn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function af(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ms,ri="__reactProps$"+Ms,Br="__reactContainer$"+Ms,$c="__reactEvents$"+Ms,W_="__reactListeners$"+Ms,q_="__reactHandles$"+Ms;function Yn(r){var a=r[Rr];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Br]||l[Rr]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=af(r);r!==null;){if(l=r[Rr])return l;r=af(r)}return a}r=l,l=r.parentNode}return null}function ni(r){return r=r[Rr]||r[Br],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ds(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function yo(r){return r[ri]||null}var Bc=[],Ls=-1;function mn(r){return{current:r}}function Ze(r){0>Ls||(r.current=Bc[Ls],Bc[Ls]=null,Ls--)}function Ke(r,a){Ls++,Bc[Ls]=r.current,r.current=a}var fn={},Ct=mn(fn),Lt=mn(!1),Zn=fn;function Fs(r,a){var l=r.type.contextTypes;if(!l)return fn;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in l)g[y]=a[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function Ft(r){return r=r.childContextTypes,r!=null}function wo(){Ze(Lt),Ze(Ct)}function of(r,a,l){if(Ct.current!==fn)throw Error(n(168));Ke(Ct,a),Ke(Lt,l)}function lf(r,a,l){var d=r.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in a))throw Error(n(108,le(r)||"Unknown",g));return ee({},l,d)}function _o(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||fn,Zn=Ct.current,Ke(Ct,r),Ke(Lt,Lt.current),!0}function cf(r,a,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=lf(r,a,Zn),d.__reactInternalMemoizedMergedChildContext=r,Ze(Lt),Ze(Ct),Ke(Ct,r)):Ze(Lt),Ke(Lt,l)}var Vr=null,jo=!1,Vc=!1;function uf(r){Vr===null?Vr=[r]:Vr.push(r)}function H_(r){jo=!0,uf(r)}function pn(){if(!Vc&&Vr!==null){Vc=!0;var r=0,a=qe;try{var l=Vr;for(qe=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Vr=null,jo=!1}catch(g){throw Vr!==null&&(Vr=Vr.slice(r+1)),dm(dc,pn),g}finally{qe=a,Vc=!1}}return null}var zs=[],Us=0,bo=null,ko=0,er=[],tr=0,Xn=null,Wr=1,qr="";function es(r,a){zs[Us++]=ko,zs[Us++]=bo,bo=r,ko=a}function df(r,a,l){er[tr++]=Wr,er[tr++]=qr,er[tr++]=Xn,Xn=r;var d=Wr;r=qr;var g=32-mr(d)-1;d&=~(1<<g),l+=1;var y=32-mr(a)+g;if(30<y){var E=g-g%5;y=(d&(1<<E)-1).toString(32),d>>=E,g-=E,Wr=1<<32-mr(a)+g|l<<g|d,qr=y+r}else Wr=1<<y|l<<g|d,qr=r}function Wc(r){r.return!==null&&(es(r,1),df(r,1,0))}function qc(r){for(;r===bo;)bo=zs[--Us],zs[Us]=null,ko=zs[--Us],zs[Us]=null;for(;r===Xn;)Xn=er[--tr],er[tr]=null,qr=er[--tr],er[tr]=null,Wr=er[--tr],er[tr]=null}var Jt=null,Qt=null,et=!1,pr=null;function hf(r,a){var l=ar(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=r,a=r.deletions,a===null?(r.deletions=[l],r.flags|=16):a.push(l)}function mf(r,a){switch(r.tag){case 5:var l=r.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Jt=r,Qt=hn(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Jt=r,Qt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=Xn!==null?{id:Wr,overflow:qr}:null,r.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=ar(18,null,null,0),l.stateNode=a,l.return=r,r.child=l,Jt=r,Qt=null,!0):!1;default:return!1}}function Hc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gc(r){if(et){var a=Qt;if(a){var l=a;if(!mf(r,a)){if(Hc(r))throw Error(n(418));a=hn(l.nextSibling);var d=Jt;a&&mf(r,a)?hf(d,l):(r.flags=r.flags&-4097|2,et=!1,Jt=r)}}else{if(Hc(r))throw Error(n(418));r.flags=r.flags&-4097|2,et=!1,Jt=r}}}function ff(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Jt=r}function No(r){if(r!==Jt)return!1;if(!et)return ff(r),et=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Fc(r.type,r.memoizedProps)),a&&(a=Qt)){if(Hc(r))throw pf(),Error(n(418));for(;a;)hf(r,a),a=hn(a.nextSibling)}if(ff(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(a===0){Qt=hn(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}r=r.nextSibling}Qt=null}}else Qt=Jt?hn(r.stateNode.nextSibling):null;return!0}function pf(){for(var r=Qt;r;)r=hn(r.nextSibling)}function $s(){Qt=Jt=null,et=!1}function Kc(r){pr===null?pr=[r]:pr.push(r)}var G_=I.ReactCurrentBatchConfig;function si(r,a,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var g=d,y=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(E){var O=g.refs;E===null?delete O[y]:O[y]=E},a._stringRef=y,a)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function So(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function gf(r){var a=r._init;return a(r._payload)}function vf(r){function a(W,z){if(r){var q=W.deletions;q===null?(W.deletions=[z],W.flags|=16):q.push(z)}}function l(W,z){if(!r)return null;for(;z!==null;)a(W,z),z=z.sibling;return null}function d(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function g(W,z){return W=bn(W,z),W.index=0,W.sibling=null,W}function y(W,z,q){return W.index=q,r?(q=W.alternate,q!==null?(q=q.index,q<z?(W.flags|=2,z):q):(W.flags|=2,z)):(W.flags|=1048576,z)}function E(W){return r&&W.alternate===null&&(W.flags|=2),W}function O(W,z,q,ie){return z===null||z.tag!==6?(z=zu(q,W.mode,ie),z.return=W,z):(z=g(z,q),z.return=W,z)}function L(W,z,q,ie){var ge=q.type;return ge===T?re(W,z,q.props.children,ie,q.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===X&&gf(ge)===z.type)?(ie=g(z,q.props),ie.ref=si(W,z,q),ie.return=W,ie):(ie=Qo(q.type,q.key,q.props,null,W.mode,ie),ie.ref=si(W,z,q),ie.return=W,ie)}function K(W,z,q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Uu(q,W.mode,ie),z.return=W,z):(z=g(z,q.children||[]),z.return=W,z)}function re(W,z,q,ie,ge){return z===null||z.tag!==7?(z=ls(q,W.mode,ie,ge),z.return=W,z):(z=g(z,q),z.return=W,z)}function se(W,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=zu(""+z,W.mode,q),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return q=Qo(z.type,z.key,z.props,null,W.mode,q),q.ref=si(W,null,z),q.return=W,q;case $:return z=Uu(z,W.mode,q),z.return=W,z;case X:var ie=z._init;return se(W,ie(z._payload),q)}if(Ia(z)||Z(z))return z=ls(z,W.mode,q,null),z.return=W,z;So(W,z)}return null}function te(W,z,q,ie){var ge=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:O(W,z,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===ge?L(W,z,q,ie):null;case $:return q.key===ge?K(W,z,q,ie):null;case X:return ge=q._init,te(W,z,ge(q._payload),ie)}if(Ia(q)||Z(q))return ge!==null?null:re(W,z,q,ie,null);So(W,q)}return null}function ue(W,z,q,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(q)||null,O(z,W,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return W=W.get(ie.key===null?q:ie.key)||null,L(z,W,ie,ge);case $:return W=W.get(ie.key===null?q:ie.key)||null,K(z,W,ie,ge);case X:var ye=ie._init;return ue(W,z,q,ye(ie._payload),ge)}if(Ia(ie)||Z(ie))return W=W.get(q)||null,re(z,W,ie,ge,null);So(z,ie)}return null}function me(W,z,q,ie){for(var ge=null,ye=null,we=z,be=z=0,yt=null;we!==null&&be<q.length;be++){we.index>be?(yt=we,we=null):yt=we.sibling;var $e=te(W,we,q[be],ie);if($e===null){we===null&&(we=yt);break}r&&we&&$e.alternate===null&&a(W,we),z=y($e,z,be),ye===null?ge=$e:ye.sibling=$e,ye=$e,we=yt}if(be===q.length)return l(W,we),et&&es(W,be),ge;if(we===null){for(;be<q.length;be++)we=se(W,q[be],ie),we!==null&&(z=y(we,z,be),ye===null?ge=we:ye.sibling=we,ye=we);return et&&es(W,be),ge}for(we=d(W,we);be<q.length;be++)yt=ue(we,W,be,q[be],ie),yt!==null&&(r&&yt.alternate!==null&&we.delete(yt.key===null?be:yt.key),z=y(yt,z,be),ye===null?ge=yt:ye.sibling=yt,ye=yt);return r&&we.forEach(function(kn){return a(W,kn)}),et&&es(W,be),ge}function fe(W,z,q,ie){var ge=Z(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var ye=ge=null,we=z,be=z=0,yt=null,$e=q.next();we!==null&&!$e.done;be++,$e=q.next()){we.index>be?(yt=we,we=null):yt=we.sibling;var kn=te(W,we,$e.value,ie);if(kn===null){we===null&&(we=yt);break}r&&we&&kn.alternate===null&&a(W,we),z=y(kn,z,be),ye===null?ge=kn:ye.sibling=kn,ye=kn,we=yt}if($e.done)return l(W,we),et&&es(W,be),ge;if(we===null){for(;!$e.done;be++,$e=q.next())$e=se(W,$e.value,ie),$e!==null&&(z=y($e,z,be),ye===null?ge=$e:ye.sibling=$e,ye=$e);return et&&es(W,be),ge}for(we=d(W,we);!$e.done;be++,$e=q.next())$e=ue(we,W,be,$e.value,ie),$e!==null&&(r&&$e.alternate!==null&&we.delete($e.key===null?be:$e.key),z=y($e,z,be),ye===null?ge=$e:ye.sibling=$e,ye=$e);return r&&we.forEach(function(Sj){return a(W,Sj)}),et&&es(W,be),ge}function ct(W,z,q,ie){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var ge=q.key,ye=z;ye!==null;){if(ye.key===ge){if(ge=q.type,ge===T){if(ye.tag===7){l(W,ye.sibling),z=g(ye,q.props.children),z.return=W,W=z;break e}}else if(ye.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===X&&gf(ge)===ye.type){l(W,ye.sibling),z=g(ye,q.props),z.ref=si(W,ye,q),z.return=W,W=z;break e}l(W,ye);break}else a(W,ye);ye=ye.sibling}q.type===T?(z=ls(q.props.children,W.mode,ie,q.key),z.return=W,W=z):(ie=Qo(q.type,q.key,q.props,null,W.mode,ie),ie.ref=si(W,z,q),ie.return=W,W=ie)}return E(W);case $:e:{for(ye=q.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(W,z.sibling),z=g(z,q.children||[]),z.return=W,W=z;break e}else{l(W,z);break}else a(W,z);z=z.sibling}z=Uu(q,W.mode,ie),z.return=W,W=z}return E(W);case X:return ye=q._init,ct(W,z,ye(q._payload),ie)}if(Ia(q))return me(W,z,q,ie);if(Z(q))return fe(W,z,q,ie);So(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(l(W,z.sibling),z=g(z,q),z.return=W,W=z):(l(W,z),z=zu(q,W.mode,ie),z.return=W,W=z),E(W)):l(W,z)}return ct}var Bs=vf(!0),xf=vf(!1),Co=mn(null),Eo=null,Vs=null,Jc=null;function Qc(){Jc=Vs=Eo=null}function Yc(r){var a=Co.current;Ze(Co),r._currentValue=a}function Zc(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function Ws(r,a){Eo=r,Jc=Vs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(zt=!0),r.firstContext=null)}function rr(r){var a=r._currentValue;if(Jc!==r)if(r={context:r,memoizedValue:a,next:null},Vs===null){if(Eo===null)throw Error(n(308));Vs=r,Eo.dependencies={lanes:0,firstContext:r}}else Vs=Vs.next=r;return a}var ts=null;function Xc(r){ts===null?ts=[r]:ts.push(r)}function yf(r,a,l,d){var g=a.interleaved;return g===null?(l.next=l,Xc(a)):(l.next=g.next,g.next=l),a.interleaved=l,Hr(r,d)}function Hr(r,a){r.lanes|=a;var l=r.alternate;for(l!==null&&(l.lanes|=a),l=r,r=r.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),l=r,r=r.return;return l.tag===3?l.stateNode:null}var gn=!1;function eu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function vn(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,Hr(r,l)}return g=d.interleaved,g===null?(a.next=a,Xc(d)):(a.next=g.next,g.next=a),d.interleaved=a,Hr(r,l)}function Po(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,fc(r,l)}}function _f(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}function Ro(r,a,l,d){var g=r.updateQueue;gn=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var L=O,K=L.next;L.next=null,E===null?y=K:E.next=K,E=L;var re=r.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==E&&(O===null?re.firstBaseUpdate=K:O.next=K,re.lastBaseUpdate=L))}if(y!==null){var se=g.baseState;E=0,re=K=L=null,O=y;do{var te=O.lane,ue=O.eventTime;if((d&te)===te){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=r,fe=O;switch(te=a,ue=l,fe.tag){case 1:if(me=fe.payload,typeof me=="function"){se=me.call(ue,se,te);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=fe.payload,te=typeof me=="function"?me.call(ue,se,te):me,te==null)break e;se=ee({},se,te);break e;case 2:gn=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,te=g.effects,te===null?g.effects=[O]:te.push(O))}else ue={eventTime:ue,lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(K=re=ue,L=se):re=re.next=ue,E|=te;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;te=O,O=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(re===null&&(L=se),g.baseState=L,g.firstBaseUpdate=K,g.lastBaseUpdate=re,a=g.shared.interleaved,a!==null){g=a;do E|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);ss|=E,r.lanes=E,r.memoizedState=se}}function jf(r,a,l){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var d=r[a],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var ai={},Tr=mn(ai),ii=mn(ai),oi=mn(ai);function rs(r){if(r===ai)throw Error(n(174));return r}function tu(r,a){switch(Ke(oi,a),Ke(ii,r),Ke(Tr,ai),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rc(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=rc(a,r)}Ze(Tr),Ke(Tr,a)}function qs(){Ze(Tr),Ze(ii),Ze(oi)}function bf(r){rs(oi.current);var a=rs(Tr.current),l=rc(a,r.type);a!==l&&(Ke(ii,r),Ke(Tr,l))}function ru(r){ii.current===r&&(Ze(Tr),Ze(ii))}var rt=mn(0);function To(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var nu=[];function su(){for(var r=0;r<nu.length;r++)nu[r]._workInProgressVersionPrimary=null;nu.length=0}var Ao=I.ReactCurrentDispatcher,au=I.ReactCurrentBatchConfig,ns=0,nt=null,pt=null,vt=null,Io=!1,li=!1,ci=0,K_=0;function Et(){throw Error(n(321))}function iu(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!fr(r[l],a[l]))return!1;return!0}function ou(r,a,l,d,g,y){if(ns=y,nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ao.current=r===null||r.memoizedState===null?Z_:X_,r=l(d,g),li){y=0;do{if(li=!1,ci=0,25<=y)throw Error(n(301));y+=1,vt=pt=null,a.updateQueue=null,Ao.current=ej,r=l(d,g)}while(li)}if(Ao.current=Do,a=pt!==null&&pt.next!==null,ns=0,vt=pt=nt=null,Io=!1,a)throw Error(n(300));return r}function lu(){var r=ci!==0;return ci=0,r}function Ar(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?nt.memoizedState=vt=r:vt=vt.next=r,vt}function nr(){if(pt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var a=vt===null?nt.memoizedState:vt.next;if(a!==null)vt=a,pt=r;else{if(r===null)throw Error(n(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?nt.memoizedState=vt=r:vt=vt.next=r}return vt}function ui(r,a){return typeof a=="function"?a(r):a}function cu(r){var a=nr(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=pt,g=d.baseQueue,y=l.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}d.baseQueue=g=y,l.pending=null}if(g!==null){y=g.next,d=d.baseState;var O=E=null,L=null,K=y;do{var re=K.lane;if((ns&re)===re)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var se={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(O=L=se,E=d):L=L.next=se,nt.lanes|=re,ss|=re}K=K.next}while(K!==null&&K!==y);L===null?E=d:L.next=O,fr(d,a.memoizedState)||(zt=!0),a.memoizedState=d,a.baseState=E,a.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){g=r;do y=g.lane,nt.lanes|=y,ss|=y,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function uu(r){var a=nr(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=r(y,E.action),E=E.next;while(E!==g);fr(y,a.memoizedState)||(zt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function kf(){}function Nf(r,a){var l=nt,d=nr(),g=a(),y=!fr(d.memoizedState,g);if(y&&(d.memoizedState=g,zt=!0),d=d.queue,du(Ef.bind(null,l,d,r),[r]),d.getSnapshot!==a||y||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,di(9,Cf.bind(null,l,d,g,a),void 0,null),xt===null)throw Error(n(349));(ns&30)!==0||Sf(l,a,g)}return g}function Sf(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Cf(r,a,l,d){a.value=l,a.getSnapshot=d,Pf(a)&&Rf(r)}function Ef(r,a,l){return l(function(){Pf(a)&&Rf(r)})}function Pf(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!fr(r,l)}catch{return!0}}function Rf(r){var a=Hr(r,1);a!==null&&yr(a,r,1,-1)}function Tf(r){var a=Ar();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},a.queue=r,r=r.dispatch=Y_.bind(null,nt,r),[a.memoizedState,r]}function di(r,a,l,d){return r={tag:r,create:a,destroy:l,deps:d,next:null},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.lastEffect=r.next=r):(l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r)),r}function Af(){return nr().memoizedState}function Oo(r,a,l,d){var g=Ar();nt.flags|=r,g.memoizedState=di(1|a,l,void 0,d===void 0?null:d)}function Mo(r,a,l,d){var g=nr();d=d===void 0?null:d;var y=void 0;if(pt!==null){var E=pt.memoizedState;if(y=E.destroy,d!==null&&iu(d,E.deps)){g.memoizedState=di(a,l,y,d);return}}nt.flags|=r,g.memoizedState=di(1|a,l,y,d)}function If(r,a){return Oo(8390656,8,r,a)}function du(r,a){return Mo(2048,8,r,a)}function Of(r,a){return Mo(4,2,r,a)}function Mf(r,a){return Mo(4,4,r,a)}function Df(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Lf(r,a,l){return l=l!=null?l.concat([r]):null,Mo(4,4,Df.bind(null,a,r),l)}function hu(){}function Ff(r,a){var l=nr();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&iu(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function zf(r,a){var l=nr();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&iu(a,d[1])?d[0]:(r=r(),l.memoizedState=[r,a],r)}function Uf(r,a,l){return(ns&21)===0?(r.baseState&&(r.baseState=!1,zt=!0),r.memoizedState=l):(fr(l,a)||(l=pm(),nt.lanes|=l,ss|=l,r.baseState=!0),a)}function J_(r,a){var l=qe;qe=l!==0&&4>l?l:4,r(!0);var d=au.transition;au.transition={};try{r(!1),a()}finally{qe=l,au.transition=d}}function $f(){return nr().memoizedState}function Q_(r,a,l){var d=_n(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Bf(r))Vf(a,l);else if(l=yf(r,a,l,d),l!==null){var g=It();yr(l,r,d,g),Wf(l,a,d)}}function Y_(r,a,l){var d=_n(r),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bf(r))Vf(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,O=y(E,l);if(g.hasEagerState=!0,g.eagerState=O,fr(O,E)){var L=a.interleaved;L===null?(g.next=g,Xc(a)):(g.next=L.next,L.next=g),a.interleaved=g;return}}catch{}finally{}l=yf(r,a,g,d),l!==null&&(g=It(),yr(l,r,d,g),Wf(l,a,d))}}function Bf(r){var a=r.alternate;return r===nt||a!==null&&a===nt}function Vf(r,a){li=Io=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Wf(r,a,l){if((l&4194240)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,fc(r,l)}}var Do={readContext:rr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Z_={readContext:rr,useCallback:function(r,a){return Ar().memoizedState=[r,a===void 0?null:a],r},useContext:rr,useEffect:If,useImperativeHandle:function(r,a,l){return l=l!=null?l.concat([r]):null,Oo(4194308,4,Df.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Oo(4194308,4,r,a)},useInsertionEffect:function(r,a){return Oo(4,2,r,a)},useMemo:function(r,a){var l=Ar();return a=a===void 0?null:a,r=r(),l.memoizedState=[r,a],r},useReducer:function(r,a,l){var d=Ar();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},d.queue=r,r=r.dispatch=Q_.bind(null,nt,r),[d.memoizedState,r]},useRef:function(r){var a=Ar();return r={current:r},a.memoizedState=r},useState:Tf,useDebugValue:hu,useDeferredValue:function(r){return Ar().memoizedState=r},useTransition:function(){var r=Tf(!1),a=r[0];return r=J_.bind(null,r[1]),Ar().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,l){var d=nt,g=Ar();if(et){if(l===void 0)throw Error(n(407));l=l()}else{if(l=a(),xt===null)throw Error(n(349));(ns&30)!==0||Sf(d,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,If(Ef.bind(null,d,y,r),[r]),d.flags|=2048,di(9,Cf.bind(null,d,y,l,a),void 0,null),l},useId:function(){var r=Ar(),a=xt.identifierPrefix;if(et){var l=qr,d=Wr;l=(d&~(1<<32-mr(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=ci++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=K_++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},X_={readContext:rr,useCallback:Ff,useContext:rr,useEffect:du,useImperativeHandle:Lf,useInsertionEffect:Of,useLayoutEffect:Mf,useMemo:zf,useReducer:cu,useRef:Af,useState:function(){return cu(ui)},useDebugValue:hu,useDeferredValue:function(r){var a=nr();return Uf(a,pt.memoizedState,r)},useTransition:function(){var r=cu(ui)[0],a=nr().memoizedState;return[r,a]},useMutableSource:kf,useSyncExternalStore:Nf,useId:$f,unstable_isNewReconciler:!1},ej={readContext:rr,useCallback:Ff,useContext:rr,useEffect:du,useImperativeHandle:Lf,useInsertionEffect:Of,useLayoutEffect:Mf,useMemo:zf,useReducer:uu,useRef:Af,useState:function(){return uu(ui)},useDebugValue:hu,useDeferredValue:function(r){var a=nr();return pt===null?a.memoizedState=r:Uf(a,pt.memoizedState,r)},useTransition:function(){var r=uu(ui)[0],a=nr().memoizedState;return[r,a]},useMutableSource:kf,useSyncExternalStore:Nf,useId:$f,unstable_isNewReconciler:!1};function gr(r,a){if(r&&r.defaultProps){a=ee({},a),r=r.defaultProps;for(var l in r)a[l]===void 0&&(a[l]=r[l]);return a}return a}function mu(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:ee({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Lo={isMounted:function(r){return(r=r._reactInternals)?Qn(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var d=It(),g=_n(r),y=Gr(d,g);y.payload=a,l!=null&&(y.callback=l),a=vn(r,y,g),a!==null&&(yr(a,r,g,d),Po(a,r,g))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=It(),g=_n(r),y=Gr(d,g);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=vn(r,y,g),a!==null&&(yr(a,r,g,d),Po(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=It(),d=_n(r),g=Gr(l,d);g.tag=2,a!=null&&(g.callback=a),a=vn(r,g,d),a!==null&&(yr(a,r,d,l),Po(a,r,d))}};function qf(r,a,l,d,g,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):a.prototype&&a.prototype.isPureReactComponent?!Ya(l,d)||!Ya(g,y):!0}function Hf(r,a,l){var d=!1,g=fn,y=a.contextType;return typeof y=="object"&&y!==null?y=rr(y):(g=Ft(a)?Zn:Ct.current,d=a.contextTypes,y=(d=d!=null)?Fs(r,g):fn),a=new a(l,y),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lo,r.stateNode=a,a._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),a}function Gf(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&Lo.enqueueReplaceState(a,a.state,null)}function fu(r,a,l,d){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},eu(r);var y=a.contextType;typeof y=="object"&&y!==null?g.context=rr(y):(y=Ft(a)?Zn:Ct.current,g.context=Fs(r,y)),g.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(mu(r,a,y,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Lo.enqueueReplaceState(g,g.state,null),Ro(r,l,g,d),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Hs(r,a){try{var l="",d=a;do l+=Ie(d),d=d.return;while(d);var g=l}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:a,stack:g,digest:null}}function pu(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function gu(r,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var tj=typeof WeakMap=="function"?WeakMap:Map;function Kf(r,a,l){l=Gr(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){Wo||(Wo=!0,Tu=d),gu(r,a)},l}function Jf(r,a,l){l=Gr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;l.payload=function(){return d(g)},l.callback=function(){gu(r,a)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){gu(r,a),typeof d!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),l}function Qf(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new tj;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(g.add(l),r=pj.bind(null,r,a,l),a.then(r,r))}function Yf(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function Zf(r,a,l,d,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=Gr(-1,1),a.tag=2,vn(l,a,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var rj=I.ReactCurrentOwner,zt=!1;function At(r,a,l,d){a.child=r===null?xf(a,null,l,d):Bs(a,r.child,l,d)}function Xf(r,a,l,d,g){l=l.render;var y=a.ref;return Ws(a,g),d=ou(r,a,l,d,y,g),l=lu(),r!==null&&!zt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,Kr(r,a,g)):(et&&l&&Wc(a),a.flags|=1,At(r,a,d,g),a.child)}function ep(r,a,l,d,g){if(r===null){var y=l.type;return typeof y=="function"&&!Fu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=y,tp(r,a,y,d,g)):(r=Qo(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,(r.lanes&g)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(E,d)&&r.ref===a.ref)return Kr(r,a,g)}return a.flags|=1,r=bn(y,d),r.ref=a.ref,r.return=a,a.child=r}function tp(r,a,l,d,g){if(r!==null){var y=r.memoizedProps;if(Ya(y,d)&&r.ref===a.ref)if(zt=!1,a.pendingProps=d=y,(r.lanes&g)!==0)(r.flags&131072)!==0&&(zt=!0);else return a.lanes=r.lanes,Kr(r,a,g)}return vu(r,a,l,d,g)}function rp(r,a,l){var d=a.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ks,Yt),Yt|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ke(Ks,Yt),Yt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ke(Ks,Yt),Yt|=d}else y!==null?(d=y.baseLanes|l,a.memoizedState=null):d=l,Ke(Ks,Yt),Yt|=d;return At(r,a,g,l),a.child}function np(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function vu(r,a,l,d,g){var y=Ft(l)?Zn:Ct.current;return y=Fs(a,y),Ws(a,g),l=ou(r,a,l,d,y,g),d=lu(),r!==null&&!zt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,Kr(r,a,g)):(et&&d&&Wc(a),a.flags|=1,At(r,a,l,g),a.child)}function sp(r,a,l,d,g){if(Ft(l)){var y=!0;_o(a)}else y=!1;if(Ws(a,g),a.stateNode===null)zo(r,a),Hf(a,l,d),fu(a,l,d,g),d=!0;else if(r===null){var E=a.stateNode,O=a.memoizedProps;E.props=O;var L=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=rr(K):(K=Ft(l)?Zn:Ct.current,K=Fs(a,K));var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==d||L!==K)&&Gf(a,E,d,K),gn=!1;var te=a.memoizedState;E.state=te,Ro(a,d,E,g),L=a.memoizedState,O!==d||te!==L||Lt.current||gn?(typeof re=="function"&&(mu(a,l,re,d),L=a.memoizedState),(O=gn||qf(a,l,O,d,te,L,K))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=L),E.props=d,E.state=L,E.context=K,d=O):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{E=a.stateNode,wf(r,a),O=a.memoizedProps,K=a.type===a.elementType?O:gr(a.type,O),E.props=K,se=a.pendingProps,te=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=rr(L):(L=Ft(l)?Zn:Ct.current,L=Fs(a,L));var ue=l.getDerivedStateFromProps;(re=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==se||te!==L)&&Gf(a,E,d,L),gn=!1,te=a.memoizedState,E.state=te,Ro(a,d,E,g);var me=a.memoizedState;O!==se||te!==me||Lt.current||gn?(typeof ue=="function"&&(mu(a,l,ue,d),me=a.memoizedState),(K=gn||qf(a,l,K,d,te,me,L)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,me,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,me,L)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=me),E.props=d,E.state=me,E.context=L,d=K):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),d=!1)}return xu(r,a,l,d,y,g)}function xu(r,a,l,d,g,y){np(r,a);var E=(a.flags&128)!==0;if(!d&&!E)return g&&cf(a,l,!1),Kr(r,a,y);d=a.stateNode,rj.current=a;var O=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,r!==null&&E?(a.child=Bs(a,r.child,null,y),a.child=Bs(a,null,O,y)):At(r,a,O,y),a.memoizedState=d.state,g&&cf(a,l,!0),a.child}function ap(r){var a=r.stateNode;a.pendingContext?of(r,a.pendingContext,a.pendingContext!==a.context):a.context&&of(r,a.context,!1),tu(r,a.containerInfo)}function ip(r,a,l,d,g){return $s(),Kc(g),a.flags|=256,At(r,a,l,d),a.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function wu(r){return{baseLanes:r,cachePool:null,transitions:null}}function op(r,a,l){var d=a.pendingProps,g=rt.current,y=!1,E=(a.flags&128)!==0,O;if((O=E)||(O=r!==null&&r.memoizedState===null?!1:(g&2)!==0),O?(y=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Ke(rt,g&1),r===null)return Gc(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(E=d.children,r=d.fallback,y?(d=a.mode,y=a.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Yo(E,d,0,null),r=ls(r,d,l,null),y.return=a,r.return=a,y.sibling=r,a.child=y,a.child.memoizedState=wu(l),a.memoizedState=yu,r):_u(a,E));if(g=r.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return nj(r,a,E,d,O,g,l);if(y){y=d.fallback,E=a.mode,g=r.child,O=g.sibling;var L={mode:"hidden",children:d.children};return(E&1)===0&&a.child!==g?(d=a.child,d.childLanes=0,d.pendingProps=L,a.deletions=null):(d=bn(g,L),d.subtreeFlags=g.subtreeFlags&14680064),O!==null?y=bn(O,y):(y=ls(y,E,l,null),y.flags|=2),y.return=a,d.return=a,d.sibling=y,a.child=d,d=y,y=a.child,E=r.child.memoizedState,E=E===null?wu(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,a.memoizedState=yu,d}return y=r.child,r=y.sibling,d=bn(y,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=l),d.return=a,d.sibling=null,r!==null&&(l=a.deletions,l===null?(a.deletions=[r],a.flags|=16):l.push(r)),a.child=d,a.memoizedState=null,d}function _u(r,a){return a=Yo({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Fo(r,a,l,d){return d!==null&&Kc(d),Bs(a,r.child,null,l),r=_u(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function nj(r,a,l,d,g,y,E){if(l)return a.flags&256?(a.flags&=-257,d=pu(Error(n(422))),Fo(r,a,E,d)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(y=d.fallback,g=a.mode,d=Yo({mode:"visible",children:d.children},g,0,null),y=ls(y,g,E,null),y.flags|=2,d.return=a,y.return=a,d.sibling=y,a.child=d,(a.mode&1)!==0&&Bs(a,r.child,null,E),a.child.memoizedState=wu(E),a.memoizedState=yu,y);if((a.mode&1)===0)return Fo(r,a,E,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var O=d.dgst;return d=O,y=Error(n(419)),d=pu(y,d,void 0),Fo(r,a,E,d)}if(O=(E&r.childLanes)!==0,zt||O){if(d=xt,d!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|E))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Hr(r,g),yr(d,r,g,-1))}return Lu(),d=pu(Error(n(421))),Fo(r,a,E,d)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=gj.bind(null,r),g._reactRetry=a,null):(r=y.treeContext,Qt=hn(g.nextSibling),Jt=a,et=!0,pr=null,r!==null&&(er[tr++]=Wr,er[tr++]=qr,er[tr++]=Xn,Wr=r.id,qr=r.overflow,Xn=a),a=_u(a,d.children),a.flags|=4096,a)}function lp(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Zc(r.return,a,l)}function ju(r,a,l,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=g)}function cp(r,a,l){var d=a.pendingProps,g=d.revealOrder,y=d.tail;if(At(r,a,d.children,l),d=rt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lp(r,l,a);else if(r.tag===19)lp(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ke(rt,d),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&To(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),ju(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&To(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}ju(a,!0,l,null,y);break;case"together":ju(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zo(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Kr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),ss|=a.lanes,(l&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,l=bn(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=bn(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function sj(r,a,l){switch(a.tag){case 3:ap(a),$s();break;case 5:bf(a);break;case 1:Ft(a.type)&&_o(a);break;case 4:tu(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,g=a.memoizedProps.value;Ke(Co,d._currentValue),d._currentValue=g;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Ke(rt,rt.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?op(r,a,l):(Ke(rt,rt.current&1),r=Kr(r,a,l),r!==null?r.sibling:null);Ke(rt,rt.current&1);break;case 19:if(d=(l&a.childLanes)!==0,(r.flags&128)!==0){if(d)return cp(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ke(rt,rt.current),d)break;return null;case 22:case 23:return a.lanes=0,rp(r,a,l)}return Kr(r,a,l)}var up,bu,dp,hp;up=function(r,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bu=function(){},dp=function(r,a,l,d){var g=r.memoizedProps;if(g!==d){r=a.stateNode,rs(Tr.current);var y=null;switch(l){case"input":g=hr(r,g),d=hr(r,d),y=[];break;case"select":g=ee({},g,{value:void 0}),d=ee({},d,{value:void 0}),y=[];break;case"textarea":g=tc(r,g),d=tc(r,d),y=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=xo)}nc(l,d);var E;l=null;for(K in g)if(!d.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var O=g[K];for(E in O)O.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var L=d[K];if(O=g?.[K],d.hasOwnProperty(K)&&L!==O&&(L!=null||O!=null))if(K==="style")if(O){for(E in O)!O.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&O[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(K,l)),l=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,O=O?O.__html:void 0,L!=null&&O!==L&&(y=y||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&Ye("scroll",r),y||O===L||(y=[])):(y=y||[]).push(K,L))}l&&(y=y||[]).push("style",l);var K=y;(a.updateQueue=K)&&(a.flags|=4)}},hp=function(r,a,l,d){l!==d&&(a.flags|=4)};function hi(r,a){if(!et)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Pt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function aj(r,a,l){var d=a.pendingProps;switch(qc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Ft(a.type)&&wo(),Pt(a),null;case 3:return d=a.stateNode,qs(),Ze(Lt),Ze(Ct),su(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(No(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pr!==null&&(Ou(pr),pr=null))),bu(r,a),Pt(a),null;case 5:ru(a);var g=rs(oi.current);if(l=a.type,r!==null&&a.stateNode!=null)dp(r,a,l,d,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(n(166));return Pt(a),null}if(r=rs(Tr.current),No(a)){d=a.stateNode,l=a.type;var y=a.memoizedProps;switch(d[Rr]=a,d[ri]=y,r=(a.mode&1)!==0,l){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(g=0;g<Xa.length;g++)Ye(Xa[g],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":ks(d,y),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",d);break;case"textarea":Kh(d,y),Ye("invalid",d)}nc(l,y),g=null;for(var E in y)if(y.hasOwnProperty(E)){var O=y[E];E==="children"?typeof O=="string"?d.textContent!==O&&(y.suppressHydrationWarning!==!0&&vo(d.textContent,O,r),g=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&vo(d.textContent,O,r),g=["children",""+O]):o.hasOwnProperty(E)&&O!=null&&E==="onScroll"&&Ye("scroll",d)}switch(l){case"input":We(d),Gh(d,y,!0);break;case"textarea":We(d),Qh(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=xo)}d=g,a.updateQueue=d,d!==null&&(a.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Yh(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Rr]=a,r[ri]=d,up(r,a,!1,!1),a.stateNode=r;e:{switch(E=sc(l,d),l){case"dialog":Ye("cancel",r),Ye("close",r),g=d;break;case"iframe":case"object":case"embed":Ye("load",r),g=d;break;case"video":case"audio":for(g=0;g<Xa.length;g++)Ye(Xa[g],r);g=d;break;case"source":Ye("error",r),g=d;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),g=d;break;case"details":Ye("toggle",r),g=d;break;case"input":ks(r,d),g=hr(r,d),Ye("invalid",r);break;case"option":g=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},g=ee({},d,{value:void 0}),Ye("invalid",r);break;case"textarea":Kh(r,d),g=tc(r,d),Ye("invalid",r);break;default:g=d}nc(l,g),O=g;for(y in O)if(O.hasOwnProperty(y)){var L=O[y];y==="style"?em(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Zh(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Oa(r,L):typeof L=="number"&&Oa(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Ye("scroll",r):L!=null&&k(r,y,L,E))}switch(l){case"input":We(r),Gh(r,d,!1);break;case"textarea":We(r),Qh(r);break;case"option":d.value!=null&&r.setAttribute("value",""+xe(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Ss(r,!!d.multiple,y,!1):d.defaultValue!=null&&Ss(r,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=xo)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pt(a),null;case 6:if(r&&a.stateNode!=null)hp(r,a,r.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(n(166));if(l=rs(oi.current),rs(Tr.current),No(a)){if(d=a.stateNode,l=a.memoizedProps,d[Rr]=a,(y=d.nodeValue!==l)&&(r=Jt,r!==null))switch(r.tag){case 3:vo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vo(d.nodeValue,l,(r.mode&1)!==0)}y&&(a.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Rr]=a,a.stateNode=d}return Pt(a),null;case 13:if(Ze(rt),d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&Qt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)pf(),$s(),a.flags|=98560,y=!1;else if(y=No(a),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Rr]=a}else $s(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),y=!1}else pr!==null&&(Ou(pr),pr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(rt.current&1)!==0?gt===0&&(gt=3):Lu())),a.updateQueue!==null&&(a.flags|=4),Pt(a),null);case 4:return qs(),bu(r,a),r===null&&ei(a.stateNode.containerInfo),Pt(a),null;case 10:return Yc(a.type._context),Pt(a),null;case 17:return Ft(a.type)&&wo(),Pt(a),null;case 19:if(Ze(rt),y=a.memoizedState,y===null)return Pt(a),null;if(d=(a.flags&128)!==0,E=y.rendering,E===null)if(d)hi(y,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(E=To(r),E!==null){for(a.flags|=128,hi(y,!1),d=E.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=l,l=a.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(rt,rt.current&1|2),a.child}r=r.sibling}y.tail!==null&&lt()>Js&&(a.flags|=128,d=!0,hi(y,!1),a.lanes=4194304)}else{if(!d)if(r=To(E),r!==null){if(a.flags|=128,d=!0,l=r.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),hi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!et)return Pt(a),null}else 2*lt()-y.renderingStartTime>Js&&l!==1073741824&&(a.flags|=128,d=!0,hi(y,!1),a.lanes=4194304);y.isBackwards?(E.sibling=a.child,a.child=E):(l=y.last,l!==null?l.sibling=E:a.child=E,y.last=E)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=lt(),a.sibling=null,l=rt.current,Ke(rt,d?l&1|2:l&1),a):(Pt(a),null);case 22:case 23:return Du(),d=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Yt&1073741824)!==0&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function ij(r,a){switch(qc(a),a.tag){case 1:return Ft(a.type)&&wo(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return qs(),Ze(Lt),Ze(Ct),su(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return ru(a),null;case 13:if(Ze(rt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));$s()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Ze(rt),null;case 4:return qs(),null;case 10:return Yc(a.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Uo=!1,Rt=!1,oj=typeof WeakSet=="function"?WeakSet:Set,he=null;function Gs(r,a){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){st(r,a,d)}else l.current=null}function ku(r,a,l){try{l()}catch(d){st(r,a,d)}}var mp=!1;function lj(r,a){if(Dc=ao,r=Wm(),Ec(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,O=-1,L=-1,K=0,re=0,se=r,te=null;t:for(;;){for(var ue;se!==l||g!==0&&se.nodeType!==3||(O=E+g),se!==y||d!==0&&se.nodeType!==3||(L=E+d),se.nodeType===3&&(E+=se.nodeValue.length),(ue=se.firstChild)!==null;)te=se,se=ue;for(;;){if(se===r)break t;if(te===l&&++K===g&&(O=E),te===y&&++re===d&&(L=E),(ue=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ue}l=O===-1||L===-1?null:{start:O,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lc={focusedElem:r,selectionRange:l},ao=!1,he=a;he!==null;)if(a=he,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,he=r;else for(;he!==null;){a=he;try{var me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var fe=me.memoizedProps,ct=me.memoizedState,W=a.stateNode,z=W.getSnapshotBeforeUpdate(a.elementType===a.type?fe:gr(a.type,fe),ct);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){st(a,a.return,ie)}if(r=a.sibling,r!==null){r.return=a.return,he=r;break}he=a.return}return me=mp,mp=!1,me}function mi(r,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&ku(a,l,y)}g=g.next}while(g!==d)}}function $o(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function Nu(r){var a=r.ref;if(a!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof a=="function"?a(r):a.current=r}}function fp(r){var a=r.alternate;a!==null&&(r.alternate=null,fp(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Rr],delete a[ri],delete a[$c],delete a[W_],delete a[q_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function pp(r){return r.tag===5||r.tag===3||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||pp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Su(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=xo));else if(d!==4&&(r=r.child,r!==null))for(Su(r,a,l),r=r.sibling;r!==null;)Su(r,a,l),r=r.sibling}function Cu(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Cu(r,a,l),r=r.sibling;r!==null;)Cu(r,a,l),r=r.sibling}var bt=null,vr=!1;function xn(r,a,l){for(l=l.child;l!==null;)vp(r,a,l),l=l.sibling}function vp(r,a,l){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Xi,l)}catch{}switch(l.tag){case 5:Rt||Gs(l,a);case 6:var d=bt,g=vr;bt=null,xn(r,a,l),bt=d,vr=g,bt!==null&&(vr?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(vr?(r=bt,l=l.stateNode,r.nodeType===8?Uc(r.parentNode,l):r.nodeType===1&&Uc(r,l),qa(r)):Uc(bt,l.stateNode));break;case 4:d=bt,g=vr,bt=l.stateNode.containerInfo,vr=!0,xn(r,a,l),bt=d,vr=g;break;case 0:case 11:case 14:case 15:if(!Rt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var y=g,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&ku(l,a,E),g=g.next}while(g!==d)}xn(r,a,l);break;case 1:if(!Rt&&(Gs(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){st(l,a,O)}xn(r,a,l);break;case 21:xn(r,a,l);break;case 22:l.mode&1?(Rt=(d=Rt)||l.memoizedState!==null,xn(r,a,l),Rt=d):xn(r,a,l);break;default:xn(r,a,l)}}function xp(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new oj),a.forEach(function(d){var g=vj.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}}function xr(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var y=r,E=a,O=E;e:for(;O!==null;){switch(O.tag){case 5:bt=O.stateNode,vr=!1;break e;case 3:bt=O.stateNode.containerInfo,vr=!0;break e;case 4:bt=O.stateNode.containerInfo,vr=!0;break e}O=O.return}if(bt===null)throw Error(n(160));vp(y,E,g),bt=null,vr=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(K){st(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)yp(a,r),a=a.sibling}function yp(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(xr(a,r),Ir(r),d&4){try{mi(3,r,r.return),$o(3,r)}catch(fe){st(r,r.return,fe)}try{mi(5,r,r.return)}catch(fe){st(r,r.return,fe)}}break;case 1:xr(a,r),Ir(r),d&512&&l!==null&&Gs(l,l.return);break;case 5:if(xr(a,r),Ir(r),d&512&&l!==null&&Gs(l,l.return),r.flags&32){var g=r.stateNode;try{Oa(g,"")}catch(fe){st(r,r.return,fe)}}if(d&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,O=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&Ns(g,y),sc(O,E);var K=sc(O,y);for(E=0;E<L.length;E+=2){var re=L[E],se=L[E+1];re==="style"?em(g,se):re==="dangerouslySetInnerHTML"?Zh(g,se):re==="children"?Oa(g,se):k(g,re,se,K)}switch(O){case"input":Jn(g,y);break;case"textarea":Jh(g,y);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Ss(g,!!y.multiple,ue,!1):te!==!!y.multiple&&(y.defaultValue!=null?Ss(g,!!y.multiple,y.defaultValue,!0):Ss(g,!!y.multiple,y.multiple?[]:"",!1))}g[ri]=y}catch(fe){st(r,r.return,fe)}}break;case 6:if(xr(a,r),Ir(r),d&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(fe){st(r,r.return,fe)}}break;case 3:if(xr(a,r),Ir(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qa(a.containerInfo)}catch(fe){st(r,r.return,fe)}break;case 4:xr(a,r),Ir(r);break;case 13:xr(a,r),Ir(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Ru=lt())),d&4&&xp(r);break;case 22:if(re=l!==null&&l.memoizedState!==null,r.mode&1?(Rt=(K=Rt)||re,xr(a,r),Rt=K):xr(a,r),Ir(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!re&&(r.mode&1)!==0)for(he=r,re=r.child;re!==null;){for(se=he=re;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:mi(4,te,te.return);break;case 1:Gs(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){d=te,l=te.return;try{a=d,me.props=a.memoizedProps,me.state=a.memoizedState,me.componentWillUnmount()}catch(fe){st(d,l,fe)}}break;case 5:Gs(te,te.return);break;case 22:if(te.memoizedState!==null){jp(se);continue}}ue!==null?(ue.return=te,he=ue):jp(se)}re=re.sibling}e:for(re=null,se=r;;){if(se.tag===5){if(re===null){re=se;try{g=se.stateNode,K?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=se.stateNode,L=se.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,O.style.display=Xh("display",E))}catch(fe){st(r,r.return,fe)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(fe){st(r,r.return,fe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:xr(a,r),Ir(r),d&4&&xp(r);break;case 21:break;default:xr(a,r),Ir(r)}}function Ir(r){var a=r.flags;if(a&2){try{e:{for(var l=r.return;l!==null;){if(pp(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Oa(g,""),d.flags&=-33);var y=gp(r);Cu(r,y,g);break;case 3:case 4:var E=d.stateNode.containerInfo,O=gp(r);Su(r,O,E);break;default:throw Error(n(161))}}catch(L){st(r,r.return,L)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function cj(r,a,l){he=r,wp(r)}function wp(r,a,l){for(var d=(r.mode&1)!==0;he!==null;){var g=he,y=g.child;if(g.tag===22&&d){var E=g.memoizedState!==null||Uo;if(!E){var O=g.alternate,L=O!==null&&O.memoizedState!==null||Rt;O=Uo;var K=Rt;if(Uo=E,(Rt=L)&&!K)for(he=g;he!==null;)E=he,L=E.child,E.tag===22&&E.memoizedState!==null?bp(g):L!==null?(L.return=E,he=L):bp(g);for(;y!==null;)he=y,wp(y),y=y.sibling;he=g,Uo=O,Rt=K}_p(r)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,he=y):_p(r)}}function _p(r){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rt||$o(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!Rt)if(l===null)d.componentDidMount();else{var g=a.elementType===a.type?l.memoizedProps:gr(a.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&jf(a,y,d);break;case 3:var E=a.updateQueue;if(E!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}jf(a,E,l)}break;case 5:var O=a.stateNode;if(l===null&&a.flags&4){l=O;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&qa(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rt||a.flags&512&&Nu(a)}catch(te){st(a,a.return,te)}}if(a===r){he=null;break}if(l=a.sibling,l!==null){l.return=a.return,he=l;break}he=a.return}}function jp(r){for(;he!==null;){var a=he;if(a===r){he=null;break}var l=a.sibling;if(l!==null){l.return=a.return,he=l;break}he=a.return}}function bp(r){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{$o(4,a)}catch(L){st(a,l,L)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var g=a.return;try{d.componentDidMount()}catch(L){st(a,g,L)}}var y=a.return;try{Nu(a)}catch(L){st(a,y,L)}break;case 5:var E=a.return;try{Nu(a)}catch(L){st(a,E,L)}}}catch(L){st(a,a.return,L)}if(a===r){he=null;break}var O=a.sibling;if(O!==null){O.return=a.return,he=O;break}he=a.return}}var uj=Math.ceil,Bo=I.ReactCurrentDispatcher,Eu=I.ReactCurrentOwner,sr=I.ReactCurrentBatchConfig,Ue=0,xt=null,dt=null,kt=0,Yt=0,Ks=mn(0),gt=0,fi=null,ss=0,Vo=0,Pu=0,pi=null,Ut=null,Ru=0,Js=1/0,Jr=null,Wo=!1,Tu=null,yn=null,qo=!1,wn=null,Ho=0,gi=0,Au=null,Go=-1,Ko=0;function It(){return(Ue&6)!==0?lt():Go!==-1?Go:Go=lt()}function _n(r){return(r.mode&1)===0?1:(Ue&2)!==0&&kt!==0?kt&-kt:G_.transition!==null?(Ko===0&&(Ko=pm()),Ko):(r=qe,r!==0||(r=window.event,r=r===void 0?16:km(r.type)),r)}function yr(r,a,l,d){if(50<gi)throw gi=0,Au=null,Error(n(185));Ua(r,l,d),((Ue&2)===0||r!==xt)&&(r===xt&&((Ue&2)===0&&(Vo|=l),gt===4&&jn(r,kt)),$t(r,d),l===1&&Ue===0&&(a.mode&1)===0&&(Js=lt()+500,jo&&pn()))}function $t(r,a){var l=r.callbackNode;G0(r,a);var d=ro(r,r===xt?kt:0);if(d===0)l!==null&&hm(l),r.callbackNode=null,r.callbackPriority=0;else if(a=d&-d,r.callbackPriority!==a){if(l!=null&&hm(l),a===1)r.tag===0?H_(Np.bind(null,r)):uf(Np.bind(null,r)),B_(function(){(Ue&6)===0&&pn()}),l=null;else{switch(gm(d)){case 1:l=dc;break;case 4:l=mm;break;case 16:l=Zi;break;case 536870912:l=fm;break;default:l=Zi}l=Ip(l,kp.bind(null,r))}r.callbackPriority=a,r.callbackNode=l}}function kp(r,a){if(Go=-1,Ko=0,(Ue&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Qs()&&r.callbackNode!==l)return null;var d=ro(r,r===xt?kt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||a)a=Jo(r,d);else{a=d;var g=Ue;Ue|=2;var y=Cp();(xt!==r||kt!==a)&&(Jr=null,Js=lt()+500,is(r,a));do try{mj();break}catch(O){Sp(r,O)}while(!0);Qc(),Bo.current=y,Ue=g,dt!==null?a=0:(xt=null,kt=0,a=gt)}if(a!==0){if(a===2&&(g=hc(r),g!==0&&(d=g,a=Iu(r,g))),a===1)throw l=fi,is(r,0),jn(r,d),$t(r,lt()),l;if(a===6)jn(r,d);else{if(g=r.current.alternate,(d&30)===0&&!dj(g)&&(a=Jo(r,d),a===2&&(y=hc(r),y!==0&&(d=y,a=Iu(r,y))),a===1))throw l=fi,is(r,0),jn(r,d),$t(r,lt()),l;switch(r.finishedWork=g,r.finishedLanes=d,a){case 0:case 1:throw Error(n(345));case 2:os(r,Ut,Jr);break;case 3:if(jn(r,d),(d&130023424)===d&&(a=Ru+500-lt(),10<a)){if(ro(r,0)!==0)break;if(g=r.suspendedLanes,(g&d)!==d){It(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=zc(os.bind(null,r,Ut,Jr),a);break}os(r,Ut,Jr);break;case 4:if(jn(r,d),(d&4194240)===d)break;for(a=r.eventTimes,g=-1;0<d;){var E=31-mr(d);y=1<<E,E=a[E],E>g&&(g=E),d&=~y}if(d=g,d=lt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*uj(d/1960))-d,10<d){r.timeoutHandle=zc(os.bind(null,r,Ut,Jr),d);break}os(r,Ut,Jr);break;case 5:os(r,Ut,Jr);break;default:throw Error(n(329))}}}return $t(r,lt()),r.callbackNode===l?kp.bind(null,r):null}function Iu(r,a){var l=pi;return r.current.memoizedState.isDehydrated&&(is(r,a).flags|=256),r=Jo(r,a),r!==2&&(a=Ut,Ut=l,a!==null&&Ou(a)),r}function Ou(r){Ut===null?Ut=r:Ut.push.apply(Ut,r)}function dj(r){for(var a=r;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!fr(y(),g))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function jn(r,a){for(a&=~Pu,a&=~Vo,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var l=31-mr(a),d=1<<l;r[l]=-1,a&=~d}}function Np(r){if((Ue&6)!==0)throw Error(n(327));Qs();var a=ro(r,0);if((a&1)===0)return $t(r,lt()),null;var l=Jo(r,a);if(r.tag!==0&&l===2){var d=hc(r);d!==0&&(a=d,l=Iu(r,d))}if(l===1)throw l=fi,is(r,0),jn(r,a),$t(r,lt()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,os(r,Ut,Jr),$t(r,lt()),null}function Mu(r,a){var l=Ue;Ue|=1;try{return r(a)}finally{Ue=l,Ue===0&&(Js=lt()+500,jo&&pn())}}function as(r){wn!==null&&wn.tag===0&&(Ue&6)===0&&Qs();var a=Ue;Ue|=1;var l=sr.transition,d=qe;try{if(sr.transition=null,qe=1,r)return r()}finally{qe=d,sr.transition=l,Ue=a,(Ue&6)===0&&pn()}}function Du(){Yt=Ks.current,Ze(Ks)}function is(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,$_(l)),dt!==null)for(l=dt.return;l!==null;){var d=l;switch(qc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wo();break;case 3:qs(),Ze(Lt),Ze(Ct),su();break;case 5:ru(d);break;case 4:qs();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Yc(d.type._context);break;case 22:case 23:Du()}l=l.return}if(xt=r,dt=r=bn(r.current,null),kt=Yt=a,gt=0,fi=null,Pu=Vo=ss=0,Ut=pi=null,ts!==null){for(a=0;a<ts.length;a++)if(l=ts[a],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=g,d.next=E}l.pending=d}ts=null}return r}function Sp(r,a){do{var l=dt;try{if(Qc(),Ao.current=Do,Io){for(var d=nt.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Io=!1}if(ns=0,vt=pt=nt=null,li=!1,ci=0,Eu.current=null,l===null||l.return===null){gt=1,fi=a,dt=null;break}e:{var y=r,E=l.return,O=l,L=a;if(a=kt,O.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,re=O,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=Yf(E);if(ue!==null){ue.flags&=-257,Zf(ue,E,O,y,a),ue.mode&1&&Qf(y,K,a),a=ue,L=K;var me=a.updateQueue;if(me===null){var fe=new Set;fe.add(L),a.updateQueue=fe}else me.add(L);break e}else{if((a&1)===0){Qf(y,K,a),Lu();break e}L=Error(n(426))}}else if(et&&O.mode&1){var ct=Yf(E);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Zf(ct,E,O,y,a),Kc(Hs(L,O));break e}}y=L=Hs(L,O),gt!==4&&(gt=2),pi===null?pi=[y]:pi.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var W=Kf(y,L,a);_f(y,W);break e;case 1:O=L;var z=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(yn===null||!yn.has(q)))){y.flags|=65536,a&=-a,y.lanes|=a;var ie=Jf(y,O,a);_f(y,ie);break e}}y=y.return}while(y!==null)}Pp(l)}catch(ge){a=ge,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function Cp(){var r=Bo.current;return Bo.current=Do,r===null?Do:r}function Lu(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||(ss&268435455)===0&&(Vo&268435455)===0||jn(xt,kt)}function Jo(r,a){var l=Ue;Ue|=2;var d=Cp();(xt!==r||kt!==a)&&(Jr=null,is(r,a));do try{hj();break}catch(g){Sp(r,g)}while(!0);if(Qc(),Ue=l,Bo.current=d,dt!==null)throw Error(n(261));return xt=null,kt=0,gt}function hj(){for(;dt!==null;)Ep(dt)}function mj(){for(;dt!==null&&!F0();)Ep(dt)}function Ep(r){var a=Ap(r.alternate,r,Yt);r.memoizedProps=r.pendingProps,a===null?Pp(r):dt=a,Eu.current=null}function Pp(r){var a=r;do{var l=a.alternate;if(r=a.return,(a.flags&32768)===0){if(l=aj(l,a,Yt),l!==null){dt=l;return}}else{if(l=ij(l,a),l!==null){l.flags&=32767,dt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,dt=null;return}}if(a=a.sibling,a!==null){dt=a;return}dt=a=r}while(a!==null);gt===0&&(gt=5)}function os(r,a,l){var d=qe,g=sr.transition;try{sr.transition=null,qe=1,fj(r,a,l,d)}finally{sr.transition=g,qe=d}return null}function fj(r,a,l,d){do Qs();while(wn!==null);if((Ue&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(K0(r,y),r===xt&&(dt=xt=null,kt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||qo||(qo=!0,Ip(Zi,function(){return Qs(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=sr.transition,sr.transition=null;var E=qe;qe=1;var O=Ue;Ue|=4,Eu.current=null,lj(r,l),yp(l,r),O_(Lc),ao=!!Dc,Lc=Dc=null,r.current=l,cj(l),z0(),Ue=O,qe=E,sr.transition=y}else r.current=l;if(qo&&(qo=!1,wn=r,Ho=g),y=r.pendingLanes,y===0&&(yn=null),B0(l.stateNode),$t(r,lt()),a!==null)for(d=r.onRecoverableError,l=0;l<a.length;l++)g=a[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Wo)throw Wo=!1,r=Tu,Tu=null,r;return(Ho&1)!==0&&r.tag!==0&&Qs(),y=r.pendingLanes,(y&1)!==0?r===Au?gi++:(gi=0,Au=r):gi=0,pn(),null}function Qs(){if(wn!==null){var r=gm(Ho),a=sr.transition,l=qe;try{if(sr.transition=null,qe=16>r?16:r,wn===null)var d=!1;else{if(r=wn,wn=null,Ho=0,(Ue&6)!==0)throw Error(n(331));var g=Ue;for(Ue|=4,he=r.current;he!==null;){var y=he,E=y.child;if((he.flags&16)!==0){var O=y.deletions;if(O!==null){for(var L=0;L<O.length;L++){var K=O[L];for(he=K;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:mi(8,re,y)}var se=re.child;if(se!==null)se.return=re,he=se;else for(;he!==null;){re=he;var te=re.sibling,ue=re.return;if(fp(re),re===K){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var me=y.alternate;if(me!==null){var fe=me.child;if(fe!==null){me.child=null;do{var ct=fe.sibling;fe.sibling=null,fe=ct}while(fe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,he=E;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:mi(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,he=W;break e}he=y.return}}var z=r.current;for(he=z;he!==null;){E=he;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,he=q;else e:for(E=z;he!==null;){if(O=he,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:$o(9,O)}}catch(ge){st(O,O.return,ge)}if(O===E){he=null;break e}var ie=O.sibling;if(ie!==null){ie.return=O.return,he=ie;break e}he=O.return}}if(Ue=g,pn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Xi,r)}catch{}d=!0}return d}finally{qe=l,sr.transition=a}}return!1}function Rp(r,a,l){a=Hs(l,a),a=Kf(r,a,1),r=vn(r,a,1),a=It(),r!==null&&(Ua(r,1,a),$t(r,a))}function st(r,a,l){if(r.tag===3)Rp(r,r,l);else for(;a!==null;){if(a.tag===3){Rp(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yn===null||!yn.has(d))){r=Hs(l,r),r=Jf(a,r,1),a=vn(a,r,1),r=It(),a!==null&&(Ua(a,1,r),$t(a,r));break}}a=a.return}}function pj(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),a=It(),r.pingedLanes|=r.suspendedLanes&l,xt===r&&(kt&l)===l&&(gt===4||gt===3&&(kt&130023424)===kt&&500>lt()-Ru?is(r,0):Pu|=l),$t(r,a)}function Tp(r,a){a===0&&((r.mode&1)===0?a=1:(a=to,to<<=1,(to&130023424)===0&&(to=4194304)));var l=It();r=Hr(r,a),r!==null&&(Ua(r,a,l),$t(r,l))}function gj(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Tp(r,l)}function vj(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(a),Tp(r,l)}var Ap;Ap=function(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps||Lt.current)zt=!0;else{if((r.lanes&l)===0&&(a.flags&128)===0)return zt=!1,sj(r,a,l);zt=(r.flags&131072)!==0}else zt=!1,et&&(a.flags&1048576)!==0&&df(a,ko,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;zo(r,a),r=a.pendingProps;var g=Fs(a,Ct.current);Ws(a,l),g=ou(null,a,d,r,g,l);var y=lu();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ft(d)?(y=!0,_o(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,eu(a),g.updater=Lo,a.stateNode=g,g._reactInternals=a,fu(a,d,r,l),a=xu(null,a,d,!0,y,l)):(a.tag=0,et&&y&&Wc(a),At(null,a,g,l),a=a.child),a;case 16:d=a.elementType;e:{switch(zo(r,a),r=a.pendingProps,g=d._init,d=g(d._payload),a.type=d,g=a.tag=yj(d),r=gr(d,r),g){case 0:a=vu(null,a,d,r,l);break e;case 1:a=sp(null,a,d,r,l);break e;case 11:a=Xf(null,a,d,r,l);break e;case 14:a=ep(null,a,d,gr(d.type,r),l);break e}throw Error(n(306,d,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:gr(d,g),vu(r,a,d,g,l);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:gr(d,g),sp(r,a,d,g,l);case 3:e:{if(ap(a),r===null)throw Error(n(387));d=a.pendingProps,y=a.memoizedState,g=y.element,wf(r,a),Ro(a,d,null,l);var E=a.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=Hs(Error(n(423)),a),a=ip(r,a,d,l,g);break e}else if(d!==g){g=Hs(Error(n(424)),a),a=ip(r,a,d,l,g);break e}else for(Qt=hn(a.stateNode.containerInfo.firstChild),Jt=a,et=!0,pr=null,l=xf(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($s(),d===g){a=Kr(r,a,l);break e}At(r,a,d,l)}a=a.child}return a;case 5:return bf(a),r===null&&Gc(a),d=a.type,g=a.pendingProps,y=r!==null?r.memoizedProps:null,E=g.children,Fc(d,g)?E=null:y!==null&&Fc(d,y)&&(a.flags|=32),np(r,a),At(r,a,E,l),a.child;case 6:return r===null&&Gc(a),null;case 13:return op(r,a,l);case 4:return tu(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Bs(a,null,d,l):At(r,a,d,l),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:gr(d,g),Xf(r,a,d,g,l);case 7:return At(r,a,a.pendingProps,l),a.child;case 8:return At(r,a,a.pendingProps.children,l),a.child;case 12:return At(r,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,y=a.memoizedProps,E=g.value,Ke(Co,d._currentValue),d._currentValue=E,y!==null)if(fr(y.value,E)){if(y.children===g.children&&!Lt.current){a=Kr(r,a,l);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var O=y.dependencies;if(O!==null){E=y.child;for(var L=O.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Gr(-1,l&-l),L.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?L.next=L:(L.next=re.next,re.next=L),K.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Zc(y.return,l,a),O.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===a.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,O=E.alternate,O!==null&&(O.lanes|=l),Zc(E,l,a),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}At(r,a,g.children,l),a=a.child}return a;case 9:return g=a.type,d=a.pendingProps.children,Ws(a,l),g=rr(g),d=d(g),a.flags|=1,At(r,a,d,l),a.child;case 14:return d=a.type,g=gr(d,a.pendingProps),g=gr(d.type,g),ep(r,a,d,g,l);case 15:return tp(r,a,a.type,a.pendingProps,l);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:gr(d,g),zo(r,a),a.tag=1,Ft(d)?(r=!0,_o(a)):r=!1,Ws(a,l),Hf(a,d,g),fu(a,d,g,l),xu(null,a,d,!0,r,l);case 19:return cp(r,a,l);case 22:return rp(r,a,l)}throw Error(n(156,a.tag))};function Ip(r,a){return dm(r,a)}function xj(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,a,l,d){return new xj(r,a,l,d)}function Fu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yj(r){if(typeof r=="function")return Fu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===P)return 11;if(r===Y)return 14}return 2}function bn(r,a){var l=r.alternate;return l===null?(l=ar(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Qo(r,a,l,d,g,y){var E=2;if(d=r,typeof r=="function")Fu(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case T:return ls(l.children,g,y,a);case M:E=8,g|=8;break;case R:return r=ar(12,l,a,g|2),r.elementType=R,r.lanes=y,r;case D:return r=ar(13,l,a,g),r.elementType=D,r.lanes=y,r;case B:return r=ar(19,l,a,g),r.elementType=B,r.lanes=y,r;case oe:return Yo(l,g,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:E=10;break e;case H:E=9;break e;case P:E=11;break e;case Y:E=14;break e;case X:E=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=ar(E,l,a,g),a.elementType=r,a.type=d,a.lanes=y,a}function ls(r,a,l,d){return r=ar(7,r,d,a),r.lanes=l,r}function Yo(r,a,l,d){return r=ar(22,r,d,a),r.elementType=oe,r.lanes=l,r.stateNode={isHidden:!1},r}function zu(r,a,l){return r=ar(6,r,null,a),r.lanes=l,r}function Uu(r,a,l){return a=ar(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function wj(r,a,l,d,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mc(0),this.expirationTimes=mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function $u(r,a,l,d,g,y,E,O,L){return r=new wj(r,a,l,O,L),a===1?(a=1,y===!0&&(a|=8)):a=0,y=ar(3,null,null,a),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(y),r}function _j(r,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:r,containerInfo:a,implementation:l}}function Op(r){if(!r)return fn;r=r._reactInternals;e:{if(Qn(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ft(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Ft(l))return lf(r,l,a)}return a}function Mp(r,a,l,d,g,y,E,O,L){return r=$u(l,d,!0,r,g,y,E,O,L),r.context=Op(null),l=r.current,d=It(),g=_n(l),y=Gr(d,g),y.callback=a??null,vn(l,y,g),r.current.lanes=g,Ua(r,g,d),$t(r,d),r}function Zo(r,a,l,d){var g=a.current,y=It(),E=_n(g);return l=Op(l),a.context===null?a.context=l:a.pendingContext=l,a=Gr(y,E),a.payload={element:r},d=d===void 0?null:d,d!==null&&(a.callback=d),r=vn(g,a,E),r!==null&&(yr(r,g,E,y),Po(r,g,E)),E}function Xo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dp(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Bu(r,a){Dp(r,a),(r=r.alternate)&&Dp(r,a)}function jj(){return null}var Lp=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vu(r){this._internalRoot=r}el.prototype.render=Vu.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));Zo(r,a,null,null)},el.prototype.unmount=Vu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;as(function(){Zo(null,r,null,null)}),a[Br]=null}};function el(r){this._internalRoot=r}el.prototype.unstable_scheduleHydration=function(r){if(r){var a=ym();r={blockedOn:null,target:r,priority:a};for(var l=0;l<cn.length&&a!==0&&a<cn[l].priority;l++);cn.splice(l,0,r),l===0&&jm(r)}};function Wu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function tl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function bj(r,a,l,d,g){if(g){if(typeof d=="function"){var y=d;d=function(){var K=Xo(E);y.call(K)}}var E=Mp(a,d,r,0,null,!1,!1,"",Fp);return r._reactRootContainer=E,r[Br]=E.current,ei(r.nodeType===8?r.parentNode:r),as(),E}for(;g=r.lastChild;)r.removeChild(g);if(typeof d=="function"){var O=d;d=function(){var K=Xo(L);O.call(K)}}var L=$u(r,0,!1,null,null,!1,!1,"",Fp);return r._reactRootContainer=L,r[Br]=L.current,ei(r.nodeType===8?r.parentNode:r),as(function(){Zo(a,L,l,d)}),L}function rl(r,a,l,d,g){var y=l._reactRootContainer;if(y){var E=y;if(typeof g=="function"){var O=g;g=function(){var L=Xo(E);O.call(L)}}Zo(a,E,r,g)}else E=bj(l,a,r,g,d);return Xo(E)}vm=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var l=za(a.pendingLanes);l!==0&&(fc(a,l|1),$t(a,lt()),(Ue&6)===0&&(Js=lt()+500,pn()))}break;case 13:as(function(){var d=Hr(r,1);if(d!==null){var g=It();yr(d,r,1,g)}}),Bu(r,1)}},pc=function(r){if(r.tag===13){var a=Hr(r,134217728);if(a!==null){var l=It();yr(a,r,134217728,l)}Bu(r,134217728)}},xm=function(r){if(r.tag===13){var a=_n(r),l=Hr(r,a);if(l!==null){var d=It();yr(l,r,a,d)}Bu(r,a)}},ym=function(){return qe},wm=function(r,a){var l=qe;try{return qe=r,a()}finally{qe=l}},oc=function(r,a,l){switch(a){case"input":if(Jn(r,l),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=yo(d);if(!g)throw Error(n(90));tt(d),Jn(d,g)}}}break;case"textarea":Jh(r,l);break;case"select":a=l.value,a!=null&&Ss(r,!!l.multiple,a,!1)}},sm=Mu,am=as;var kj={usingClientEntryPoint:!1,Events:[ni,Ds,yo,rm,nm,Mu]},vi={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=cm(r),r===null?null:r.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Xi=nl.inject(Nj),Pr=nl}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj,Bt.createPortal=function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(a))throw Error(n(200));return _j(r,a,null,l)},Bt.createRoot=function(r,a){if(!Wu(r))throw Error(n(299));var l=!1,d="",g=Lp;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=$u(r,1,!1,null,null,l,!1,d,g),r[Br]=a.current,ei(r.nodeType===8?r.parentNode:r),new Vu(a)},Bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=cm(a),r=r===null?null:r.stateNode,r},Bt.flushSync=function(r){return as(r)},Bt.hydrate=function(r,a,l){if(!tl(a))throw Error(n(200));return rl(null,r,a,!0,l)},Bt.hydrateRoot=function(r,a,l){if(!Wu(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,g=!1,y="",E=Lp;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),a=Mp(a,null,r,1,l??null,g,!1,y,E),r[Br]=a.current,ei(r),d)for(r=0;r<d.length;r++)l=d[r],g=l._getVersion,g=g(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,g]:a.mutableSourceEagerHydrationData.push(l,g);return new el(a)},Bt.render=function(r,a,l){if(!tl(a))throw Error(n(200));return rl(null,r,a,!1,l)},Bt.unmountComponentAtNode=function(r){if(!tl(r))throw Error(n(40));return r._reactRootContainer?(as(function(){rl(null,null,r,!1,function(){r._reactRootContainer=null,r[Br]=null})}),!0):!1},Bt.unstable_batchedUpdates=Mu,Bt.unstable_renderSubtreeIntoContainer=function(r,a,l,d){if(!tl(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return rl(r,a,l,!1,d)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var Hp;function vv(){if(Hp)return Gu.exports;Hp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gu.exports=Oj(),Gu.exports}var Gp;function Mj(){if(Gp)return sl;Gp=1;var s=vv();return sl.createRoot=s.createRoot,sl.hydrateRoot=s.hydrateRoot,sl}var Dj=Mj(),x=th();const He=eh(x),rh=Cj({__proto__:null,default:He},[x]);var ba=vv();const Lj=eh(ba);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Ai.apply(this,arguments)}var An;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(An||(An={}));const Kp="popstate";function Fj(s){s===void 0&&(s={});function t(i,o){let{pathname:c,search:u,hash:h}=i.location;return bd("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:kl(o)}return Uj(t,n,null,s)}function ft(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function xv(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zj(){return Math.random().toString(36).substr(2,8)}function Jp(s,t){return{usr:s.state,key:s.key,idx:t}}function bd(s,t,n,i){return n===void 0&&(n=null),Ai({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?ka(t):t,{state:n,key:t&&t.key||i||zj()})}function kl(s){let{pathname:t="/",search:n="",hash:i=""}=s;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ka(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substr(n),s=s.substr(0,n));let i=s.indexOf("?");i>=0&&(t.search=s.substr(i),s=s.substr(0,i)),s&&(t.pathname=s)}return t}function Uj(s,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,h=An.Pop,m=null,f=p();f==null&&(f=0,u.replaceState(Ai({},u.state,{idx:f}),""));function p(){return(u.state||{idx:null}).idx}function v(){h=An.Pop;let j=p(),S=j==null?null:j-f;f=j,m&&m({action:h,location:b.location,delta:S})}function w(j,S){h=An.Push;let C=bd(b.location,j,S);f=p()+1;let k=Jp(C,f),I=b.createHref(C);try{u.pushState(k,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(I)}c&&m&&m({action:h,location:b.location,delta:1})}function _(j,S){h=An.Replace;let C=bd(b.location,j,S);f=p();let k=Jp(C,f),I=b.createHref(C);u.replaceState(k,"",I),c&&m&&m({action:h,location:b.location,delta:0})}function N(j){let S=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof j=="string"?j:kl(j);return C=C.replace(/ $/,"%20"),ft(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let b={get action(){return h},get location(){return s(o,u)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Kp,v),m=j,()=>{o.removeEventListener(Kp,v),m=null}},createHref(j){return t(o,j)},createURL:N,encodeLocation(j){let S=N(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:w,replace:_,go(j){return u.go(j)}};return b}var Qp;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Qp||(Qp={}));function $j(s,t,n){return n===void 0&&(n="/"),Bj(s,t,n)}function Bj(s,t,n,i){let o=typeof t=="string"?ka(t):t,c=nh(o.pathname||"/",n);if(c==null)return null;let u=yv(s);Vj(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let f=tb(c);h=Zj(u[m],f)}return h}function yv(s,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(c,u,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let f=In([i,m.relativePath]),p=n.concat(m);c.children&&c.children.length>0&&(ft(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),yv(c.children,t,p,f)),!(c.path==null&&!c.index)&&t.push({path:f,score:Qj(f,c.index),routesMeta:p})};return s.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,u);else for(let m of wv(c.path))o(c,u,m)}),t}function wv(s){let t=s.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=wv(i.join("/")),h=[];return h.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...u),h.map(m=>s.startsWith("/")&&m===""?"/":m)}function Vj(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:Yj(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Wj=/^:[\w-]+$/,qj=3,Hj=2,Gj=1,Kj=10,Jj=-2,Yp=s=>s==="*";function Qj(s,t){let n=s.split("/"),i=n.length;return n.some(Yp)&&(i+=Jj),t&&(i+=Hj),n.filter(o=>!Yp(o)).reduce((o,c)=>o+(Wj.test(c)?qj:c===""?Gj:Kj),i)}function Yj(s,t){return s.length===t.length&&s.slice(0,-1).every((i,o)=>i===t[o])?s[s.length-1]-t[t.length-1]:0}function Zj(s,t,n){let{routesMeta:i}=s,o={},c="/",u=[];for(let h=0;h<i.length;++h){let m=i[h],f=h===i.length-1,p=c==="/"?t:t.slice(c.length)||"/",v=Xj({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},p),w=m.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:In([c,v.pathname]),pathnameBase:ab(In([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=In([c,v.pathnameBase]))}return u}function Xj(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=eb(s.path,s.caseSensitive,s.end),o=t.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((f,p,v)=>{let{paramName:w,isOptional:_}=p;if(w==="*"){let b=h[v]||"";u=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const N=h[v];return _&&!N?f[w]=void 0:f[w]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:u,pattern:s}}function eb(s,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xv(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function tb(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xv(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function nh(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function rb(s,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?ka(s):s;return{pathname:n?n.startsWith("/")?n:nb(n,t):t,search:ib(i),hash:ob(o)}}function nb(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qu(s,t,n,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sb(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _v(s,t){let n=sb(s);return t?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function jv(s,t,n,i){i===void 0&&(i=!1);let o;typeof s=="string"?o=ka(s):(o=Ai({},s),ft(!o.pathname||!o.pathname.includes("?"),Qu("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Qu("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Qu("#","search","hash",o)));let c=s===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}h=v>=0?t[v]:"/"}let m=rb(o,h),f=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||p)&&(m.pathname+="/"),m}const In=s=>s.join("/").replace(/\/\/+/g,"/"),ab=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ob=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function lb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const bv=["post","put","patch","delete"];new Set(bv);const cb=["get",...bv];new Set(cb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Ii.apply(this,arguments)}const sh=x.createContext(null),ub=x.createContext(null),_s=x.createContext(null),Ml=x.createContext(null),Bn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),kv=x.createContext(null);function db(s,t){let{relative:n}=t===void 0?{}:t;zi()||ft(!1);let{basename:i,navigator:o}=x.useContext(_s),{hash:c,pathname:u,search:h}=Sv(s,{relative:n}),m=u;return i!=="/"&&(m=u==="/"?i:In([i,u])),o.createHref({pathname:m,search:h,hash:c})}function zi(){return x.useContext(Ml)!=null}function Vn(){return zi()||ft(!1),x.useContext(Ml).location}function Nv(s){x.useContext(_s).static||x.useLayoutEffect(s)}function dr(){let{isDataRoute:s}=x.useContext(Bn);return s?kb():hb()}function hb(){zi()||ft(!1);let s=x.useContext(sh),{basename:t,future:n,navigator:i}=x.useContext(_s),{matches:o}=x.useContext(Bn),{pathname:c}=Vn(),u=JSON.stringify(_v(o,n.v7_relativeSplatPath)),h=x.useRef(!1);return Nv(()=>{h.current=!0}),x.useCallback(function(f,p){if(p===void 0&&(p={}),!h.current)return;if(typeof f=="number"){i.go(f);return}let v=jv(f,JSON.parse(u),c,p.relative==="path");s==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:In([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,u,c,s])}function Dl(){let{matches:s}=x.useContext(Bn),t=s[s.length-1];return t?t.params:{}}function Sv(s,t){let{relative:n}=t===void 0?{}:t,{future:i}=x.useContext(_s),{matches:o}=x.useContext(Bn),{pathname:c}=Vn(),u=JSON.stringify(_v(o,i.v7_relativeSplatPath));return x.useMemo(()=>jv(s,JSON.parse(u),c,n==="path"),[s,u,c,n])}function mb(s,t){return fb(s,t)}function fb(s,t,n,i){zi()||ft(!1);let{navigator:o}=x.useContext(_s),{matches:c}=x.useContext(Bn),u=c[c.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let f=Vn(),p;if(t){var v;let j=typeof t=="string"?ka(t):t;m==="/"||(v=j.pathname)!=null&&v.startsWith(m)||ft(!1),p=j}else p=f;let w=p.pathname||"/",_=w;if(m!=="/"){let j=m.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=$j(s,{pathname:_}),b=yb(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:In([m,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:In([m,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,n,i);return t&&b?x.createElement(Ml.Provider,{value:{location:Ii({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:An.Pop}},b):b}function pb(){let s=bb(),t=lb(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const gb=x.createElement(pb,null);class vb extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Bn.Provider,{value:this.props.routeContext},x.createElement(kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xb(s){let{routeContext:t,match:n,children:i}=s,o=x.useContext(sh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Bn.Provider,{value:t},i)}function yb(s,t,n,i){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=i)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=(o=n)==null?void 0:o.errors;if(h!=null){let p=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);p>=0||ft(!1),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<u.length;p++){let v=u[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:w,errors:_}=n,N=v.route.loader&&w[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||N){m=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((p,v,w)=>{let _,N=!1,b=null,j=null;n&&(_=h&&v.route.id?h[v.route.id]:void 0,b=v.route.errorElement||gb,m&&(f<0&&w===0?(Nb("route-fallback"),N=!0,j=null):f===w&&(N=!0,j=v.route.hydrateFallbackElement||null)));let S=t.concat(u.slice(0,w+1)),C=()=>{let k;return _?k=b:N?k=j:v.route.Component?k=x.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=p,x.createElement(xb,{match:v,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?x.createElement(vb,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var Cv=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(Cv||{}),Ev=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Ev||{});function wb(s){let t=x.useContext(sh);return t||ft(!1),t}function _b(s){let t=x.useContext(ub);return t||ft(!1),t}function jb(s){let t=x.useContext(Bn);return t||ft(!1),t}function Pv(s){let t=jb(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function bb(){var s;let t=x.useContext(kv),n=_b(),i=Pv();return t!==void 0?t:(s=n.errors)==null?void 0:s[i]}function kb(){let{router:s}=wb(Cv.UseNavigateStable),t=Pv(Ev.UseNavigateStable),n=x.useRef(!1);return Nv(()=>{n.current=!0}),x.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,Ii({fromRouteId:t},c)))},[s,t])}const Zp={};function Nb(s,t,n){Zp[s]||(Zp[s]=!0)}function Sb(s,t){s?.v7_startTransition,s?.v7_relativeSplatPath}function Je(s){ft(!1)}function Cb(s){let{basename:t="/",children:n=null,location:i,navigationType:o=An.Pop,navigator:c,static:u=!1,future:h}=s;zi()&&ft(!1);let m=t.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:m,navigator:c,static:u,future:Ii({v7_relativeSplatPath:!1},h)}),[m,h,c,u]);typeof i=="string"&&(i=ka(i));let{pathname:p="/",search:v="",hash:w="",state:_=null,key:N="default"}=i,b=x.useMemo(()=>{let j=nh(p,m);return j==null?null:{location:{pathname:j,search:v,hash:w,state:_,key:N},navigationType:o}},[m,p,v,w,_,N,o]);return b==null?null:x.createElement(_s.Provider,{value:f},x.createElement(Ml.Provider,{children:n,value:b}))}function Eb(s){let{children:t,location:n}=s;return mb(kd(t),n)}new Promise(()=>{});function kd(s,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(s,(i,o)=>{if(!x.isValidElement(i))return;let c=[...t,o];if(i.type===x.Fragment){n.push.apply(n,kd(i.props.children,c));return}i.type!==Je&&ft(!1),!i.props.index||!i.props.children||ft(!1);let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=kd(i.props.children,c)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Nd.apply(this,arguments)}function Pb(s,t){if(s==null)return{};var n={},i=Object.keys(s),o,c;for(c=0;c<i.length;c++)o=i[c],!(t.indexOf(o)>=0)&&(n[o]=s[o]);return n}function Rb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Tb(s,t){return s.button===0&&(!t||t==="_self")&&!Rb(s)}function Sd(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,n)=>{let i=s[n];return t.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function Ab(s,t){let n=Sd(s);return t&&t.forEach((i,o)=>{n.has(o)||t.getAll(o).forEach(c=>{n.append(o,c)})}),n}const Ib=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ob="6";try{window.__reactRouterVersion=Ob}catch{}const Mb="startTransition",Xp=rh[Mb];function Db(s){let{basename:t,children:n,future:i,window:o}=s,c=x.useRef();c.current==null&&(c.current=Fj({window:o,v5Compat:!0}));let u=c.current,[h,m]=x.useState({action:u.action,location:u.location}),{v7_startTransition:f}=i||{},p=x.useCallback(v=>{f&&Xp?Xp(()=>m(v)):m(v)},[m,f]);return x.useLayoutEffect(()=>u.listen(p),[u,p]),x.useEffect(()=>Sb(i),[i]),x.createElement(Cb,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:i})}const Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=x.forwardRef(function(t,n){let{onClick:i,relative:o,reloadDocument:c,replace:u,state:h,target:m,to:f,preventScrollReset:p,viewTransition:v}=t,w=Pb(t,Ib),{basename:_}=x.useContext(_s),N,b=!1;if(typeof f=="string"&&Fb.test(f)&&(N=f,Lb))try{let k=new URL(window.location.href),I=f.startsWith("//")?new URL(k.protocol+f):new URL(f),A=nh(I.pathname,_);I.origin===k.origin&&A!=null?f=A+I.search+I.hash:b=!0}catch{}let j=db(f,{relative:o}),S=zb(f,{replace:u,state:h,target:m,preventScrollReset:p,relative:o,viewTransition:v});function C(k){i&&i(k),k.defaultPrevented||S(k)}return x.createElement("a",Nd({},w,{href:N||j,onClick:b||c?i:C,ref:n,target:m}))});var eg;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(eg||(eg={}));var tg;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(tg||(tg={}));function zb(s,t){let{target:n,replace:i,state:o,preventScrollReset:c,relative:u,viewTransition:h}=t===void 0?{}:t,m=dr(),f=Vn(),p=Sv(s,{relative:u});return x.useCallback(v=>{if(Tb(v,n)){v.preventDefault();let w=i!==void 0?i:kl(f)===kl(p);m(s,{replace:w,state:o,preventScrollReset:c,relative:u,viewTransition:h})}},[f,m,p,i,o,n,s,c,u,h])}function Ub(s){let t=x.useRef(Sd(s)),n=x.useRef(!1),i=Vn(),o=x.useMemo(()=>Ab(i.search,n.current?null:t.current),[i.search]),c=dr(),u=x.useCallback((h,m)=>{const f=Sd(typeof h=="function"?h(o):h);n.current=!0,c("?"+f,m)},[c,o]);return[o,u]}const $b=1,Bb=1e6;let Yu=0;function Vb(){return Yu=(Yu+1)%Number.MAX_SAFE_INTEGER,Yu.toString()}const Zu=new Map,rg=s=>{if(Zu.has(s))return;const t=setTimeout(()=>{Zu.delete(s),Pi({type:"REMOVE_TOAST",toastId:s})},Bb);Zu.set(s,t)},Wb=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,$b)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rg(n):s.toasts.forEach(i=>{rg(i.id)}),{...s,toasts:s.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(n=>n.id!==t.toastId)}}},xl=[];let yl={toasts:[]};function Pi(s){yl=Wb(yl,s),xl.forEach(t=>{t(yl)})}function Ve({...s}){const t=Vb(),n=o=>Pi({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>Pi({type:"DISMISS_TOAST",toastId:t});return Pi({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:n}}function qb(){const[s,t]=x.useState(yl);return x.useEffect(()=>(xl.push(t),()=>{const n=xl.indexOf(t);n>-1&&xl.splice(n,1)}),[s]),{...s,toast:Ve,dismiss:n=>Pi({type:"DISMISS_TOAST",toastId:n})}}function ke(s,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(s?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function ng(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Rv(...s){return t=>{let n=!1;const i=s.map(o=>{const c=ng(o,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():ng(s[o],null)}}}}function Ge(...s){return x.useCallback(Rv(...s),s)}function Hb(s,t){const n=x.createContext(t),i=c=>{const{children:u,...h}=c,m=x.useMemo(()=>h,Object.values(h));return e.jsx(n.Provider,{value:m,children:u})};i.displayName=s+"Provider";function o(c){const u=x.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[i,o]}function sn(s,t=[]){let n=[];function i(c,u){const h=x.createContext(u),m=n.length;n=[...n,u];const f=v=>{const{scope:w,children:_,...N}=v,b=w?.[s]?.[m]||h,j=x.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:_})};f.displayName=c+"Provider";function p(v,w){const _=w?.[s]?.[m]||h,N=x.useContext(_);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=n.map(u=>x.createContext(u));return function(h){const m=h?.[s]||c;return x.useMemo(()=>({[`__scope${s}`]:{...h,[s]:m}}),[h,m])}};return o.scopeName=s,[i,Gb(o,...t)]}function Gb(...s){const t=s[0];if(s.length===1)return t;const n=()=>{const i=s.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((h,{useScope:m,scopeName:f})=>{const v=m(c)[`__scope${f}`];return{...h,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function wa(s){const t=Jb(s),n=x.forwardRef((i,o)=>{const{children:c,...u}=i,h=x.Children.toArray(c),m=h.find(Yb);if(m){const f=m.props.children,p=h.map(v=>v===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return e.jsx(t,{...u,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return e.jsx(t,{...u,ref:o,children:c})});return n.displayName=`${s}.Slot`,n}var Kb=wa("Slot");function Jb(s){const t=x.forwardRef((n,i)=>{const{children:o,...c}=n;if(x.isValidElement(o)){const u=Xb(o),h=Zb(c,o.props);return o.type!==x.Fragment&&(h.ref=i?Rv(i,u):u),x.cloneElement(o,h)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Qb=Symbol("radix.slottable");function Yb(s){return x.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Qb}function Zb(s,t){const n={...t};for(const i in t){const o=s[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...h)=>{const m=c(...h);return o(...h),m}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...s,...n}}function Xb(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}function ah(s){const t=s+"CollectionProvider",[n,i]=sn(t),[o,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:j,children:S}=b,C=He.useRef(null),k=He.useRef(new Map).current;return e.jsx(o,{scope:j,itemMap:k,collectionRef:C,children:S})};u.displayName=t;const h=s+"CollectionSlot",m=wa(h),f=He.forwardRef((b,j)=>{const{scope:S,children:C}=b,k=c(h,S),I=Ge(j,k.collectionRef);return e.jsx(m,{ref:I,children:C})});f.displayName=h;const p=s+"CollectionItemSlot",v="data-radix-collection-item",w=wa(p),_=He.forwardRef((b,j)=>{const{scope:S,children:C,...k}=b,I=He.useRef(null),A=Ge(j,I),$=c(p,S);return He.useEffect(()=>($.itemMap.set(I,{ref:I,...k}),()=>void $.itemMap.delete(I))),e.jsx(w,{[v]:"",ref:A,children:C})});_.displayName=p;function N(b){const j=c(s+"CollectionConsumer",b);return He.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(j.itemMap.values()).sort(($,T)=>k.indexOf($.ref.current)-k.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:f,ItemSlot:_},N,i]}var ek=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=ek.reduce((s,t)=>{const n=wa(`Primitive.${t}`),i=x.forwardRef((o,c)=>{const{asChild:u,...h}=o,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...h,ref:c})});return i.displayName=`Primitive.${t}`,{...s,[t]:i}},{});function Tv(s,t){s&&ba.flushSync(()=>s.dispatchEvent(t))}function cr(s){const t=x.useRef(s);return x.useEffect(()=>{t.current=s}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function tk(s,t=globalThis?.document){const n=cr(s);x.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var rk="DismissableLayer",Cd="dismissableLayer.update",nk="dismissableLayer.pointerDownOutside",sk="dismissableLayer.focusOutside",sg,Av=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ll=x.forwardRef((s,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...m}=s,f=x.useContext(Av),[p,v]=x.useState(null),w=p?.ownerDocument??globalThis?.document,[,_]=x.useState({}),N=Ge(t,T=>v(T)),b=Array.from(f.layers),[j]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(j),C=p?b.indexOf(p):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,I=C>=S,A=ik(T=>{const M=T.target,R=[...f.branches].some(U=>U.contains(M));!I||R||(o?.(T),u?.(T),T.defaultPrevented||h?.())},w),$=ok(T=>{const M=T.target;[...f.branches].some(U=>U.contains(M))||(c?.(T),u?.(T),T.defaultPrevented||h?.())},w);return tk(T=>{C===f.layers.size-1&&(i?.(T),!T.defaultPrevented&&h&&(T.preventDefault(),h()))},w),x.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(sg=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),ag(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=sg)}},[p,w,n,f]),x.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),ag())},[p,f]),x.useEffect(()=>{const T=()=>_({});return document.addEventListener(Cd,T),()=>document.removeEventListener(Cd,T)},[]),e.jsx(Se.div,{...m,ref:N,style:{pointerEvents:k?I?"auto":"none":void 0,...s.style},onFocusCapture:ke(s.onFocusCapture,$.onFocusCapture),onBlurCapture:ke(s.onBlurCapture,$.onBlurCapture),onPointerDownCapture:ke(s.onPointerDownCapture,A.onPointerDownCapture)})});Ll.displayName=rk;var ak="DismissableLayerBranch",Iv=x.forwardRef((s,t)=>{const n=x.useContext(Av),i=x.useRef(null),o=Ge(t,i);return x.useEffect(()=>{const c=i.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),e.jsx(Se.div,{...s,ref:o})});Iv.displayName=ak;function ik(s,t=globalThis?.document){const n=cr(s),i=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const c=h=>{if(h.target&&!i.current){let m=function(){Ov(nk,n,f,{discrete:!0})};const f={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function ok(s,t=globalThis?.document){const n=cr(s),i=x.useRef(!1);return x.useEffect(()=>{const o=c=>{c.target&&!i.current&&Ov(sk,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ag(){const s=new CustomEvent(Cd);document.dispatchEvent(s)}function Ov(s,t,n,{discrete:i}){const o=n.originalEvent.target,c=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(s,t,{once:!0}),i?Tv(o,c):o.dispatchEvent(c)}var lk=Ll,ck=Iv,St=globalThis?.document?x.useLayoutEffect:()=>{},uk="Portal",Fl=x.forwardRef((s,t)=>{const{container:n,...i}=s,[o,c]=x.useState(!1);St(()=>c(!0),[]);const u=n||o&&globalThis?.document?.body;return u?Lj.createPortal(e.jsx(Se.div,{...i,ref:t}),u):null});Fl.displayName=uk;function dk(s,t){return x.useReducer((n,i)=>t[n][i]??n,s)}var js=s=>{const{present:t,children:n}=s,i=hk(t),o=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),c=Ge(i.ref,mk(o));return typeof n=="function"||i.isPresent?x.cloneElement(o,{ref:c}):null};js.displayName="Presence";function hk(s){const[t,n]=x.useState(),i=x.useRef(null),o=x.useRef(s),c=x.useRef("none"),u=s?"mounted":"unmounted",[h,m]=dk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=al(i.current);c.current=h==="mounted"?f:"none"},[h]),St(()=>{const f=i.current,p=o.current;if(p!==s){const w=c.current,_=al(f);s?m("MOUNT"):_==="none"||f?.display==="none"?m("UNMOUNT"):m(p&&w!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=s}},[s,m]),St(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,v=_=>{const b=al(i.current).includes(_.animationName);if(_.target===t&&b&&(m("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},w=_=>{_.target===t&&(c.current=al(i.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:x.useCallback(f=>{i.current=f?getComputedStyle(f):null,n(f)},[])}}function al(s){return s?.animationName||"none"}function mk(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var fk=rh[" useInsertionEffect ".trim().toString()]||St;function Ln({prop:s,defaultProp:t,onChange:n=()=>{},caller:i}){const[o,c,u]=pk({defaultProp:t,onChange:n}),h=s!==void 0,m=h?s:o;{const p=x.useRef(s!==void 0);x.useEffect(()=>{const v=p.current;v!==h&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=h},[h,i])}const f=x.useCallback(p=>{if(h){const v=gk(p)?p(s):p;v!==s&&u.current?.(v)}else c(p)},[h,s,c,u]);return[m,f]}function pk({defaultProp:s,onChange:t}){const[n,i]=x.useState(s),o=x.useRef(n),c=x.useRef(t);return fk(()=>{c.current=t},[t]),x.useEffect(()=>{o.current!==n&&(c.current?.(n),o.current=n)},[n,o]),[n,i,c]}function gk(s){return typeof s=="function"}var Mv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vk="VisuallyHidden",ih=x.forwardRef((s,t)=>e.jsx(Se.span,{...s,ref:t,style:{...Mv,...s.style}}));ih.displayName=vk;var oh="ToastProvider",[lh,xk,yk]=ah("Toast"),[Dv,eT]=sn("Toast",[yk]),[wk,zl]=Dv(oh),Lv=s=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=s,[h,m]=x.useState(null),[f,p]=x.useState(0),v=x.useRef(!1),w=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oh}\`. Expected non-empty \`string\`.`),e.jsx(lh.Provider,{scope:t,children:e.jsx(wk,{scope:t,label:n,duration:i,swipeDirection:o,swipeThreshold:c,toastCount:f,viewport:h,onViewportChange:m,onToastAdd:x.useCallback(()=>p(_=>_+1),[]),onToastRemove:x.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:u})})};Lv.displayName=oh;var Fv="ToastViewport",_k=["F8"],Ed="toast.viewportPause",Pd="toast.viewportResume",zv=x.forwardRef((s,t)=>{const{__scopeToast:n,hotkey:i=_k,label:o="Notifications ({hotkey})",...c}=s,u=zl(Fv,n),h=xk(n),m=x.useRef(null),f=x.useRef(null),p=x.useRef(null),v=x.useRef(null),w=Ge(t,v,u.onViewportChange),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=u.toastCount>0;x.useEffect(()=>{const j=S=>{i.length!==0&&i.every(k=>S[k]||S.code===k)&&v.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[i]),x.useEffect(()=>{const j=m.current,S=v.current;if(N&&j&&S){const C=()=>{if(!u.isClosePausedRef.current){const $=new CustomEvent(Ed);S.dispatchEvent($),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const $=new CustomEvent(Pd);S.dispatchEvent($),u.isClosePausedRef.current=!1}},I=$=>{!j.contains($.relatedTarget)&&k()},A=()=>{j.contains(document.activeElement)||k()};return j.addEventListener("focusin",C),j.addEventListener("focusout",I),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",I),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[N,u.isClosePausedRef]);const b=x.useCallback(({tabbingDirection:j})=>{const C=h().map(k=>{const I=k.ref.current,A=[I,...Ok(I)];return j==="forwards"?A:A.reverse()});return(j==="forwards"?C.reverse():C).flat()},[h]);return x.useEffect(()=>{const j=v.current;if(j){const S=C=>{const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const A=document.activeElement,$=C.shiftKey;if(C.target===j&&$){f.current?.focus();return}const R=b({tabbingDirection:$?"backwards":"forwards"}),U=R.findIndex(H=>H===A);Xu(R.slice(U+1))?C.preventDefault():$?f.current?.focus():p.current?.focus()}};return j.addEventListener("keydown",S),()=>j.removeEventListener("keydown",S)}},[h,b]),e.jsxs(ck,{ref:m,role:"region","aria-label":o.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&e.jsx(Rd,{ref:f,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});Xu(j)}}),e.jsx(lh.Slot,{scope:n,children:e.jsx(Se.ol,{tabIndex:-1,...c,ref:w})}),N&&e.jsx(Rd,{ref:p,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});Xu(j)}})]})});zv.displayName=Fv;var Uv="ToastFocusProxy",Rd=x.forwardRef((s,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...o}=s,c=zl(Uv,n);return e.jsx(ih,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{const h=u.relatedTarget;!c.viewport?.contains(h)&&i()}})});Rd.displayName=Uv;var Ui="Toast",jk="toast.swipeStart",bk="toast.swipeMove",kk="toast.swipeCancel",Nk="toast.swipeEnd",$v=x.forwardRef((s,t)=>{const{forceMount:n,open:i,defaultOpen:o,onOpenChange:c,...u}=s,[h,m]=Ln({prop:i,defaultProp:o??!0,onChange:c,caller:Ui});return e.jsx(js,{present:n||h,children:e.jsx(Ek,{open:h,...u,ref:t,onClose:()=>m(!1),onPause:cr(s.onPause),onResume:cr(s.onResume),onSwipeStart:ke(s.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(s.onSwipeMove,f=>{const{x:p,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ke(s.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(s.onSwipeEnd,f=>{const{x:p,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})})});$v.displayName=Ui;var[Sk,Ck]=Dv(Ui,{onClose(){}}),Ek=x.forwardRef((s,t)=>{const{__scopeToast:n,type:i="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:h,onPause:m,onResume:f,onSwipeStart:p,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:_,...N}=s,b=zl(Ui,n),[j,S]=x.useState(null),C=Ge(t,B=>S(B)),k=x.useRef(null),I=x.useRef(null),A=o||b.duration,$=x.useRef(0),T=x.useRef(A),M=x.useRef(0),{onToastAdd:R,onToastRemove:U}=b,H=cr(()=>{j?.contains(document.activeElement)&&b.viewport?.focus(),u()}),P=x.useCallback(B=>{!B||B===1/0||(window.clearTimeout(M.current),$.current=new Date().getTime(),M.current=window.setTimeout(H,B))},[H]);x.useEffect(()=>{const B=b.viewport;if(B){const Y=()=>{P(T.current),f?.()},X=()=>{const oe=new Date().getTime()-$.current;T.current=T.current-oe,window.clearTimeout(M.current),m?.()};return B.addEventListener(Ed,X),B.addEventListener(Pd,Y),()=>{B.removeEventListener(Ed,X),B.removeEventListener(Pd,Y)}}},[b.viewport,A,m,f,P]),x.useEffect(()=>{c&&!b.isClosePausedRef.current&&P(A)},[c,A,b.isClosePausedRef,P]),x.useEffect(()=>(R(),()=>U()),[R,U]);const D=x.useMemo(()=>j?Kv(j):null,[j]);return b.viewport?e.jsxs(e.Fragment,{children:[D&&e.jsx(Pk,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),e.jsx(Sk,{scope:n,onClose:H,children:ba.createPortal(e.jsx(lh.ItemSlot,{scope:n,children:e.jsx(lk,{asChild:!0,onEscapeKeyDown:ke(h,()=>{b.isFocusedToastEscapeKeyDownRef.current||H(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:C,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:ke(s.onKeyDown,B=>{B.key==="Escape"&&(h?.(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:ke(s.onPointerDown,B=>{B.button===0&&(k.current={x:B.clientX,y:B.clientY})}),onPointerMove:ke(s.onPointerMove,B=>{if(!k.current)return;const Y=B.clientX-k.current.x,X=B.clientY-k.current.y,oe=!!I.current,J=["left","right"].includes(b.swipeDirection),Z=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ee=J?Z(0,Y):0,F=J?0:Z(0,X),V=B.pointerType==="touch"?10:2,ae={x:ee,y:F},pe={originalEvent:B,delta:ae};oe?(I.current=ae,il(bk,v,pe,{discrete:!1})):ig(ae,b.swipeDirection,V)?(I.current=ae,il(jk,p,pe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Y)>V||Math.abs(X)>V)&&(k.current=null)}),onPointerUp:ke(s.onPointerUp,B=>{const Y=I.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),I.current=null,k.current=null,Y){const oe=B.currentTarget,J={originalEvent:B,delta:Y};ig(Y,b.swipeDirection,b.swipeThreshold)?il(Nk,_,J,{discrete:!0}):il(kk,w,J,{discrete:!0}),oe.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Pk=s=>{const{__scopeToast:t,children:n,...i}=s,o=zl(Ui,t),[c,u]=x.useState(!1),[h,m]=x.useState(!1);return Ak(()=>u(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(f)},[]),h?null:e.jsx(Fl,{asChild:!0,children:e.jsx(ih,{...i,children:c&&e.jsxs(e.Fragment,{children:[o.label," ",n]})})})},Rk="ToastTitle",Bv=x.forwardRef((s,t)=>{const{__scopeToast:n,...i}=s;return e.jsx(Se.div,{...i,ref:t})});Bv.displayName=Rk;var Tk="ToastDescription",Vv=x.forwardRef((s,t)=>{const{__scopeToast:n,...i}=s;return e.jsx(Se.div,{...i,ref:t})});Vv.displayName=Tk;var Wv="ToastAction",qv=x.forwardRef((s,t)=>{const{altText:n,...i}=s;return n.trim()?e.jsx(Gv,{altText:n,asChild:!0,children:e.jsx(ch,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wv}\`. Expected non-empty \`string\`.`),null)});qv.displayName=Wv;var Hv="ToastClose",ch=x.forwardRef((s,t)=>{const{__scopeToast:n,...i}=s,o=Ck(Hv,n);return e.jsx(Gv,{asChild:!0,children:e.jsx(Se.button,{type:"button",...i,ref:t,onClick:ke(s.onClick,o.onClose)})})});ch.displayName=Hv;var Gv=x.forwardRef((s,t)=>{const{__scopeToast:n,altText:i,...o}=s;return e.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function Kv(s){const t=[];return Array.from(s.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),Ik(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Kv(i))}}),t}function il(s,t,n,{discrete:i}){const o=n.originalEvent.currentTarget,c=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(s,t,{once:!0}),i?Tv(o,c):o.dispatchEvent(c)}var ig=(s,t,n=0)=>{const i=Math.abs(s.x),o=Math.abs(s.y),c=i>o;return t==="left"||t==="right"?c&&i>n:!c&&o>n};function Ak(s=()=>{}){const t=cr(s);St(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function Ik(s){return s.nodeType===s.ELEMENT_NODE}function Ok(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xu(s){const t=document.activeElement;return s.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Mk=Lv,Jv=zv,Qv=$v,Yv=Bv,Zv=Vv,Xv=qv,ex=ch;function tx(s){var t,n,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(t=0;t<o;t++)s[t]&&(n=tx(s[t]))&&(i&&(i+=" "),i+=n)}else for(n in s)s[n]&&(i&&(i+=" "),i+=n);return i}function rx(){for(var s,t,n=0,i="",o=arguments.length;n<o;n++)(s=arguments[n])&&(t=tx(s))&&(i&&(i+=" "),i+=t);return i}const og=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,lg=rx,$i=(s,t)=>n=>{var i;if(t?.variants==null)return lg(s,n?.class,n?.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(f=>{const p=n?.[f],v=c?.[f];if(p===null)return null;const w=og(p)||og(v);return o[f][w]}),h=n&&Object.entries(n).reduce((f,p)=>{let[v,w]=p;return w===void 0||(f[v]=w),f},{}),m=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((f,p)=>{let{class:v,className:w,..._}=p;return Object.entries(_).every(N=>{let[b,j]=N;return Array.isArray(j)?j.includes({...c,...h}[b]):{...c,...h}[b]===j})?[...f,v,w]:f},[]);return lg(s,u,m,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=(...s)=>s.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=x.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...h},m)=>x.createElement("svg",{ref:m,...Lk,width:t,height:t,stroke:s,strokeWidth:i?Number(n)*24/Number(t):n,className:nx("lucide",o),...h},[...u.map(([f,p])=>x.createElement(f,p)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(s,t)=>{const n=x.forwardRef(({className:i,...o},c)=>x.createElement(Fk,{ref:c,iconNode:t,className:nx(`lucide-${Dk(s)}`,i),...o}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ve("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ve("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ve("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ve("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ve("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yh="-",Zk=s=>{const t=e1(s),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=s;return{getClassGroupId:u=>{const h=u.split(yh);return h[0]===""&&h.length!==1&&h.shift(),hx(h,t)||Xk(u)},getConflictingClassGroupIds:(u,h)=>{const m=n[u]||[];return h&&i[u]?[...m,...i[u]]:m}}},hx=(s,t)=>{if(s.length===0)return t.classGroupId;const n=s[0],i=t.nextPart.get(n),o=i?hx(s.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const c=s.join(yh);return t.validators.find(({validator:u})=>u(c))?.classGroupId},ug=/^\[(.+)\]$/,Xk=s=>{if(ug.test(s)){const t=ug.exec(s)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},e1=s=>{const{theme:t,prefix:n}=s,i={nextPart:new Map,validators:[]};return r1(Object.entries(s.classGroups),n).forEach(([c,u])=>{Ad(u,i,c,t)}),i},Ad=(s,t,n,i)=>{s.forEach(o=>{if(typeof o=="string"){const c=o===""?t:dg(t,o);c.classGroupId=n;return}if(typeof o=="function"){if(t1(o)){Ad(o(i),t,n,i);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,u])=>{Ad(u,dg(t,c),n,i)})})},dg=(s,t)=>{let n=s;return t.split(yh).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},t1=s=>s.isThemeGetter,r1=(s,t)=>t?s.map(([n,i])=>{const o=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,h])=>[t+u,h])):c);return[n,o]}):s,n1=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const o=(c,u)=>{n.set(c,u),t++,t>s&&(t=0,i=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){n.has(c)?n.set(c,u):o(c,u)}}},mx="!",s1=s=>{const{separator:t,experimentalParseClassName:n}=s,i=t.length===1,o=t[0],c=t.length,u=h=>{const m=[];let f=0,p=0,v;for(let j=0;j<h.length;j++){let S=h[j];if(f===0){if(S===o&&(i||h.slice(j,j+c)===t)){m.push(h.slice(p,j)),p=j+c;continue}if(S==="/"){v=j;continue}}S==="["?f++:S==="]"&&f--}const w=m.length===0?h:h.substring(p),_=w.startsWith(mx),N=_?w.substring(1):w,b=v&&v>p?v-p:void 0;return{modifiers:m,hasImportantModifier:_,baseClassName:N,maybePostfixModifierPosition:b}};return n?h=>n({className:h,parseClassName:u}):u},a1=s=>{if(s.length<=1)return s;const t=[];let n=[];return s.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},i1=s=>({cache:n1(s.cacheSize),parseClassName:s1(s),...Zk(s)}),o1=/\s+/,l1=(s,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o}=t,c=[],u=s.trim().split(o1);let h="";for(let m=u.length-1;m>=0;m-=1){const f=u[m],{modifiers:p,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:_}=n(f);let N=!!_,b=i(N?w.substring(0,_):w);if(!b){if(!N){h=f+(h.length>0?" "+h:h);continue}if(b=i(w),!b){h=f+(h.length>0?" "+h:h);continue}N=!1}const j=a1(p).join(":"),S=v?j+mx:j,C=S+b;if(c.includes(C))continue;c.push(C);const k=o(b,N);for(let I=0;I<k.length;++I){const A=k[I];c.push(S+A)}h=f+(h.length>0?" "+h:h)}return h};function c1(){let s=0,t,n,i="";for(;s<arguments.length;)(t=arguments[s++])&&(n=fx(t))&&(i&&(i+=" "),i+=n);return i}const fx=s=>{if(typeof s=="string")return s;let t,n="";for(let i=0;i<s.length;i++)s[i]&&(t=fx(s[i]))&&(n&&(n+=" "),n+=t);return n};function u1(s,...t){let n,i,o,c=u;function u(m){const f=t.reduce((p,v)=>v(p),s());return n=i1(f),i=n.cache.get,o=n.cache.set,c=h,h(m)}function h(m){const f=i(m);if(f)return f;const p=l1(m,n);return o(m,p),p}return function(){return c(c1.apply(null,arguments))}}const Xe=s=>{const t=n=>n[s]||[];return t.isThemeGetter=!0,t},px=/^\[(?:([a-z-]+):)?(.+)\]$/i,d1=/^\d+\/\d+$/,h1=new Set(["px","full","screen"]),m1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=s=>va(s)||h1.has(s)||d1.test(s),Nn=s=>Ca(s,"length",N1),va=s=>!!s&&!Number.isNaN(Number(s)),ed=s=>Ca(s,"number",va),yi=s=>!!s&&Number.isInteger(Number(s)),x1=s=>s.endsWith("%")&&va(s.slice(0,-1)),Ee=s=>px.test(s),Sn=s=>m1.test(s),y1=new Set(["length","size","percentage"]),w1=s=>Ca(s,y1,gx),_1=s=>Ca(s,"position",gx),j1=new Set(["image","url"]),b1=s=>Ca(s,j1,C1),k1=s=>Ca(s,"",S1),wi=()=>!0,Ca=(s,t,n)=>{const i=px.exec(s);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},N1=s=>f1.test(s)&&!p1.test(s),gx=()=>!1,S1=s=>g1.test(s),C1=s=>v1.test(s),E1=()=>{const s=Xe("colors"),t=Xe("spacing"),n=Xe("blur"),i=Xe("brightness"),o=Xe("borderColor"),c=Xe("borderRadius"),u=Xe("borderSpacing"),h=Xe("borderWidth"),m=Xe("contrast"),f=Xe("grayscale"),p=Xe("hueRotate"),v=Xe("invert"),w=Xe("gap"),_=Xe("gradientColorStops"),N=Xe("gradientColorStopPositions"),b=Xe("inset"),j=Xe("margin"),S=Xe("opacity"),C=Xe("padding"),k=Xe("saturate"),I=Xe("scale"),A=Xe("sepia"),$=Xe("skew"),T=Xe("space"),M=Xe("translate"),R=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Ee,t],P=()=>[Ee,t],D=()=>["",Qr,Nn],B=()=>["auto",va,Ee],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ee],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[va,Ee];return{cacheSize:500,separator:":",theme:{colors:[wi],spacing:[Qr,Nn],blur:["none","",Sn,Ee],brightness:F(),borderColor:[s],borderRadius:["none","","full",Sn,Ee],borderSpacing:P(),borderWidth:D(),contrast:F(),grayscale:Z(),hueRotate:F(),invert:Z(),gap:P(),gradientColorStops:[s],gradientColorStopPositions:[x1,Nn],inset:H(),margin:H(),opacity:F(),padding:P(),saturate:F(),scale:F(),sepia:Z(),skew:F(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Sn]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ee]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yi,Ee]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",yi,Ee]}],"grid-cols":[{"grid-cols":[wi]}],"col-start-end":[{col:["auto",{span:["full",yi,Ee]},Ee]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[wi]}],"row-start-end":[{row:["auto",{span:[yi,Ee]},Ee]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Sn]},Sn]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sn,Nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[wi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",va,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Nn]}],"underline-offset":[{"underline-offset":["auto",Qr,Ee]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),_1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b1]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:X()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Qr,Ee]}],"outline-w":[{outline:[Qr,Nn]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Qr,Nn]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Sn,k1]}],"shadow-color":[{shadow:[wi]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Sn,Ee]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[v]}],saturate:[{saturate:[k]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[yi,Ee]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Qr,Nn,ed]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P1=u1(E1);function Re(...s){return P1(rx(s))}const R1=Mk,vx=x.forwardRef(({className:s,...t},n)=>e.jsx(Jv,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));vx.displayName=Jv.displayName;const T1=$i("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xx=x.forwardRef(({className:s,variant:t,...n},i)=>e.jsx(Qv,{ref:i,className:Re(T1({variant:t}),s),...n}));xx.displayName=Qv.displayName;const A1=x.forwardRef(({className:s,...t},n)=>e.jsx(Xv,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));A1.displayName=Xv.displayName;const yx=x.forwardRef(({className:s,...t},n)=>e.jsx(ex,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(xh,{className:"h-4 w-4"})}));yx.displayName=ex.displayName;const wx=x.forwardRef(({className:s,...t},n)=>e.jsx(Yv,{ref:n,className:Re("text-sm font-semibold",s),...t}));wx.displayName=Yv.displayName;const _x=x.forwardRef(({className:s,...t},n)=>e.jsx(Zv,{ref:n,className:Re("text-sm opacity-90",s),...t}));_x.displayName=Zv.displayName;function I1(){const{toasts:s}=qb();return e.jsxs(R1,{children:[s.map(function({id:t,title:n,description:i,action:o,...c}){return e.jsxs(xx,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(wx,{children:n}),i&&e.jsx(_x,{children:i})]}),o,e.jsx(yx,{})]},t)}),e.jsx(vx,{})]})}const O1={development:{admin:"ADMIN2024_DEV",superAdmin:"SUPER_ADMIN_2024_DEV",moderator:"MODERATOR_2024_DEV",support:"SUPPORT_2024_DEV"}},jx=()=>O1.development,bx=s=>{const t=jx();return Object.values(t).includes(s)},td=s=>{const t=jx();return s===t.superAdmin?"super_admin":s===t.admin?"admin":s===t.moderator?"moderator":null},M1="modulepreload",D1=function(s){return"/"+s},hg={},Wi=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=f;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=f(n.map(p=>{if(p=D1(p),p in hg)return;hg[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":M1,v||(_.as="script"),_.crossOrigin="",_.href=p,m&&_.setAttribute("nonce",m),document.head.appendChild(_),v)return new Promise((N,b)=>{_.addEventListener("load",N),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})},L1=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:i}=await Promise.resolve().then(()=>Ea);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class wh extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class F1 extends wh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mg extends wh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fg extends wh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Id;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Id||(Id={}));var z1=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,t||[])).next())})};class U1{constructor(t,{headers:n={},customFetch:i,region:o=Id.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=L1(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return z1(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=n;let h={},{region:m}=n;m||(m=this.region);const f=new URL(`${this.url}/${t}`);m&&m!=="any"&&(h["x-region"]=m,f.searchParams.set("forceFunctionRegion",m));let p;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)));const v=yield this.fetch(f.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:p}).catch(b=>{throw new F1(b)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new mg(v);if(!v.ok)throw new fg(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield v.json():_==="application/octet-stream"?N=yield v.blob():_==="text/event-stream"?N=v:_==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof fg||o instanceof mg?o.context:void 0}}})}}var wt={},Ys={},Zs={},Xs={},ea={},ta={},$1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},_a=$1();const B1=_a.fetch,kx=_a.fetch.bind(_a),Nx=_a.Headers,V1=_a.Request,W1=_a.Response,Ea=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nx,Request:V1,Response:W1,default:kx,fetch:B1},Symbol.toStringTag,{value:"Module"})),q1=Ej(Ea);var ol={},pg;function Sx(){if(pg)return ol;pg=1,Object.defineProperty(ol,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ol.default=s,ol}var gg;function Cx(){if(gg)return ta;gg=1;var s=ta&&ta.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ta,"__esModule",{value:!0});const t=s(q1),n=s(Sx());class i{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,v,w;let _=null,N=null,b=null,j=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=A:N=JSON.parse(A))}const k=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");k&&I&&I.length>1&&(b=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(_={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,b=null,j=406,S="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const k=await f.text();try{_=JSON.parse(k),Array.isArray(_)&&f.status===404&&(N=[],_=null,j=200,S="OK")}catch{f.status===404&&k===""?(j=204,S="No Content"):_={message:k}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,j=200,S="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:N,count:b,status:j,statusText:S}});return this.shouldThrowOnError||(m=m.catch(f=>{var p,v,w;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(v=f?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=f?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return ta.default=i,ta}var vg;function Ex(){if(vg)return ea;vg=1;var s=ea&&ea.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ea,"__esModule",{value:!0});const t=s(Cx());class n extends t.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const f=m?`${m}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(f,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:f="text"}={}){var p;const v=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${v};`,f==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ea.default=n,ea}var xg;function _h(){if(xg)return Xs;xg=1;var s=Xs&&Xs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xs,"__esModule",{value:!0});const t=s(Ex());class n extends t.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const f=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${m}fts${f}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Xs.default=n,Xs}var yg;function Px(){if(yg)return Zs;yg=1;var s=Zs&&Zs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=s(_h());class n{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let m=!1;const f=(o??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",f),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const f=o.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){const f="POST",p=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&p.push(this.headers.Prefer),h&&p.push(`count=${h}`),m||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const v=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Zs.default=n,Zs}var _i={},ji={},wg;function H1(){return wg||(wg=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.version=void 0,ji.version="0.0.0-automated"),ji}var _g;function G1(){if(_g)return _i;_g=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.DEFAULT_HEADERS=void 0;const s=H1();return _i.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},_i}var jg;function K1(){if(jg)return Ys;jg=1;var s=Ys&&Ys.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ys,"__esModule",{value:!0});const t=s(Px()),n=s(_h()),i=G1();class o{constructor(u,{headers:h={},schema:m,fetch:f}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=f}from(u){const h=new URL(`${this.url}/${u}`);return new t.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:f=!1,count:p}={}){let v;const w=new URL(`${this.url}/rpc/${u}`);let _;m||f?(v=m?"HEAD":"GET",Object.entries(h).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{w.searchParams.append(b,j)})):(v="POST",_=h);const N=Object.assign({},this.headers);return p&&(N.Prefer=`count=${p}`),new n.default({method:v,url:w,headers:N,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ys.default=o,Ys}var bg;function J1(){if(bg)return wt;bg=1;var s=wt&&wt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const t=s(K1());wt.PostgrestClient=t.default;const n=s(Px());wt.PostgrestQueryBuilder=n.default;const i=s(_h());wt.PostgrestFilterBuilder=i.default;const o=s(Ex());wt.PostgrestTransformBuilder=o.default;const c=s(Cx());wt.PostgrestBuilder=c.default;const u=s(Sx());return wt.PostgrestError=u.default,wt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},wt}var Q1=J1();const Y1=eh(Q1),{PostgrestClient:Z1,PostgrestQueryBuilder:tT,PostgrestFilterBuilder:rT,PostgrestTransformBuilder:nT,PostgrestBuilder:sT,PostgrestError:aT}=Y1;function X1(){if(typeof WebSocket<"u")return WebSocket;if(typeof globalThis.WebSocket<"u")return globalThis.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eN=X1(),tN="2.11.15",rN=`realtime-js/${tN}`,nN="1.0.0",Rx=1e4,sN=1e3;var Ri;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ri||(Ri={}));var Tt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Tt||(Tt={}));var br;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(br||(br={}));var Od;(function(s){s.websocket="websocket"})(Od||(Od={}));var hs;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(hs||(hs={}));class aN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const o=n.getUint8(1),c=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(t.slice(u,u+o));u=u+o;const m=i.decode(t.slice(u,u+c));u=u+c;const f=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:m,payload:f}}}class Tx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Qe||(Qe={}));const kg=(s,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((c,u)=>(c[u]=iN(u,s,t,o),c),{})},iN=(s,t,n,i)=>{const o=t.find(h=>h.name===s),c=o?.type,u=n[s];return c&&!i.includes(c)?Ax(c,u):Md(u)},Ax=(s,t)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return uN(t,n)}switch(s){case Qe.bool:return oN(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return lN(t);case Qe.json:case Qe.jsonb:return cN(t);case Qe.timestamp:return dN(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Md(t);default:return Md(t)}},Md=s=>s,oN=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},lN=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},cN=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},uN=(s,t)=>{if(typeof s!="string")return s;const n=s.length-1,i=s[n];if(s[0]==="{"&&i==="}"){let c;const u=s.slice(1,n);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>Ax(t,h))}return s},dN=s=>typeof s=="string"?s.replace(" ","T"):s,Ix=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class rd{constructor(t,n,i={},o=Rx){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ng;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ng||(Ng={}));class Ti{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,o,c,u),this.pendingDiffs.forEach(m=>{this.state=Ti.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ti.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const c=this.cloneDeep(t),u=this.transformState(n),h={},m={};return this.map(c,(f,p)=>{u[f]||(m[f]=p)}),this.map(u,(f,p)=>{const v=c[f];if(v){const w=p.map(j=>j.presence_ref),_=v.map(j=>j.presence_ref),N=p.filter(j=>_.indexOf(j.presence_ref)<0),b=v.filter(j=>w.indexOf(j.presence_ref)<0);N.length>0&&(h[f]=N),b.length>0&&(m[f]=b)}else h[f]=p}),this.syncDiff(c,{joins:h,leaves:m},i,o)}static syncDiff(t,n,i,o){const{joins:c,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var f;const p=(f=t[h])!==null&&f!==void 0?f:[];if(t[h]=this.cloneDeep(m),p.length>0){const v=t[h].map(_=>_.presence_ref),w=p.filter(_=>v.indexOf(_.presence_ref)<0);t[h].unshift(...w)}i(h,p,m)}),this.map(u,(h,m)=>{let f=t[h];if(!f)return;const p=m.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),t[h]=f,o(h,f,m),f.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Sg||(Sg={}));var Cg;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Cg||(Cg={}));var Zr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class jh{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,br.join,this.params,this.timeout),this.rejoinTimer=new Tx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Ti(this),this.broadcastEndpointURL=Ix(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(p=>t?.(Zr.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Zr.CLOSED));const m={},f={broadcast:c,presence:u,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t?.(Zr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w?.length)!==null&&v!==void 0?v:0,N=[];for(let b=0;b<_;b++){const j=w[b],{filter:{event:S,schema:C,table:k,filter:I}}=j,A=p&&p[b];if(A&&A.event===S&&A.schema===C&&A.table===k&&A.filter===I)N.push(Object.assign(Object.assign({},j),{id:A.id}));else{this.unsubscribe(),this.state=Tt.errored,t?.(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Zr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Tt.errored,t?.(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),f.receive("ok",()=>c("ok")),f.receive("error",()=>c("error")),f.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new rd(this,br.leave,{},t),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(c),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new rd(this,t,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,c;const u=t.toLocaleLowerCase(),{close:h,error:m,leave:f,join:p}=br;if(i&&[h,m,f,p].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var N,b,j;return((N=_.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(b=_.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(_=>_.callback(w,i)):(c=this.bindings[u])===null||c===void 0||c.filter(_=>{var N,b,j,S,C,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const I=_.id,A=(N=_.filter)===null||N===void 0?void 0:N.event;return I&&((b=n.ids)===null||b===void 0?void 0:b.includes(I))&&(A==="*"||A?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const I=(C=(S=_?.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:b,table:j,commit_timestamp:S,type:C,errors:k}=N;w=Object.assign(Object.assign({},{schema:b,table:j,commit_timestamp:S,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(N))}_.callback(w,i)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),c={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&jh.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(br.close,{},t)}_onError(t){this._on(br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=kg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=kg(t.columns,t.old_record)),n}}const Eg=()=>{},hN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mN{constructor(t,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eg,this.ref=0,this.logger=Eg,this.conn=null,this.sendBuffer=[],this.serializer=new aN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>Wi(async()=>{const{default:m}=await Promise.resolve().then(()=>Ea);return{default:m}},void 0).then(({default:m})=>m(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${t}/${Od.websocket}`,this.httpEndpoint=Ix(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n?.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=n?.encode?n.encode:(c,u)=>u(JSON.stringify(c)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=eN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nN}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return hs.Connecting;case Ri.open:return hs.Open;case Ri.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new jh(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:i,payload:o,ref:c}=t,u=()=>{this.encode(t,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:rN};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(br.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:o,payload:c,ref:u}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${i} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([hN],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class bh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class fN extends bh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dd extends bh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var pN=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,t||[])).next())})};const Ox=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:i}=await Promise.resolve().then(()=>Ea);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},gN=()=>pN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wi(()=>Promise.resolve().then(()=>Ea),void 0)).Response:Response}),Ld=s=>{if(Array.isArray(s))return s.map(n=>Ld(n));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=Ld(i)}),t};var bs=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,t||[])).next())})};const nd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),vN=(s,t,n)=>bs(void 0,void 0,void 0,function*(){const i=yield gN();s instanceof i&&!n?.noResolveJson?s.json().then(o=>{t(new fN(nd(o),s.status||500))}).catch(o=>{t(new Dd(nd(o),o))}):t(new Dd(nd(s),s))}),xN=(s,t,n,i)=>{const o={method:s,headers:t?.headers||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function qi(s,t,n,i,o,c){return bs(this,void 0,void 0,function*(){return new Promise((u,h)=>{s(n,xN(t,i,o,c)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>vN(m,h,i))})})}function Nl(s,t,n,i){return bs(this,void 0,void 0,function*(){return qi(s,"GET",t,n,i)})}function Rn(s,t,n,i,o){return bs(this,void 0,void 0,function*(){return qi(s,"POST",t,i,o,n)})}function yN(s,t,n,i,o){return bs(this,void 0,void 0,function*(){return qi(s,"PUT",t,i,o,n)})}function wN(s,t,n,i){return bs(this,void 0,void 0,function*(){return qi(s,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Mx(s,t,n,i,o){return bs(this,void 0,void 0,function*(){return qi(s,"DELETE",t,i,o,n)})}var Vt=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,t||[])).next())})};const _N={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jN{constructor(t,n={},i,o){this.url=t,this.headers=n,this.bucketId=i,this.fetch=Ox(o)}uploadOrUpdate(t,n,i,o){return Vt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},Pg),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:c,headers:h},u?.duplex?{duplex:u.duplex}:{})),w=yield v.json();return v.ok?{data:{path:f,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(c){if(_t(c))return{data:null,error:c};throw c}})}upload(t,n,i){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,o){return Vt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let m;const f=Object.assign({upsert:Pg.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",f.cacheControl)):(m=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:m,headers:p}),w=yield v.json();return v.ok?{data:{path:c,fullPath:w.Key},error:null}:{data:null,error:w}}catch(m){if(_t(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const c=yield Rn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new bh("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}update(t,n,i){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Vt(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}})}copy(t,n,i){return Vt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,i){return Vt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),c=yield Rn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,i){return Vt(this,void 0,void 0,function*(){try{const o=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}})}download(t,n){return Vt(this,void 0,void 0,function*(){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Nl(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(_t(h))return{data:null,error:h};throw h}})}info(t){return Vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ld(i),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}exists(t){return Vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield wN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(_t(i)&&i instanceof Dd){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),o=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&o.push(c);const h=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&o.push(m);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${f}`)}}}remove(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}list(t,n,i){return Vt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},_N),n),{prefix:t||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bN="2.7.1",kN={"X-Client-Info":`storage-js/${bN}`};var ra=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,[])).next())})};class NN{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},kN),n),this.fetch=Ox(i)}listBuckets(){return ra(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}getBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ra(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ra(this,void 0,void 0,function*(){try{return{data:yield yN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}}class SN extends NN{constructor(t,n={},i){super(t,n,i)}from(t){return new jN(this.url,this.headers,t,this.fetch)}}const CN="2.52.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const EN={"X-Client-Info":`supabase-js-${Ci}/${CN}`},PN={headers:EN},RN={schema:"public"},TN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AN={};var IN=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,t||[])).next())})};const ON=s=>{let t;return s?t=s:typeof fetch>"u"?t=kx:t=fetch,(...n)=>t(...n)},MN=()=>typeof Headers>"u"?Nx:Headers,DN=(s,t,n)=>{const i=ON(n),o=MN();return(c,u)=>IN(void 0,void 0,void 0,function*(){var h;const m=(h=yield t())!==null&&h!==void 0?h:s;let f=new o(u?.headers);return f.has("apikey")||f.set("apikey",s),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),i(c,Object.assign(Object.assign({},u),{headers:f}))})};var LN=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,[])).next())})};function FN(s){return s.endsWith("/")?s:s+"/"}function zN(s,t){var n,i;const{db:o,auth:c,realtime:u,global:h}=s,{db:m,auth:f,realtime:p,global:v}=t,w={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},f),c),realtime:Object.assign(Object.assign({},p),u),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>LN(this,void 0,void 0,function*(){return""})};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}const Dx="2.71.1",ua=30*1e3,Fd=3,sd=Fd*ua,UN="http://localhost:9999",$N="supabase.auth.token",BN={"X-Client-Info":`gotrue-js/${Dx}`},zd="X-Supabase-Api-Version",Lx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WN=600*1e3;class kh extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ce(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class qN extends kh{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function HN(s){return Ce(s)&&s.name==="AuthApiError"}class Fx extends kh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qn extends kh{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class En extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GN(s){return Ce(s)&&s.name==="AuthSessionMissingError"}class ll extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends qn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ul extends qn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KN(s){return Ce(s)&&s.name==="AuthImplicitGrantRedirectError"}class Rg extends qn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ud extends qn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ad(s){return Ce(s)&&s.name==="AuthRetryableFetchError"}class Tg extends qn{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class $d extends qn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),JN=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Ag.length;t+=1)s[Ag[t].charCodeAt(0)]=-2;for(let t=0;t<Sl.length;t+=1)s[Sl[t].charCodeAt(0)]=t;return s})();function Ig(s,t,n){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Sl[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Sl[i]),t.queuedBits-=6}}function zx(s,t,n){const i=JN[s];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Og(s){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{ZN(u,i,n)};for(let u=0;u<s.length;u+=1)zx(s.charCodeAt(u),o,c);return t.join("")}function QN(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function YN(s,t){for(let n=0;n<s.length;n+=1){let i=s.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}QN(i,t)}}function ZN(s,t,n){if(t.utf8seq===0){if(s<=127){n(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function XN(s){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<s.length;o+=1)zx(s.charCodeAt(o),n,i);return new Uint8Array(t)}function eS(s){const t=[];return YN(s,n=>t.push(n)),new Uint8Array(t)}function tS(s){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return s.forEach(o=>Ig(o,n,i)),Ig(null,n,i),t.join("")}function rS(s){return Math.round(Date.now()/1e3)+s}function nS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const _r=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},Ux=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function sS(s){const t={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const $x=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:i}=await Promise.resolve().then(()=>Ea);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},aS=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",da=async(s,t,n)=>{await s.setItem(t,JSON.stringify(n))},us=async(s,t)=>{const n=await s.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cn=async(s,t)=>{await s.removeItem(t)};class $l{constructor(){this.promise=new $l.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$l.promiseConstructor=Promise;function id(s){const t=s.split(".");if(t.length!==3)throw new $d("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!VN.test(t[i]))throw new $d("JWT not in base64url format");return{header:JSON.parse(Og(t[0])),payload:JSON.parse(Og(t[1])),signature:XN(t[2]),raw:{header:t[0],payload:t[1]}}}async function iS(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function oS(s,t){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await s(c);if(!t(c,null,u)){i(u);return}}catch(u){if(!t(c,u)){o(u);return}}})()})}function lS(s){return("0"+s.toString(16)).substr(-2)}function cS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let c=0;c<56;c++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,lS).join("")}async function uS(s){const n=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function dS(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await uS(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(s,t,n=!1){const i=cS();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await da(s,`${t}-code-verifier`,o);const c=await dS(i);return[c,i===c?"plain":"s256"]}const hS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mS(s){const t=s.headers.get(zd);if(!t||!t.match(hS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fS(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function pS(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(s){if(!gS.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function od(){const s={};return new Proxy(s,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mg(s){return JSON.parse(JSON.stringify(s))}var vS=function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};const ds=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),xS=[502,503,504];async function Dg(s){var t;if(!aS(s))throw new Ud(ds(s),0);if(xS.includes(s.status))throw new Ud(ds(s),s.status);let n;try{n=await s.json()}catch(c){throw new Fx(ds(c),c)}let i;const o=mS(s);if(o&&o.getTime()>=Lx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Tg(ds(n),s.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new En}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Tg(ds(n),s.status,n.weak_password.reasons);throw new qN(ds(n),s.status||500,i)}const yS=(s,t,n,i)=>{const o={method:s,headers:t?.headers||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Le(s,t,n,i){var o;const c=Object.assign({},i?.headers);c[zd]||(c[zd]=Lx["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await wS(s,t,n+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function wS(s,t,n,i,o,c){const u=yS(t,i,o,c);let h;try{h=await s(n,Object.assign({},u))}catch(m){throw console.error(m),new Ud(ds(m),0)}if(h.ok||await Dg(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await Dg(m)}}function Yr(s){var t;let n=null;kS(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=rS(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:n,user:i},error:null}}function Lg(s){const t=Yr(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Tn(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function _S(s){return{data:s,error:null}}function jS(s){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:c}=s,u=vS(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:c},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function bS(s){return s}function kS(s){return s.access_token&&s.refresh_token&&s.expires_in}const ld=["global","local","others"];var NS=function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};class SS{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=$x(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ld[0]){if(ld.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tn})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=NS(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:jS,redirectTo:n?.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tn})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,c,u,h,m;try{const f={nextPage:null,lastPage:0,total:0},p=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:bS});if(p.error)throw p.error;const v=await p.json(),w=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(m=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(N=>{const b=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);f[`${j}Page`]=b}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(Ce(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){sa(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tn})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){sa(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Tn})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){sa(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tn})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){sa(t.userId);try{const{data:n,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){sa(t.userId),sa(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function Fg(s={}){return{getItem:t=>s[t]||null,setItem:(t,n)=>{s[t]=n},removeItem:t=>{delete s[t]}}}function CS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const aa={debug:!!(globalThis&&Ux()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ES extends Bx{}async function PS(s,t,n){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(t===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new ES(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(aa.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CS();const RS={url:UN,storageKey:$N,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zg(s,t,n){return await n()}const ia={};class Di{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Di.nextInstanceID,Di.nextInstanceID+=1,this.instanceID>0&&_r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},RS),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new SS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$x(o.fetch),this.lock=o.lock||zg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:_r()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=PS:this.lock=zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ux()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ia[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ia[this.storageKey]=Object.assign(Object.assign({},ia[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ia[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ia[this.storageKey]=Object.assign(Object.assign({},ia[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sS(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),_r()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(n,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),KN(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new Fx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yr}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(c){if(Ce(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var n,i,o;try{let c;if("email"in t){const{email:p,password:v,options:w}=t;let _=null,N=null;this.flowType==="pkce"&&([_,N]=await na(this.storage,this.storageKey)),c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:N},xform:Yr})}else if("phone"in t){const{phone:p,password:v,options:w}=t;c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Yr})}else throw new cl("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(c){if(Ce(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:u,options:h}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Lg})}else if("phone"in t){const{phone:c,password:u,options:h}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Lg})}else throw new cl("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ll}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,o,c,u,h,m,f,p,v,w,_;let N,b;if("message"in t)N=t.message,b=t.signature;else{const{chain:j,wallet:S,statement:C,options:k}=t;let I;if(_r())if(typeof S=="object")I=S;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))I=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=S}const A=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const $=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),C?{statement:C}:null));let T;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")T=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)T=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)N=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),b=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${A.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=k?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((v=(p=k?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...k.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const $=await I.signMessage(new TextEncoder().encode(N),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=$}}try{const{data:j,error:S}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:tS(b)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Yr});if(S)throw S;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ll}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:S})}catch(j){if(Ce(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await us(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:c,error:u}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Yr});if(await Cn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ll}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(Ce(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:c,nonce:u}=t,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Yr}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ll}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:f})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,o,c,u;try{if("email"in t){const{email:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await na(this.storage,this.storageKey));const{error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:m}=t,{data:f,error:p}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new cl("You must provide either an email or phone number.")}catch(h){if(Ce(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,i;try{let o,c;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Yr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,f=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(o){if(Ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,i,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await na(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:_S})}catch(c){if(Ce(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new En;const{error:o}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:c}=t,{error:u}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:o,options:c}=t,{data:u,error:h}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new cl("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await us(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=od()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,f,p)=>(!u&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,f,p))})}return{data:{session:t},error:null}}const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tn}):await this._useSession(async n=>{var i,o,c;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Tn})})}catch(n){if(Ce(n))return GN(n)&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new En;const u=o.session;let h=null,m=null;this.flowType==="pkce"&&t.email!=null&&([h,m]=await na(this.storage,this.storageKey));const{data:f,error:p}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:Tn});if(p)throw p;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new En;const n=Date.now()/1e3;let i=n,o=!0,c=null;const{payload:u}=id(t.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{session:h,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new En;const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!_r())throw new ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rg("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:f}=t;if(!c||!h||!u||!f)throw new ul("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(h);let w=p+v;m&&(w=parseInt(m));const _=w-p;_*1e3<=ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const N=w-v;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:b,error:j}=await this._getUser(c);if(j)throw j;const S={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:w,refresh_token:u,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(i){if(Ce(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:c}=n;if(c)return{error:c};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(HN(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nS(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:c},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await na(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(Ce(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:o}=await this._useSession(async c=>{var u,h,m,f,p;const{data:v,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return _r()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Ce(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:c,error:u}=n;if(u)throw u;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await oS(async o=>(o>0&&await iS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yr})),(o,c)=>{const u=200*Math.pow(2,o);return c&&ad(c)&&Date.now()+u-i<ua})}catch(i){if(this._debug(n,"error",i),Ce(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),_r()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await us(this.storage,this.storageKey);if(o&&this.userStorage){let u=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await da(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:od()}else if(o&&!o.user&&!o.user){const u=await us(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Cn(this.storage,this.storageKey+"-user"),await da(this.storage,this.storageKey,o)):o.user=od()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${sd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ad(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $l;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new En;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),Ce(c)){const u={session:null,error:c};return ad(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await da(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const c=Mg(o);await da(this.storage,this.storageKey,c)}else{const o=Mg(n);await da(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_r()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ua}ms, refresh threshold is ${Fd} ticks`),o<=Fd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await na(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;return c?{data:null,error:c}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:c,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:f}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;if(c)return{data:null,error:c};const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;return c?{data:null,error:c}:await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=t?.factors||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:o},error:c}=t;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=id(o.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const p=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+WN>o)return i;const{data:c,error:u}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:N}=await this.getSession();if(N||!_.session)return{data:null,error:N};i=_.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:m}}=id(i);n?.allowExpired||fS(c.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:o,signature:u},error:null}}const p=pS(o.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,eS(`${h}.${m}`)))throw new $d("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}}Di.nextInstanceID=0;const TS=Di;class AS extends TS{constructor(t){super(t)}}var IS=function(s,t,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(p){try{f(i.next(p))}catch(v){u(v)}}function m(p){try{f(i.throw(p))}catch(v){u(v)}}function f(p){p.done?c(p.value):o(p.value).then(h,m)}f((i=i.apply(s,[])).next())})};class OS{constructor(t,n,i){var o,c,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=FN(t),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const f=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:RN,realtime:AN,auth:Object.assign(Object.assign({},TN),{storageKey:f}),global:PN},v=zN(i??{},p);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=DN(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Z1(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new U1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new SN(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return IS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:c,flowType:u,lock:h,debug:m},f,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AS({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,flowType:u,lock:h,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MS=(s,t,n)=>new OS(s,t,n);var Vx={};const Wx=Vx.NEXT_PUBLIC_SUPABASE_URL||"https://qqcoooscyzhyzmrcvsxi.supabase.co",DS=Vx.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxY29vb3NjeXpoeXptcmN2c3hpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MjQ2MTMsImV4cCI6MjA2OTAwMDYxM30.8PIgWiNvwcUVKWyK6dH74eafBMgD-mfhaRZeanCzb6E";typeof window<"u"&&(delete window.__SUPABASE_URL__,delete window.__SUPABASE_ANON_KEY__);console.log(" FORCED hardcoded Supabase URL:",Wx);console.log(" FORCED hardcoded Supabase Key:","Set");let ir=null;try{ir=MS(Wx,DS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"X-Client-Info":"navikko-app"}}}),console.log(" FORCED Supabase client initialized successfully with hardcoded credentials")}catch(s){console.error(" Error creating FORCED Supabase client:",s),ir=null}const LS={from:s=>({select:()=>Promise.resolve({data:[],error:null}),insert:t=>({select:()=>Promise.resolve({data:t,error:null}),then:n=>Promise.resolve({data:t,error:null}).then(n)}),update:t=>({select:()=>Promise.resolve({data:t,error:null}),then:n=>Promise.resolve({data:t,error:null}).then(n)}),delete:()=>({select:()=>Promise.resolve({data:null,error:null}),then:t=>Promise.resolve({data:null,error:null}).then(t)}),rpc:(t,n)=>Promise.resolve({data:null,error:null})}),auth:{signUp:()=>Promise.resolve({data:{user:null},error:null}),signInWithPassword:()=>Promise.resolve({data:{user:null},error:null}),signOut:()=>Promise.resolve({error:null}),getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:s=>({data:{subscription:null}}),resetPasswordForEmail:s=>Promise.resolve({data:null,error:{message:"Mock client: Password reset not available. Please check Supabase configuration."}})}},FS=()=>ir!==null,Ne=()=>ir||LS;class Wt{config;constructor(t={}){this.config={secret:t.secret||this.generateSecret(),digits:t.digits||6,period:t.period||30,algorithm:t.algorithm||"SHA1"}}generateSecret(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let n="";for(let i=0;i<32;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}base32ToBytes(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",i=[];let o=0,c=0;for(let u=0;u<t.length;u++){const h=t[u].toUpperCase(),m=n.indexOf(h);m!==-1&&(c=c<<5|m,o+=5,o>=8&&(i.push(c>>>o-8&255),o-=8))}return new Uint8Array(i)}async generateCode(){const t=Math.floor(Date.now()/1e3/this.config.period);return this.generateCodeForCounter(t)}async generateCodeForCounter(t){const n=new ArrayBuffer(8);new DataView(n).setBigUint64(0,BigInt(t),!1);const o=this.base32ToBytes(this.config.secret),c=await crypto.subtle.importKey("raw",o,{name:"HMAC",hash:"SHA-1"},!1,["sign"]),u=await crypto.subtle.sign("HMAC",c,n),h=new Uint8Array(u),m=h[h.length-1]&15;if(m+3>=h.length)throw new Error("Invalid hash length for TOTP generation");const f=(h[m]&127)<<24|(h[m+1]&255)<<16|(h[m+2]&255)<<8|h[m+3]&255,p=Math.pow(10,this.config.digits);return(f%p).toString().padStart(this.config.digits,"0")}async verifyCode(t,n=1){const i=Math.floor(Date.now()/1e3/this.config.period);for(let o=-n;o<=n;o++){const c=await this.generateCodeForCounter(i+o);if(t===c)return!0}return!1}generateQRCodeURL(t,n="Navikko"){const i=this.config.secret;return`otpauth://totp/${encodeURIComponent(n)}:${encodeURIComponent(t)}?secret=${i}&issuer=${encodeURIComponent(n)}&algorithm=${this.config.algorithm}&digits=${this.config.digits}&period=${this.config.period}`}getSecret(){return this.config.secret}getRemainingTime(){const t=Math.floor(Date.now()/1e3),n=this.config.period;return n-t%n}getCurrentCounter(){return Math.floor(Date.now()/1e3/this.config.period)}}const Cl=()=>new Wt().generateSecret(),cd=async(s,t,n=1)=>{console.log(" TOTP Debug: Verifying token:",t,"with secret:",s);const o=await new Wt({secret:s}).verifyCode(t,n);return console.log(" TOTP Debug: Verification result:",o),o},Ug=async s=>new Wt({secret:s}).generateCode(),zS=(s,t,n="Navikko")=>new Wt({secret:s}).generateQRCodeURL(t,n),$g=new Map,bi={MAX_LOGIN_ATTEMPTS:10,LOCKOUT_DURATION:1800*1e3,ALLOWED_ADMIN_IPS:"133.204.210.193,127.0.0.1,localhost".split(",")||["133.204.210.193","127.0.0.1","localhost"]};class fa{static instance;currentUser=null;loginAttempts=new Map;admin2FAVerified=!1;constructor(){this.loadLoginAttempts(),this.loadUserFromStorage(),this.loadAdmin2FAStatus()}static getInstance(){return fa.instance||(fa.instance=new fa),fa.instance}loadUserFromStorage(){const t=localStorage.getItem("navikko_user_data");if(t)try{const n=JSON.parse(t);if(n.userType==="admin"){localStorage.getItem("navikko_admin_2fa_verified")==="true"?(console.log(" Admin user loaded from storage - 2FA verified"),this.currentUser=n,this.admin2FAVerified=!0):(console.log(" Admin user detected in storage - clearing for security (no 2FA verification)"),this.clearStorage(),this.currentUser=null);return}this.currentUser=n}catch(n){console.error("Error loading user data:",n),this.logout()}}loadAdmin2FAStatus(){}saveUserToStorage(t){console.log("Saving user to storage:",t),localStorage.setItem("navikko_user_data",JSON.stringify(t)),localStorage.setItem("navikko_user_role",t.userType),t.userType==="admin"&&this.admin2FAVerified&&localStorage.setItem("navikko_admin_2fa_verified","true")}clearStorage(){console.log("Clearing user storage"),localStorage.removeItem("navikko_user_data"),localStorage.removeItem("navikko_user_role"),localStorage.removeItem("navikko_admin_2fa_verified")}getClientIP(){return"133.204.210.193"}isIPAllowedForAdmin(){if(bi.ALLOWED_ADMIN_IPS.length===0)return console.warn(" SECURITY WARNING: No admin IPs configured - admin access blocked"),!1;const t=this.getClientIP(),n=bi.ALLOWED_ADMIN_IPS.includes(t);return n?console.log(` Admin access allowed from IP: ${t}`):console.warn(` Admin access blocked from IP: ${t}. Allowed IPs: ${bi.ALLOWED_ADMIN_IPS.join(", ")}`),n}trackLoginAttempt(t,n){const i=Date.now(),o=this.loginAttempts.get(t)||{email:t,attempts:0,lastAttempt:0,ipAddress:this.getClientIP()};if(n)return this.loginAttempts.delete(t),this.saveLoginAttempts(),!0;if(o.lockedUntil&&i<o.lockedUntil){const c=Math.ceil((o.lockedUntil-i)/1e3/60);throw new Error(`Account is locked. Please try again in ${c} minutes.`)}if(o.attempts+=1,o.lastAttempt=i,o.attempts>=bi.MAX_LOGIN_ATTEMPTS)throw o.lockedUntil=i+bi.LOCKOUT_DURATION,this.loginAttempts.set(t,o),this.saveLoginAttempts(),new Error("Account locked due to too many failed attempts. Please try again in 30 minutes.");return this.loginAttempts.set(t,o),this.saveLoginAttempts(),!1}saveLoginAttempts(){try{const t=Array.from(this.loginAttempts.entries());localStorage.setItem("navikko_login_attempts",JSON.stringify(t))}catch(t){console.error("Failed to save login attempts:",t)}}loadLoginAttempts(){try{const t=localStorage.getItem("navikko_login_attempts");if(t){const n=JSON.parse(t);this.loginAttempts=new Map(n)}}catch(t){console.error("Failed to load login attempts:",t)}}requires2FA(t){return t==="admin"}async checkUserExists(t){try{const n=Ne(),{data:i,error:o}=await n.from("users").select("id").eq("email",t).single();return o&&o.code!=="PGRST116"?(console.error("Error checking user existence:",o),!1):!!i}catch(n){return console.error("Error checking user existence:",n),!1}}async signupCustomer(t){if(console.log("Customer signup attempt for email:",t.email),t.userType!=="customer")throw new Error("Invalid user type for customer signup");if(!t.email||!t.password||!t.name||!t.phone)throw new Error("All fields are required");if(!t.locationConsent)throw new Error("Location consent is required for customers");if(await this.checkUserExists(t.email))throw new Error("User with this email already exists. Please login instead.");try{const i=Ne(),{data:o,error:c}=await i.from("users").insert({email:t.email,name:t.name,phone:t.phone,user_type:"customer",location_consent:t.locationConsent}).select().single();if(c)throw console.error("Error creating user:",c),new Error("Failed to create user account");const u={id:o.id,email:o.email,name:o.name,phone:o.phone,userType:o.user_type,locationConsent:o.location_consent,paymentMethods:[],createdAt:o.created_at};return console.log("Created user object:",u),this.currentUser=u,this.saveUserToStorage(u),console.log("Customer signup successful for user:",u),u}catch(i){throw console.error("Customer signup error:",i),new Error(i instanceof Error?i.message:"Failed to create customer account")}}async signupRestaurantOwner(t){if(t.userType!=="restaurant_owner")throw new Error("Invalid user type for restaurant owner signup");if(!t.email||!t.password||!t.name||!t.phone)throw new Error("All fields are required");if(!t.restaurantInfo?.name||!t.restaurantInfo?.address||!t.restaurantInfo?.phone)throw new Error("Restaurant information is required");if(await this.checkUserExists(t.email))throw new Error("User with this email already exists. Please login instead.");try{const i=Ne(),{data:o,error:c}=await i.from("users").insert({email:t.email,name:t.name,phone:t.phone,user_type:"restaurant_owner"}).select().single();if(c)throw console.error("Error creating restaurant owner:",c),new Error("Failed to create restaurant owner account");const{error:u}=await i.from("restaurant_info").insert({user_id:o.id,name:t.restaurantInfo.name,address:t.restaurantInfo.address,phone:t.restaurantInfo.phone,cuisine:t.restaurantInfo.cuisine||"Other"});if(u)throw console.error("Error creating restaurant info:",u),await i.from("users").delete().eq("id",o.id),new Error("Failed to create restaurant information");const h=`sub_${Date.now()}`,{error:m}=await i.from("subscriptions").insert({user_id:o.id,plan:"basic",status:"active",start_date:new Date().toISOString(),end_date:new Date(Date.now()+365*24*60*60*1e3).toISOString(),price:5e3,currency:"JPY"});if(m)throw console.error("Error creating subscription:",m),await i.from("restaurant_info").delete().eq("user_id",o.id),await i.from("users").delete().eq("id",o.id),new Error("Failed to create subscription");const f={id:o.id,email:o.email,name:o.name,phone:o.phone,userType:o.user_type,restaurantInfo:{name:t.restaurantInfo.name,address:t.restaurantInfo.address,phone:t.restaurantInfo.phone,cuisine:t.restaurantInfo.cuisine||"Other",subscriptionId:h},subscription:{id:h,plan:"basic",status:"active",startDate:new Date().toISOString(),endDate:new Date(Date.now()+365*24*60*60*1e3).toISOString(),price:5e3,currency:"JPY"},createdAt:o.created_at};return this.currentUser=f,this.saveUserToStorage(f),f}catch(i){throw console.error("Restaurant owner signup error:",i),new Error(i instanceof Error?i.message:"Failed to create restaurant owner account")}}async signupAdmin(t){if(t.userType!=="admin")throw new Error("Invalid user type for admin signup");if(!t.email||!t.password||!t.name||!t.phone||!t.adminCode)throw new Error("All fields including admin code are required");const n=td(t.adminCode);if(!n)throw new Error("Invalid admin code");if(!this.isIPAllowedForAdmin())throw new Error("Admin access is restricted from this IP address");if(await this.checkUserExists(t.email))throw new Error("User with this email already exists. Please login instead.");try{const o=Ne();console.log("Creating admin user with data:",{email:t.email,name:t.name,phone:t.phone,user_type:"admin"});const{data:c,error:u}=await o.from("users").insert({email:t.email,name:t.name,phone:t.phone,user_type:"admin"}).select().single();if(u)throw console.error("Error creating admin user:",u),new Error(`Failed to create admin account: ${u.message}`);console.log("Admin user created successfully:",c);const h={user_id:c.id,level:n,permissions:this.getPermissionsForLevel(n),access_code:t.adminCode};console.log("Creating admin access with data:",h);const{error:m}=await o.from("admin_access").insert(h);if(m)throw console.error("Error creating admin access:",m),await o.from("users").delete().eq("id",c.id),new Error(`Failed to create admin access: ${m.message}`);console.log("Admin access created successfully");const f={id:c.id,email:c.email,name:c.name,phone:c.phone,userType:c.user_type,adminAccess:{level:n,permissions:this.getPermissionsForLevel(n),accessCode:t.adminCode},createdAt:c.created_at};return this.currentUser=f,this.saveUserToStorage(f),f}catch(o){throw console.error("Admin signup error:",o),new Error(o instanceof Error?o.message:"Failed to create admin account")}}async signup(t){switch(t.userType){case"customer":return this.signupCustomer(t);case"restaurant_owner":return this.signupRestaurantOwner(t);case"admin":return this.signupAdmin(t);default:throw new Error("Invalid user type")}}async login(t,n){if(console.log("Login attempt for email:",t.email,"with 2FA code:",n?"provided":"not provided"),t.email.includes("admin")&&!this.isIPAllowedForAdmin())throw new Error("Access denied from this IP address for admin accounts.");try{const i=Ne(),{data:o,error:c}=await i.from("users").select("*").eq("email",t.email).single();if(c||!o)throw this.trackLoginAttempt(t.email,!1),new Error("Invalid email or password");const u=this.loginAttempts.get(t.email);if(u?.lockedUntil&&Date.now()<u.lockedUntil){const m=Math.ceil((u.lockedUntil-Date.now())/1e3/60);throw new Error(`Account is locked. Please try again in ${m} minutes.`)}const h={id:o.id,email:o.email,name:o.name,phone:o.phone,userType:o.user_type,locationConsent:o.location_consent,createdAt:o.created_at};if(o.user_type==="restaurant_owner"){const{data:m}=await i.from("restaurant_info").select("*").eq("user_id",o.id).single();m&&(h.restaurantInfo={name:m.name,address:m.address,phone:m.phone,cuisine:m.cuisine,subscriptionId:m.subscription_id});const{data:f}=await i.from("subscriptions").select("*").eq("user_id",o.id).single();f&&(h.subscription={id:f.id,plan:f.plan,status:f.status,startDate:f.start_date,endDate:f.end_date,price:parseFloat(f.price),currency:f.currency})}if(o.user_type==="admin"){console.log(" Login Debug: Querying admin_access for user_id:",o.id);const{data:m,error:f}=await i.from("admin_access").select("*").eq("user_id",o.id).single();if(f&&console.error(" Login Debug: Admin data query error:",f),m&&(h.adminAccess={level:m.level,permissions:m.permissions,accessCode:m.access_code,twoFactorSecret:m.two_factor_secret,twoFactorEnabled:m.two_factor_enabled},console.log(" Login Debug: Admin data loaded for user ID:",o.id),console.log(" Login Debug: Admin data:",m)),this.requires2FA(o.user_type)){if(!n)throw new Error("2FA_REQUIRED");if(!h.adminAccess?.twoFactorSecret)throw new Error("2FA not set up. Please complete 2FA setup first.");console.log(" Login 2FA Debug: Using secret from database:",h.adminAccess.twoFactorSecret),console.log(" Login 2FA Debug: Verifying code:",n);const p=await cd(h.adminAccess.twoFactorSecret,n);if(console.log(" Login 2FA Debug: Verification result:",p),!p)throw this.trackLoginAttempt(t.email,!1),new Error("Invalid 2FA code")}}return this.trackLoginAttempt(t.email,!0),this.currentUser=h,h.userType==="admin"&&n&&(this.admin2FAVerified=!0,console.log(" Admin 2FA verification completed successfully"),localStorage.setItem("navikko_admin_2fa_verified","true")),this.saveUserToStorage(h),console.log("Login successful for user:",h),h}catch(i){throw console.error("Login error:",i),new Error(i instanceof Error?i.message:"Login failed")}}logout(){this.currentUser=null,this.admin2FAVerified=!1,this.clearStorage()}clearAllData(){this.currentUser=null,this.clearStorage(),localStorage.removeItem("navikko_user_session"),localStorage.removeItem("navikko_user_preferences")}getCurrentUser(){return this.currentUser}debugStorageState(){console.log("=== LocalStorage Debug Info ==="),console.log("navikko_user_data:",localStorage.getItem("navikko_user_data")),console.log("navikko_user_role:",localStorage.getItem("navikko_user_role")),console.log("Current user in memory:",this.currentUser),console.log("==============================")}isAuthenticated(){return this.currentUser?.userType==="admin"?this.admin2FAVerified?(console.log(" Admin user authenticated - 2FA verification completed"),!0):(console.log(" Admin user authentication blocked - requires fresh 2FA verification"),!1):!!this.currentUser}hasRole(t){return this.currentUser?.userType===t}isAdmin(){return this.currentUser?.userType==="admin"?this.admin2FAVerified?(console.log(" Admin access granted - 2FA verification completed"),!0):(console.log(" Admin access blocked - requires fresh 2FA verification"),!1):!1}isRestaurantOwner(){return this.currentUser?.userType==="restaurant_owner"}isCustomer(){return this.currentUser?.userType==="customer"}async addPaymentMethod(t){if(!this.currentUser||this.currentUser.userType!=="customer")throw new Error("Only customers can add payment methods");const n={id:`pm_${Date.now()}`,...t};return this.currentUser.paymentMethods||(this.currentUser.paymentMethods=[]),this.currentUser.paymentMethods.push(n),this.saveUserToStorage(this.currentUser),n}async updateLocationConsent(t){if(!this.currentUser||this.currentUser.userType!=="customer")throw new Error("Only customers can update location consent");this.currentUser.locationConsent=t,this.saveUserToStorage(this.currentUser)}async checkRestaurantSubscription(t){return["restaurant@example.com","owner@test.com"].includes(t)}async getSubscriptionPlans(){return[{id:"basic",name:"Basic Plan",price:5e3,currency:"JPY",features:["Menu Management","Order Management","Basic Analytics","Email Support"],duration:"monthly"},{id:"premium",name:"Premium Plan",price:1e4,currency:"JPY",features:["All Basic Features","Advanced Analytics","Multi-language Support","Priority Support","Custom Branding"],duration:"monthly"},{id:"enterprise",name:"Enterprise Plan",price:25e3,currency:"JPY",features:["All Premium Features","API Access","White-label Solution","Dedicated Support","Custom Integration"],duration:"monthly"}]}async purchaseSubscription(t,n){if(!this.currentUser||this.currentUser.userType!=="restaurant_owner")throw new Error("Only restaurant owners can purchase subscriptions");const o=(await this.getSubscriptionPlans()).find(u=>u.id===t);if(!o)throw new Error("Invalid subscription plan");await new Promise(u=>setTimeout(u,2e3));const c={id:`sub_${Date.now()}`,plan:t,status:"active",startDate:new Date().toISOString(),endDate:new Date(Date.now()+720*60*60*1e3).toISOString(),price:o.price,currency:o.currency};return this.currentUser&&(this.currentUser.subscription=c,this.currentUser.restaurantInfo&&(this.currentUser.restaurantInfo.subscriptionId=c.id),this.saveUserToStorage(this.currentUser)),c}async signInWithGoogle(t,n){if(console.log("Google Sign-In attempt for email:",t.email),n.userType==="admin"&&!this.isIPAllowedForAdmin())throw new Error("Access denied from this IP address for admin accounts.");if(n.userType==="admin"&&(!n.adminCode||!bx(n.adminCode)))throw new Error("Invalid admin access code required for admin registration.");if(await this.checkUserExists(t.email)){const c=localStorage.getItem("navikko_user_data");if(c){const u=JSON.parse(c);if(u.email===t.email){if(u.userType==="admin"&&this.requires2FA(u.userType))throw new Error("Admin users must complete 2FA setup through the admin panel");return this.currentUser=u,this.saveUserToStorage(u),console.log("Google Sign-In successful (existing user):",u),u}}}const o={id:`${n.userType}_${Date.now()}`,email:t.email,name:t.name,phone:n.phone||"",userType:n.userType,locationConsent:n.locationConsent||!1,paymentMethods:[],restaurantInfo:n.restaurantInfo,adminAccess:n.userType==="admin"&&n.adminCode?{level:td(n.adminCode)||"admin",permissions:["user_management","restaurant_management","system_settings","analytics"],accessCode:n.adminCode}:void 0,subscription:n.userType==="restaurant_owner"?{id:`sub_${Date.now()}`,plan:"basic",status:"active",startDate:new Date().toISOString(),endDate:new Date(Date.now()+365*24*60*60*1e3).toISOString(),price:5e3,currency:"JPY"}:void 0,createdAt:new Date().toISOString()};if(n.userType==="admin"&&this.requires2FA(n.userType))throw new Error("Admin users must complete 2FA setup through the admin panel");return console.log("Created user object via Google Sign-In:",o),this.currentUser=o,this.saveUserToStorage(o),console.log("Google Sign-In successful (new user):",o),o}async completeGoogleSignInWith2FA(t){const n=sessionStorage.getItem("temp_google_user");if(!n)throw new Error("No pending Google Sign-In found");const{googleUser:i,signInData:o}=JSON.parse(n),c=sessionStorage.getItem("temp_2fa_code");if(!c||t!==c)throw this.trackLoginAttempt(i.email,!1),sessionStorage.removeItem("temp_2fa_code"),sessionStorage.removeItem("temp_google_user"),new Error("Invalid 2FA code");if(sessionStorage.removeItem("temp_2fa_code"),sessionStorage.removeItem("temp_google_user"),await this.checkUserExists(i.email)){const m=localStorage.getItem("navikko_user_data");if(m){const f=JSON.parse(m);if(f.email===i.email)return this.currentUser=f,this.saveUserToStorage(f),this.trackLoginAttempt(i.email,!0),f}}const h={id:`${o.userType}_${Date.now()}`,email:i.email,name:i.name,phone:o.phone||"",userType:o.userType,locationConsent:o.locationConsent||!1,paymentMethods:[],restaurantInfo:o.restaurantInfo,adminAccess:o.userType==="admin"&&o.adminCode?{level:td(o.adminCode)||"admin",permissions:["user_management","restaurant_management","system_settings","analytics"],accessCode:o.adminCode}:void 0,subscription:o.userType==="restaurant_owner"?{id:`sub_${Date.now()}`,plan:"basic",status:"active",startDate:new Date().toISOString(),endDate:new Date(Date.now()+365*24*60*60*1e3).toISOString(),price:5e3,currency:"JPY"}:void 0,createdAt:new Date().toISOString()};return this.currentUser=h,this.saveUserToStorage(h),this.trackLoginAttempt(i.email,!0),console.log("Google Sign-In with 2FA successful:",h),h}async signUp(t){try{const n=Ne(),{data:i,error:o}=await n.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name,user_type:t.userType||"customer"}}});return{data:i,error:o}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}async signInWithPassword(t){try{const n=Ne(),{data:i,error:o}=await n.auth.signInWithPassword(t);return{data:i,error:o}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}async signOut(){try{const t=Ne(),{error:n}=await t.auth.signOut();return{error:n}}catch(t){return console.error("Sign out error:",t),{error:t}}}async getSession(){try{const t=Ne(),{data:n,error:i}=await t.auth.getSession();return{data:n,error:i}}catch(t){return console.error("Get session error:",t),{data:null,error:t}}}async setup2FA(t){const n=this.getCurrentUser();if(!n||n.id!==t)throw new Error("User not found");if(n.userType!=="admin")throw new Error("2FA is only available for admin accounts");const i=Cl(),c=new Wt({secret:i}).generateQRCodeURL(n.email,"Navikko Admin");return n.adminAccess&&(n.adminAccess.twoFactorSecret=i,this.saveUserToStorage(n)),{secret:i,qrCodeUrl:c}}async verifyAndEnable2FA(t,n){const i=this.getCurrentUser();if(!i||i.id!==t)throw new Error("User not found");if(i.userType!=="admin"||!i.adminAccess?.twoFactorSecret)throw new Error("2FA not available for this account");const o=await cd(i.adminAccess.twoFactorSecret,n);return o&&(i.adminAccess.twoFactorEnabled=!0,this.saveUserToStorage(i),$g.set(i.email,i),localStorage.setItem("navikko_users",JSON.stringify(Array.from($g.entries()))),console.log(" 2FA enabled for admin:",i.email)),o}async verify2FACode(t,n){const i=this.getCurrentUser();if(!i||i.id!==t)throw new Error("User not found");if(i.userType!=="admin"||!i.adminAccess?.twoFactorSecret)throw new Error("2FA not available for this account");return await cd(i.adminAccess.twoFactorSecret,n)}is2FAEnabled(t){const n=this.getCurrentUser();return n?.id===t&&n?.adminAccess?.twoFactorEnabled===!0}get2FAStatus(t){const n=this.getCurrentUser();return n?.id!==t?{enabled:!1}:{enabled:n.adminAccess?.twoFactorEnabled||!1,secret:n.adminAccess?.twoFactorSecret}}getPermissionsForLevel(t){switch(t){case"super_admin":return["user_management","restaurant_management","system_settings","analytics","content_moderation","billing_management","security_settings"];case"admin":return["user_management","restaurant_management","system_settings","analytics","content_moderation"];case"moderator":return["content_moderation","user_management","analytics"];default:return[]}}async resetPassword(t){try{const n=Ne();if(!FS())return{error:{message:"Supabase is not properly configured. Please check your environment variables."}};const{error:i}=await n.auth.resetPasswordForEmail(t);return{error:i}}catch(n){return{error:{message:`Password reset failed: ${n instanceof Error?n.message:"Unknown error"}`}}}}}const Be=fa.getInstance(),qx=x.createContext(void 0),US=({children:s})=>{const[t,n]=x.useState(!1),[i,o]=x.useState([]),[c,u]=x.useState(null),[h,m]=x.useState(()=>localStorage.getItem("navikko_user_role")||null),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{const P=Be.getCurrentUser();P&&(console.log(" AppContext: Loading user from storage:",P.email,P.userType),p(P),m(P.userType))},[]);const _=()=>{n(P=>!P)},N=P=>{o(D=>D.find(Y=>Y.id===P.id)?D.map(Y=>Y.id===P.id?{...Y,quantity:Y.quantity+1}:Y):[...D,{...P,quantity:1}]),Ve({title:"Added to cart",description:P.name})},b=P=>{o(D=>D.filter(B=>B.id!==P))},j=(P,D)=>{if(D<=0){b(P);return}o(B=>B.map(Y=>Y.id===P?{...Y,quantity:D}:Y))},S=()=>{o([])},C=P=>f?f.userType==="admin"&&f.adminAccess?.level==="super_admin"||f.userType==="admin"&&P!=="admin"?!0:h===P:!1,k=C("admin"),I=C("restaurant_owner"),A=C("customer"),$=()=>{if(!f)return console.log(" Admin features access denied: No user"),!1;if(console.log(" Admin access check - User:",f.email,"Type:",f.userType),console.log(" Admin access check - AuthService isAdmin:",Be.isAdmin()),console.log(" Admin access check - AuthService isAuthenticated:",Be.isAuthenticated()),f.userType==="admin")return console.log(" Admin features access granted (development mode)"),!0;const P=Be.isAdmin();return console.log(" Admin features access check:",P?"granted":"denied"),P},T=()=>{if(!f)return!1;if(f.userType==="admin")return console.log(" Admin user granted restaurant features access"),!0;if(!I||!f.subscription||f.subscription.status!=="active")return!1;const P=new Date;return!(new Date(f.subscription.endDate)<P)},M=P=>{console.log(" Role switching to:",P);const D=Be.getCurrentUser();if(D&&D.userType==="admin"){console.log(" Admin user switching role for testing:",P),m(P);return}if(P==="admin"){console.log(" Admin role assignment blocked - requires proper authentication");return}if(m(P),P){const B=Be.getCurrentUser();B&&B.userType!=="admin"&&p(B)}else p(null)},R=()=>{Be.logout(),p(null),m(null)},U=P=>{console.log(" AppContext: Updating user state after successful 2FA:",P),p(P),m(P.userType)},H={sidebarOpen:t,toggleSidebar:_,cartItems:i,addToCart:N,removeFromCart:b,updateCartQuantity:j,clearCart:S,selectedRestaurantId:c,setSelectedRestaurantId:u,userRole:h,setUserRole:M,isRestaurantOwner:I,isAdmin:k,isCustomer:A,get canAccessAdminFeatures(){return $()},get canAccessRestaurantFeatures(){return T()},isAuthenticated:Be.isAuthenticated(),user:f,setUser:p,login:async(P,D)=>{const B=Be.getCurrentUser();if(B&&B.email===P){console.log(" AppContext: User already authenticated, updating state"),p(B),m(B.userType),w(!1);return}const Y=await Be.login({email:P,password:D});p(Y),m(Y.userType),w(!1)},signup:async P=>{const D=await Be.signup(P);p(D),m(D.userType),w(!1)},logout:R,updateUserAfter2FA:U,showAuthModal:v,setShowAuthModal:w,hasRole:C};return e.jsx(qx.Provider,{value:H,children:s})},Bg={en:{menu:"Menu",reservation:"Reservation",restaurants:"Restaurants",users:"Users",cart:"Cart",profile:"Profile",dashboard:"Dashboard",orders:"Orders",menu_management:"Menu Management",restaurant_management:"Restaurant Management","restaurant.add":"Add Restaurant","restaurant.edit":"Edit Restaurant","restaurant.names":"Restaurant Names","restaurant.name_japanese":"Name (Japanese)","restaurant.name_english":"Name (English)","restaurant.name_romaji":"Name (Romaji)","restaurant.cuisine_type":"Cuisine Type","restaurant.select_cuisine":"Select cuisine type","restaurant.addresses":"Addresses","restaurant.address_japanese":"Address (Japanese)","restaurant.address_english":"Address (English)","restaurant.address_romaji":"Address (Romaji)","restaurant.phone_number":"Phone Number","restaurant.descriptions":"Descriptions","restaurant.description_japanese":"Description (Japanese)","restaurant.description_english":"Description (English)","restaurant.description_romaji":"Description (Romaji)","restaurant.image_url":"Image URL","restaurant.opening_hours":"Opening Hours","restaurant.opening_hours_placeholder":"e.g., 11:00 - 22:00","restaurant.rating":"Rating","restaurant.price_range":"Price Range","restaurant.price_budget":"$ (Budget)","restaurant.price_moderate":"$$ (Moderate)","restaurant.price_expensive":"$$$ (Expensive)","restaurant.price_very_expensive":"$$$$ (Very Expensive)","restaurant.latitude":"Latitude","restaurant.longitude":"Longitude","restaurant.external_booking_url":"External Booking URL","restaurant.notification_email":"Notification Email","restaurant.active_restaurant":"Active Restaurant","restaurant.manage":"Manage","restaurant.cuisine":"Cuisine","restaurant.status":"Status","restaurant.active":"Active","restaurant.inactive":"Inactive","dashboard.title":"Restaurant Dashboard","dashboard.welcome":"Welcome back! Here's an overview of your restaurant's performance.","dashboard.total_orders":"Total Orders","dashboard.pending_orders":"Pending Orders","dashboard.total_revenue":"Total Revenue","dashboard.customers":"Customers","dashboard.orders_growth":"+12% from last month","dashboard.need_attention":"Need attention","dashboard.revenue_growth":"+8% from last month","dashboard.new_customers":"+5 new this week","dashboard.recent_orders":"Recent Orders","dashboard.performance":"Performance","dashboard.alerts":"Alerts","dashboard.average_order_value":"Average Order Value","dashboard.completion_rate":"Completion Rate","dashboard.view_all_orders":"View All Orders","dashboard.manage_menu":"Manage Menu","dashboard.view_restaurant":"View Restaurant","dashboard.orders_pending_count":"{count} orders pending","dashboard.review_process_orders":"Review and process orders","dashboard.menu_update_available":"Menu update available","dashboard.add_seasonal_items":"Add seasonal items","dashboard.status.pending":"Pending","dashboard.status.completed":"Completed","dashboard.status.cancelled":"Cancelled",name:"Name",address:"Address",phone:"Phone",rating:"Rating",distance:"Distance",open:"Open",closed:"Closed",openingHours:"Hours","n/a":"N/A","features.multilingual":"Multilingual Support","features.multilingual_desc":"Access restaurant information and menus in multiple languages","features.restaurants":"Restaurant Discovery","features.restaurants_desc":"Find and explore restaurants with detailed information","features.location":"Location Services","features.location_desc":"Discover nearby restaurants with location services","languages.supported":"Supported Languages","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:"Search restaurants...",viewMenu:"View Menu",reserve:"Reserve Table",reserveTable:"Reserve Table",addToCart:"Add to Cart","reservation.external_button":"Reserve Table","auth.roleRequired":"Role selection required","auth.backToHome":"Back to Home","auth.forgotPassword":"Forgot Password","auth.rememberMe":"Remember Me","search.placeholder":"Search restaurants...","search.results":"{{count}} restaurants found","search.noResults":"No restaurants found","search.tryDifferent":"Try different search terms or filters","search.nearby":"Nearby restaurants","search.from_your_location":"From your location","filter.all_cuisines":"All Cuisines","filter.all_prices":"All Prices","filter.all_ratings":"All Ratings","filter.cuisine":"Cuisine","filter.priceRange":"Price Range","filter.rating":"Rating","filter.sortBy":"Sort By","filter.sortByName":"Name","filter.sortByRating":"Rating","filter.sortByDistance":"Distance","filter.sortByPrice":"Price","filter.active_filters":"Active Filters","filter.clear":"Clear Filters","filter.clearAll":"Clear All Filters","cuisine.japanese":"Japanese","cuisine.italian":"Italian","cuisine.chinese":"Chinese","cuisine.korean":"Korean","cuisine.french":"French","cuisine.thai":"Thai","cuisine.indian":"Indian","cuisine.american":"American","price.budget":" - Budget","price.moderate":" - Moderate","price.expensive":" - Expensive","price.very_expensive":" - Very Expensive","rating.4_5_plus":"4.5+ Stars","rating.4_0_plus":"4.0+ Stars","rating.3_5_plus":"3.5+ Stars","rating.3_0_plus":"3.0+ Stars",loading:"Loading...",noResults:"No restaurants found",error:"Error loading data","menu.title":"Menu","menu.multilingual_menu":"Multilingual Menu","menu.original_menu":"Original Menu","menu.view_original":"View Original","menu.show_image":"Show Image","menu.hide_image":"Hide Image","menu.no_items_available":"No menu items available","menu.category.pasta":"Pasta","menu.category.drinks":"Drinks","menu.category.appetizers":"Appetizers","menu.category.main_courses":"Main Courses","menu.category.desserts":"Desserts",originalMenu:"Original Menu","nav.menus":"Menu Management","nav.restaurants":"Restaurants","nav.users":"Users","nav.reservations":"Reservations","button.add":"Add","button.edit":"Edit","button.delete":"Delete","button.save":"Save","button.cancel":"Cancel","button.update":"Update","button.create":"Create","form.restaurant":"Restaurant","form.selectRestaurant":"Select Restaurant","form.itemNameJa":"Item Name (Japanese)","form.itemNameEn":"Item Name (English)","form.price":"Price","form.photo":"Photo URL","form.name":"Name","form.email":"Email","form.language":"Language","confirm.delete":"Are you sure you want to delete this item?",back:"Back",close:"Close",save:"Save",cancel:"Cancel","nav.cart":"Cart","cart.empty":"Your cart is empty","cart.total":"Total","nav.profile":"Profile","toast.addedToCart":"Added to cart","language.changed":"Language changed to","order.title":"Order & Pay","order.summary":"Order Summary","order.total":"Total","order.pickupTime":"Pickup Time","order.selectTime":"Select pickup time","order.notes":"Special Instructions","order.notesPlaceholder":"Any special requests or dietary requirements...","order.paymentMethod":"Payment Method","order.processing":"Processing...","order.payNow":"Pay Now","order.confirmation.title":"Order Confirmed!","order.confirmation.subtitle":"Your order has been successfully placed and paid for.","order.details":"Order Details","order.orderNumber":"Order Number","order.date":"Order Date","order.status":"Status","order.items":"Order Items","order.qrCode":"Pickup QR Code","order.qrCode.instructions":"Show this QR code when picking up your order","order.downloadReceipt":"Download Receipt","order.done":"Done","order.importantNotes":"Important Notes","order.notes.pickup":"Please arrive at the restaurant at your selected pickup time","order.notes.qrCode":"Show the QR code to the staff when picking up","order.notes.contact":"Contact the restaurant if you need to modify your order","order.notes.receipt":"Keep this confirmation for your records","order.orderNow":"Order Now","order.notAvailable":"Online ordering is not available for this restaurant. Please contact them directly.","reservation.title":"Make a Reservation","reservation.date":"Date","reservation.time":"Time","reservation.guests":"Number of Guests","reservation.guest":"Guest","reservation.name":"Name","reservation.contact":"Contact","reservation.notes":"Special Requests","reservation.submit":"Submit Reservation","reservation.confirm":"Confirm","reservation.edit":"Edit","reservation.confirm_title":"Confirm Your Reservation","reservation.confirm_message":"Please review your reservation details:","reservation.select_time":"Select time","reservation.contact_placeholder":"Phone or email","reservation.notes_placeholder":"Any special requests or dietary restrictions","reservation.external_message":"This restaurant uses an external booking system.","welcome.title":"Welcome to Navikko","welcome.subtitle":"Your multilingual dining companion for seamless restaurant experiences","welcome.signup_message":"Please sign up or log in to continue","welcome.get_started":"Get Started","welcome.for_customers":"For Customers","welcome.for_customers_desc":"Browse restaurants, place orders, and enjoy seamless dining experiences","welcome.for_owners":"For Restaurant Owners","welcome.for_owners_desc":"Manage your restaurant, orders, and menus with powerful tools","welcome.for_admins":"For Administrators","welcome.for_admins_desc":"Full system access and comprehensive management capabilities","auth.welcome":"Welcome to Navikko","auth.login":"Login","auth.signup":"Sign Up","auth.email":"Email","auth.password":"Password","auth.confirm_password":"Confirm Password","auth.full_name":"Full Name","auth.phone_number":"Phone Number","auth.enter_email":"Enter your email","auth.enter_password":"Enter your password","auth.create_password":"Create a password","auth.confirm_password_placeholder":"Confirm your password","auth.enter_full_name":"Enter your full name","auth.enter_phone":"Enter your phone number","auth.logging_in":"Logging in...","auth.signing_up":"Signing up...","auth.i_am_a":"I am a:","auth.customer":"Customer","auth.customer_desc":"Browse restaurants and place orders","auth.restaurant_owner":"Restaurant Owner","auth.restaurant_owner_desc":"Manage your restaurant and orders","auth.owner":"Restaurant Owner","auth.owner_desc":"Manage your restaurant and orders","auth.admin":"Admin","auth.admin_desc":"Full system access and management","auth.selected":"Selected","auth.browse_restaurants":"Browse restaurants","auth.place_orders":"Place orders","auth.view_history":"View order history","auth.save_favorites":"Save favorites","auth.dashboard":"Dashboard","auth.order_management":"Order management","auth.menu_management":"Menu management","auth.analytics":"Analytics","auth.all_features":"All restaurant features","auth.user_management":"User management","auth.system_settings":"System settings","auth.customer_preferences":"Customer Preferences","auth.location_consent":"Location Services Consent","auth.location_consent_desc":"Allow Navikko to access your location to show nearby restaurants and provide location-based alerts. This helps us recommend restaurants close to you and notify you when you're near a restaurant you've shown interest in.","auth.restaurant_information":"Restaurant Information","auth.restaurant_name":"Restaurant Name","auth.restaurant_phone":"Restaurant Phone","auth.restaurant_address":"Restaurant Address","auth.cuisine_type":"Cuisine Type","auth.enter_restaurant_name":"Enter restaurant name","auth.enter_restaurant_phone":"Enter restaurant phone","auth.enter_restaurant_address":"Enter restaurant address","auth.select_cuisine_type":"Select cuisine type","auth.admin_verification":"Admin Verification","auth.admin_code":"Admin Code","auth.enter_admin_code":"Enter admin verification code","auth.admin_code_desc":"Admin code required for system administrator access","auth.privacy_policy":"Privacy Policy","auth.terms_of_service":"Terms of Service","auth.agree_to_terms":"I agree to the Terms of Service and Privacy Policy","auth.terms_required":"You must agree to the Terms of Service and Privacy Policy","auth.login_title":"Login to Your Account","auth.or_login_with":"Or login with","auth.or_signup_with":"Or sign up with","auth.or":"Or","auth.google_setup_required":"Google Sign-In Setup Required","auth.google_setup_description":"To enable Google Sign-In, you need to configure your Google Client ID.","auth.google_setup_step1":"Go to Google Cloud Console","auth.google_setup_step2":"Create OAuth 2.0 Client ID for Web application","auth.google_setup_step3":"Add authorized origins:","auth.google_setup_step4":"Create .env file with:","auth.google_setup_step5":"Add environment variable in Vercel dashboard for production","auth.google_setup_button":"Open Google Cloud Console","2fa.setup_title":"Set Up Two-Factor Authentication","2fa.setup_description":"Scan the QR code with your authenticator app to set up 2FA for enhanced security.","2fa.verify_title":"Two-Factor Authentication","2fa.verify_description":"Enter the 6-digit code from your authenticator app to continue.","2fa.verification_code":"Verification Code","2fa.setup_success":"2FA setup successful!","2fa.verify_success":"Verification successful!","2fa.invalid_code":"Invalid verification code. Please try again.","2fa.verification_failed":"Verification failed. Please try again.","2fa.secret_copied":"Secret copied to clipboard!","2fa.new_secret_generated":"New secret generated!","common.close":"Close"},ja:{menu:"",reservation:"",restaurants:"",users:"",cart:"",profile:"",dashboard:"",orders:"",menu_management:"",restaurant_management:"","restaurant.add":"","restaurant.edit":"","restaurant.names":"","restaurant.name_japanese":"","restaurant.name_english":"","restaurant.name_romaji":"","restaurant.cuisine_type":"","restaurant.select_cuisine":"","restaurant.addresses":"","restaurant.address_japanese":"","restaurant.address_english":"","restaurant.address_romaji":"","restaurant.phone_number":"","restaurant.descriptions":"","restaurant.description_japanese":"","restaurant.description_english":"","restaurant.description_romaji":"","restaurant.image_url":"URL","restaurant.opening_hours":"","restaurant.opening_hours_placeholder":"11:00 - 22:00","restaurant.rating":"","restaurant.price_range":"","restaurant.price_budget":"","restaurant.price_moderate":"","restaurant.price_expensive":"","restaurant.price_very_expensive":"","restaurant.latitude":"","restaurant.longitude":"","restaurant.external_booking_url":"URL","restaurant.notification_email":"","restaurant.active_restaurant":"","restaurant.manage":"","restaurant.cuisine":"","restaurant.status":"","restaurant.active":"","restaurant.inactive":"","dashboard.title":"","dashboard.welcome":"","dashboard.total_orders":"","dashboard.pending_orders":"","dashboard.total_revenue":"","dashboard.customers":"","dashboard.orders_growth":"+12%","dashboard.need_attention":"","dashboard.revenue_growth":"+8%","dashboard.new_customers":"+5","dashboard.recent_orders":"","dashboard.performance":"","dashboard.alerts":"","dashboard.average_order_value":"","dashboard.completion_rate":"","dashboard.view_all_orders":"","dashboard.manage_menu":"","dashboard.view_restaurant":"","dashboard.orders_pending_count":"{count}","dashboard.review_process_orders":"","dashboard.menu_update_available":"","dashboard.add_seasonal_items":"","dashboard.status.pending":"","dashboard.status.completed":"","dashboard.status.cancelled":"",name:"",address:"",phone:"",rating:"",distance:"",open:"",closed:"",openingHours:"","n/a":"","features.multilingual":"","features.multilingual_desc":"","features.restaurants":"","features.restaurants_desc":"","features.location":"","features.location_desc":"","languages.supported":"","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:"...",viewMenu:"",reserve:"",reserveTable:"",addToCart:"","search.placeholder":"...","search.results":"{{count}}","search.noResults":"","search.tryDifferent":"","search.nearby":"","search.from_your_location":"","filter.all_cuisines":"","filter.all_prices":"","filter.all_ratings":"","filter.cuisine":"","filter.priceRange":"","filter.rating":"","filter.sortBy":"","filter.sortByName":"","filter.sortByRating":"","filter.sortByDistance":"","filter.sortByPrice":"","filter.active_filters":"","filter.clear":"","filter.clearAll":"","cuisine.japanese":"","cuisine.italian":"","cuisine.chinese":"","cuisine.korean":"","cuisine.french":"","cuisine.thai":"","cuisine.indian":"","cuisine.american":"","price.budget":" - ","price.moderate":" - ","price.expensive":" - ","price.very_expensive":" - ","rating.4_5_plus":"4.5+ ","rating.4_0_plus":"4.0+ ","rating.3_5_plus":"3.5+ ","rating.3_0_plus":"3.0+ ",loading:"...",noResults:"",error:"","menu.title":"","menu.multilingual_menu":"","menu.original_menu":"","menu.view_original":"","menu.show_image":"","menu.hide_image":"","menu.no_items_available":"","menu.category.pasta":"","menu.category.drinks":"","menu.category.appetizers":"","menu.category.main_courses":"","menu.category.desserts":"",originalMenu:"","nav.menus":"","nav.restaurants":"","nav.users":"","nav.reservations":"","button.add":"","button.edit":"","button.delete":"","button.save":"","button.cancel":"","button.update":"","button.create":"","form.restaurant":"","form.selectRestaurant":"","form.itemNameJa":"","form.itemNameEn":"","form.price":"","form.photo":"URL","form.name":"","form.email":"","form.language":"","welcome.title":"Navikko","welcome.subtitle":"","welcome.signup_message":"","welcome.get_started":"","welcome.for_customers":"","welcome.for_customers_desc":"","welcome.for_owners":"","welcome.for_owners_desc":"","welcome.for_admins":"","welcome.for_admins_desc":"","auth.welcome":"Navikko","auth.login":"","auth.signup":"","auth.email":"","auth.password":"","auth.confirm_password":"","auth.full_name":"","auth.phone_number":"","auth.create_password":"","auth.confirm_password_placeholder":"","auth.enter_full_name":"","auth.logging_in":"...","auth.signing_up":"...","auth.i_am_a":":","auth.customer":"","auth.customer_desc":"","auth.restaurant_owner":"","auth.restaurant_owner_desc":"","auth.owner":"","auth.owner_desc":"","auth.admin":"","auth.admin_desc":"","auth.selected":"","auth.browse_restaurants":"","auth.place_orders":"","auth.view_history":"","auth.save_favorites":"","auth.dashboard":"","auth.order_management":"","auth.menu_management":"","auth.analytics":"","auth.all_features":"","auth.user_management":"","auth.system_settings":"","auth.customer_preferences":"","auth.location_consent":"","auth.location_consent_desc":"Navikko","auth.restaurant_information":"","auth.restaurant_name":"","auth.restaurant_phone":"","auth.restaurant_address":"","auth.cuisine_type":"","auth.enter_restaurant_name":"","auth.enter_restaurant_phone":"","auth.enter_restaurant_address":"","auth.select_cuisine_type":"","auth.admin_verification":"","auth.admin_code":"","auth.enter_admin_code":"","auth.admin_code_desc":"","auth.privacy_policy":"","auth.terms_of_service":"","auth.agree_to_terms":"","auth.terms_required":"","auth.login_title":"","auth.or_login_with":"","auth.or_signup_with":"","auth.or":"","auth.google_setup_required":"Google ","auth.google_setup_description":"Google Google  ID ","auth.google_setup_step1":"Google Cloud Console ","auth.google_setup_step2":"Web  OAuth 2.0  ID ","auth.google_setup_step3":":","auth.google_setup_step4":".env :","auth.google_setup_step5":" Vercel ","auth.google_setup_button":"Google Cloud Console ","auth.name":"","auth.enter_name":"","auth.phone":"","auth.enter_phone":"","auth.enter_email":"","auth.enter_password":"","auth.enter_confirm_password":"","auth.account_type":"","auth.create_account":"","auth.creating_account":"...","2fa.setup_title":"","2fa.setup_description":"QR2FA","2fa.verify_title":"","2fa.verify_description":"6","2fa.verification_code":"","2fa.setup_success":"2FA","2fa.verify_success":"","2fa.invalid_code":"","2fa.verification_failed":"","2fa.secret_copied":"","2fa.new_secret_generated":"","confirm.delete":"",back:"",close:"",save:"",cancel:"","common.close":"","nav.cart":"","cart.empty":"","cart.total":"","nav.profile":"","toast.addedToCart":"","language.changed":"","order.title":"","order.summary":"","order.total":"","order.pickupTime":"","order.selectTime":"","order.notes":"","order.notesPlaceholder":"...","order.paymentMethod":"","order.processing":"...","order.payNow":"","order.confirmation.title":"","order.confirmation.subtitle":"","order.details":"","order.orderNumber":"","order.date":"","order.status":"","order.items":"","order.qrCode":"QR","order.qrCode.instructions":"QR","order.downloadReceipt":"","order.done":"","order.importantNotes":"","order.notes.pickup":"","order.notes.qrCode":"QR","order.notes.contact":"","order.notes.receipt":"","order.orderNow":"","order.notAvailable":"","reservation.title":"","reservation.date":"","reservation.time":"","reservation.guests":"","reservation.guest":"","reservation.name":"","reservation.contact":"","reservation.notes":"","reservation.submit":"","reservation.confirm":"","reservation.edit":"","reservation.confirm_title":"","reservation.confirm_message":"","reservation.select_time":"","reservation.contact_placeholder":"","reservation.notes_placeholder":"","reservation.external_message":"","reservation.external_button":"","auth.roleRequired":"","auth.backToHome":"","auth.forgotPassword":"","auth.rememberMe":""},zh:{menu:"",reservation:"",restaurants:"",users:"",cart:"",profile:"",name:"",address:"",phone:"",rating:"",distance:"",open:"",closed:"",openingHours:"","n/a":"","features.multilingual":"","features.multilingual_desc":"","features.restaurants":"","features.restaurants_desc":"","features.location":"","features.location_desc":"","languages.supported":"","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:"...",viewMenu:"",reserve:"",reserveTable:"",addToCart:"","search.placeholder":"...","search.results":" {{count}} ","search.noResults":"","search.tryDifferent":"","search.nearby":"","filter.all_cuisines":"","filter.all_prices":"","filter.all_ratings":"","filter.cuisine":"","filter.priceRange":"","filter.rating":"","filter.sortBy":"","filter.sortByName":"","filter.sortByRating":"","filter.sortByDistance":"","filter.sortByPrice":"","filter.active_filters":"","filter.clear":"","filter.clearAll":"","cuisine.japanese":"","cuisine.italian":"","cuisine.chinese":"","cuisine.korean":"","cuisine.french":"","cuisine.thai":"","cuisine.indian":"","cuisine.american":"","price.budget":" - ","price.moderate":" - ","price.expensive":" - ","price.very_expensive":" - ","rating.4_5_plus":"4.5+ ","rating.4_0_plus":"4.0+ ","rating.3_5_plus":"3.5+ ","rating.3_0_plus":"3.0+ ",loading:"...",noResults:"",error:"","menu.title":"","menu.multilingual_menu":"","menu.original_menu":"","menu.view_original":"","menu.show_image":"","menu.hide_image":"","menu.no_items_available":"","menu.category.pasta":"","menu.category.drinks":"","menu.category.appetizers":"","menu.category.main_courses":"","menu.category.desserts":"",originalMenu:"","nav.menus":"","nav.restaurants":"","nav.users":"","nav.reservations":"","restaurant.add":"","restaurant.edit":"","restaurant.names":"","restaurant.name_japanese":" ()","restaurant.name_english":" ()","restaurant.name_romaji":" ()","restaurant.cuisine_type":"","restaurant.select_cuisine":"","restaurant.addresses":"","restaurant.address_japanese":" ()","restaurant.address_english":" ()","restaurant.address_romaji":" ()","restaurant.phone_number":"","restaurant.descriptions":"","restaurant.description_japanese":" ()","restaurant.description_english":" ()","restaurant.description_romaji":" ()","restaurant.image_url":"URL","restaurant.opening_hours":"","restaurant.opening_hours_placeholder":"11:00 - 22:00","restaurant.rating":"","restaurant.price_range":"","restaurant.price_budget":" ()","restaurant.price_moderate":" ()","restaurant.price_expensive":" ()","restaurant.price_very_expensive":" ()","restaurant.latitude":"","restaurant.longitude":"","restaurant.external_booking_url":"URL","restaurant.notification_email":"","restaurant.active_restaurant":"","restaurant.manage":"","restaurant.cuisine":"","restaurant.status":"","restaurant.active":"","restaurant.inactive":"","button.add":"","button.edit":"","button.delete":"","button.save":"","button.cancel":"","button.update":"","button.create":"","form.restaurant":"","form.selectRestaurant":"","form.itemNameJa":"","form.itemNameEn":"","form.price":"","form.photo":"URL","form.name":"","form.email":"","form.language":"","confirm.delete":"",back:"",close:"",save:"",cancel:"","common.close":"","nav.cart":"","cart.empty":"","cart.total":"","nav.profile":"","toast.addedToCart":"","language.changed":"","order.title":"","order.summary":"","order.total":"","order.pickupTime":"","order.selectTime":"","order.notes":"","order.notesPlaceholder":"...","order.paymentMethod":"","order.processing":"...","order.payNow":"","order.confirmation.title":"","order.confirmation.subtitle":"","order.details":"","order.orderNumber":"","order.date":"","order.status":"","order.items":"","order.qrCode":"","order.qrCode.instructions":"","order.downloadReceipt":"","order.done":"","order.importantNotes":"","order.notes.pickup":"","order.notes.qrCode":"","order.notes.contact":"","order.notes.receipt":"","order.orderNow":"","order.notAvailable":"","reservation.title":"","reservation.date":"","reservation.time":"","reservation.guests":"","reservation.guest":"","reservation.name":"","reservation.contact":"","reservation.notes":"","reservation.submit":"","reservation.confirm":"","reservation.edit":"","reservation.confirm_title":"","reservation.confirm_message":"","reservation.select_time":"","reservation.contact_placeholder":"","reservation.notes_placeholder":"","reservation.external_message":"","welcome.title":"Navikko","welcome.subtitle":"","welcome.signup_message":"","welcome.get_started":"","welcome.for_customers":"","welcome.for_customers_desc":"","welcome.for_owners":"","welcome.for_owners_desc":"","welcome.for_admins":"","welcome.for_admins_desc":"","auth.welcome":"Navikko","auth.login":"","auth.signup":"","auth.email":"","auth.password":"","auth.confirm_password":"","auth.full_name":"","auth.phone_number":"","auth.enter_email":"","auth.enter_password":"","auth.create_password":"","auth.confirm_password_placeholder":"","auth.enter_full_name":"","auth.enter_phone":"","auth.logging_in":"...","auth.signing_up":"...","auth.i_am_a":":","auth.customer":"","auth.customer_desc":"","auth.owner":"","auth.owner_desc":"","auth.admin":"","auth.admin_desc":"","auth.selected":"","auth.browse_restaurants":"","auth.place_orders":"","auth.view_history":"","auth.save_favorites":"","auth.dashboard":"","auth.order_management":"","auth.menu_management":"","auth.analytics":"","auth.all_features":"","auth.user_management":"","auth.system_settings":"","auth.customer_preferences":"","auth.location_consent":"","auth.location_consent_desc":"Navikko","auth.restaurant_information":"","auth.restaurant_name":"","auth.restaurant_phone":"","auth.restaurant_address":"","auth.cuisine_type":"","auth.enter_restaurant_name":"","auth.enter_restaurant_phone":"","auth.enter_restaurant_address":"","auth.select_cuisine_type":"","auth.admin_verification":"","auth.admin_code":"","auth.enter_admin_code":"","auth.admin_code_desc":"","auth.privacy_policy":"","auth.terms_of_service":"","auth.agree_to_terms":"","auth.terms_required":"","auth.google_setup_required":"Google ","auth.google_setup_description":" Google  Google  ID","auth.google_setup_step1":" Google Cloud Console","auth.google_setup_step2":" Web  OAuth 2.0  ID","auth.google_setup_step3":"","auth.google_setup_step4":" .env ","auth.google_setup_step5":" Vercel ","auth.google_setup_button":" Google Cloud Console"},ko:{menu:"",reservation:"",restaurants:"",users:"",cart:"",profile:"",name:"",address:"",phone:"",rating:"",distance:"",open:"",closed:"",openingHours:"","n/a":"","features.multilingual":" ","features.multilingual_desc":"      ","features.restaurants":" ","features.restaurants_desc":"     ","features.location":" ","features.location_desc":"    ","languages.supported":" ","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:" ...",viewMenu:" ",reserve:" ",reserveTable:" ",addToCart:" ","search.placeholder":" ...","search.results":"{{count}}  ","search.noResults":"   ","search.tryDifferent":"   ","search.nearby":" ","filter.all_cuisines":" ","filter.all_prices":" ","filter.all_ratings":" ","filter.cuisine":"","filter.priceRange":"","filter.rating":"","filter.sortBy":"","filter.sortByName":"","filter.sortByRating":"","filter.sortByDistance":"","filter.sortByPrice":"","filter.active_filters":" ","filter.clear":" ","filter.clearAll":"  ","cuisine.japanese":" ","cuisine.italian":" ","cuisine.chinese":" ","cuisine.korean":" ","cuisine.french":" ","cuisine.thai":" ","cuisine.indian":" ","cuisine.american":" ","price.budget":" - ","price.moderate":" - ","price.expensive":" - ","price.very_expensive":" - ","rating.4_5_plus":"4.5+ ","rating.4_0_plus":"4.0+ ","rating.3_5_plus":"3.5+ ","rating.3_0_plus":"3.0+ ",loading:" ...",noResults:"   ",error:"  ","menu.title":"","menu.multilingual_menu":" ","menu.original_menu":" ","menu.view_original":" ","menu.show_image":" ","menu.hide_image":" ","menu.no_items_available":"  ","menu.category.pasta":"","menu.category.drinks":"","menu.category.appetizers":"","menu.category.main_courses":" ","menu.category.desserts":"",originalMenu:" ","nav.menus":" ","nav.restaurants":"","nav.users":"","nav.reservations":"","restaurant.add":" ","restaurant.edit":" ","restaurant.names":" ","restaurant.name_japanese":" ()","restaurant.name_english":" ()","restaurant.name_romaji":" ()","restaurant.cuisine_type":" ","restaurant.select_cuisine":"  ","restaurant.addresses":"","restaurant.address_japanese":" ()","restaurant.address_english":" ()","restaurant.address_romaji":" ()","restaurant.phone_number":"","restaurant.descriptions":"","restaurant.description_japanese":" ()","restaurant.description_english":" ()","restaurant.description_romaji":" ()","restaurant.image_url":" URL","restaurant.opening_hours":"","restaurant.opening_hours_placeholder":": 11:00 - 22:00","restaurant.rating":"","restaurant.price_range":"","restaurant.price_budget":" ()","restaurant.price_moderate":" ()","restaurant.price_expensive":" ()","restaurant.price_very_expensive":" ( )","restaurant.latitude":"","restaurant.longitude":"","restaurant.external_booking_url":"  URL","restaurant.notification_email":" ","restaurant.active_restaurant":" ","restaurant.manage":"","restaurant.cuisine":"","restaurant.status":"","restaurant.active":"","restaurant.inactive":"","button.add":"","button.edit":"","button.delete":"","button.save":"","button.cancel":"","button.update":"","button.create":"","form.restaurant":"","form.selectRestaurant":" ","form.itemNameJa":"","form.itemNameEn":"","form.price":"","form.photo":" URL","form.name":"","form.email":"","form.language":"","confirm.delete":"  ?",back:"",close:"",save:"",cancel:"","common.close":"","nav.cart":"","cart.empty":" ","cart.total":"","nav.profile":"","toast.addedToCart":" ","language.changed":" ","order.title":"  ","order.summary":" ","order.total":"","order.pickupTime":" ","order.selectTime":"  ","order.notes":" ","order.notesPlaceholder":"   ...","order.paymentMethod":" ","order.processing":" ...","order.payNow":" ","order.confirmation.title":" !","order.confirmation.subtitle":"    .","order.details":" ","order.orderNumber":" ","order.date":" ","order.status":"","order.items":" ","order.qrCode":" QR ","order.qrCode.instructions":"   QR  ","order.downloadReceipt":" ","order.done":"","order.importantNotes":" ","order.notes.pickup":"    ","order.notes.qrCode":"  QR   ","order.notes.contact":"     ","order.notes.receipt":"    ","order.orderNow":" ","order.notAvailable":"      .  .","reservation.title":"","reservation.date":"","reservation.time":"","reservation.guests":"","reservation.guest":"","reservation.name":"","reservation.contact":"","reservation.notes":" ","reservation.submit":" ","reservation.confirm":"","reservation.edit":"","reservation.confirm_title":" ","reservation.confirm_message":"  :","reservation.select_time":" ","reservation.contact_placeholder":"  ","reservation.notes_placeholder":"   ","reservation.external_message":"     .","reservation.external_button":"  ","welcome.title":"Navikko   ","welcome.subtitle":"      ","welcome.signup_message":"  ","welcome.get_started":"","welcome.for_customers":"","welcome.for_customers_desc":" , ,    ","welcome.for_owners":" ","welcome.for_owners_desc":"  , ,  ","welcome.for_admins":"","welcome.for_admins_desc":"      ","auth.welcome":"Navikko   ","auth.login":"","auth.signup":"","auth.email":"","auth.password":"","auth.confirm_password":" ","auth.full_name":"","auth.phone_number":"","auth.enter_email":" ","auth.enter_password":" ","auth.create_password":" ","auth.confirm_password_placeholder":" ","auth.enter_full_name":" ","auth.enter_phone":" ","auth.logging_in":" ...","auth.signing_up":" ...","auth.i_am_a":":","auth.customer":"","auth.customer_desc":"  ","auth.owner":" ","auth.owner_desc":"  ","auth.admin":"","auth.admin_desc":"    ","auth.selected":"","auth.browse_restaurants":" ","auth.place_orders":"","auth.view_history":"  ","auth.save_favorites":" ","auth.dashboard":"","auth.order_management":" ","auth.menu_management":" ","auth.analytics":"","auth.all_features":"  ","auth.user_management":" ","auth.system_settings":" ","auth.customer_preferences":" ","auth.location_consent":"  ","auth.location_consent_desc":"Navikko          .               .","auth.restaurant_information":" ","auth.restaurant_name":" ","auth.restaurant_phone":" ","auth.restaurant_address":" ","auth.cuisine_type":" ","auth.enter_restaurant_name":"  ","auth.enter_restaurant_phone":"  ","auth.enter_restaurant_address":"  ","auth.select_cuisine_type":"  ","auth.admin_verification":" ","auth.admin_code":" ","auth.enter_admin_code":"   ","auth.admin_code_desc":"     ","auth.google_setup_required":"Google   ","auth.google_setup_description":"Google   Google  ID  .","auth.google_setup_step1":"Google Cloud Console ","auth.google_setup_step2":"  OAuth 2.0  ID ","auth.google_setup_step3":"  :","auth.google_setup_step4":".env  :","auth.google_setup_step5":" Vercel    ","auth.google_setup_button":"Google Cloud Console "},pl:{menu:"Menu",reservation:"Rezerwacja",restaurants:"Restauracje",users:"Uytkownicy",cart:"Koszyk",profile:"Profil",name:"Nazwa",address:"Adres",phone:"Telefon",rating:"Ocena",distance:"Odlego",open:"Otwarte",closed:"Zamknite",openingHours:"Godziny otwarcia","n/a":"Brak","features.multilingual":"Obsuga wielojzyczna","features.multilingual_desc":"Dostp do informacji o restauracjach i menu w wielu jzykach","features.restaurants":"Odkrywanie restauracji","features.restaurants_desc":"Znajd i eksploruj restauracje ze szczegowymi informacjami","features.location":"Usugi lokalizacji","features.location_desc":"Odkryj pobliskie restauracje dziki usugom lokalizacji","languages.supported":"Obsugiwane jzyki","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:"Szukaj restauracji...",viewMenu:"Zobacz menu",reserve:"Rezerwuj stolik",reserveTable:"Rezerwuj stolik",addToCart:"Dodaj do koszyka","search.placeholder":"Szukaj restauracji...","search.results":"Znaleziono {{count}} restauracji","search.noResults":"Nie znaleziono restauracji","search.tryDifferent":"Sprbuj inne kryteria wyszukiwania","search.nearby":"Restauracje w pobliu","filter.all_cuisines":"Wszystkie kuchnie","filter.all_prices":"Wszystkie ceny","filter.all_ratings":"Wszystkie oceny","filter.cuisine":"Kuchnia","filter.priceRange":"Zakres cen","filter.rating":"Ocena","filter.sortBy":"Sortuj wedug","filter.sortByName":"Nazwa","filter.sortByRating":"Ocena","filter.sortByDistance":"Odlego","filter.sortByPrice":"Cena","filter.active_filters":"Aktywne filtry","filter.clear":"Wyczy filtry","filter.clearAll":"Wyczy wszystkie filtry","cuisine.japanese":"Japoska","cuisine.italian":"Woska","cuisine.chinese":"Chiska","cuisine.korean":"Koreaska","cuisine.french":"Francuska","cuisine.thai":"Tajska","cuisine.indian":"Indyjska","cuisine.american":"Amerykaska","price.budget":" - Budetowe","price.moderate":" - Umiarkowane","price.expensive":" - Drogie","price.very_expensive":" - Bardzo drogie","rating.4_5_plus":"4.5+ gwiazdek","rating.4_0_plus":"4.0+ gwiazdek","rating.3_5_plus":"3.5+ gwiazdek","rating.3_0_plus":"3.0+ gwiazdek",loading:"adowanie...",noResults:"Nie znaleziono restauracji",error:"Bd adowania danych","menu.title":"Menu","menu.multilingual_menu":"Menu wielojzyczne","menu.original_menu":"Oryginalne menu","menu.view_original":"Zobacz orygina","menu.show_image":"Poka obraz","menu.hide_image":"Ukryj obraz","menu.no_items_available":"Brak dostpnych pozycji menu","menu.category.pasta":"Makaron","menu.category.drinks":"Napoje","menu.category.appetizers":"Przystawki","menu.category.main_courses":"Dania gwne","menu.category.desserts":"Desery",originalMenu:"Oryginalne menu","nav.menus":"Zarzdzanie menu","nav.restaurants":"Restauracje","nav.users":"Uytkownicy","nav.reservations":"Rezerwacje","restaurant.add":"Dodaj Restauracj","restaurant.edit":"Edytuj Restauracj","restaurant.names":"Nazwy Restauracji","restaurant.name_japanese":"Nazwa (Japoski)","restaurant.name_english":"Nazwa (Angielski)","restaurant.name_romaji":"Nazwa (Romaji)","restaurant.cuisine_type":"Typ Kuchni","restaurant.select_cuisine":"Wybierz typ kuchni","restaurant.addresses":"Adresy","restaurant.address_japanese":"Adres (Japoski)","restaurant.address_english":"Adres (Angielski)","restaurant.address_romaji":"Adres (Romaji)","restaurant.phone_number":"Numer Telefonu","restaurant.descriptions":"Opisy","restaurant.description_japanese":"Opis (Japoski)","restaurant.description_english":"Opis (Angielski)","restaurant.description_romaji":"Opis (Romaji)","restaurant.image_url":"URL Obrazu","restaurant.opening_hours":"Godziny Otwarcia","restaurant.opening_hours_placeholder":"np. 11:00 - 22:00","restaurant.rating":"Ocena","restaurant.price_range":"Zakres Cen","restaurant.price_budget":" (Budetowe)","restaurant.price_moderate":" (Umiarkowane)","restaurant.price_expensive":" (Drogie)","restaurant.price_very_expensive":" (Bardzo Drogie)","restaurant.latitude":"Szeroko Geograficzna","restaurant.longitude":"Dugo Geograficzna","restaurant.external_booking_url":"URL Zewntrznej Rezerwacji","restaurant.notification_email":"Email Powiadomie","restaurant.active_restaurant":"Aktywna Restauracja","restaurant.manage":"Zarzdzaj","restaurant.cuisine":"Kuchnia","restaurant.status":"Status","restaurant.active":"Aktywna","restaurant.inactive":"Nieaktywna","button.add":"Dodaj","button.edit":"Edytuj","button.delete":"Usu","button.save":"Zapisz","button.cancel":"Anuluj","button.update":"Aktualizuj","button.create":"Utwrz","form.restaurant":"Restauracja","form.selectRestaurant":"Wybierz restauracj","form.itemNameJa":"Nazwa elementu (japoski)","form.itemNameEn":"Nazwa elementu (angielski)","form.price":"Cena","form.photo":"URL zdjcia","form.name":"Nazwa","form.email":"Email","form.language":"Jzyk","confirm.delete":"Czy na pewno chcesz usun ten element?",back:"Wstecz",close:"Zamknij",save:"Zapisz",cancel:"Anuluj","common.close":"Zamknij","nav.cart":"Koszyk","cart.empty":"Twj koszyk jest pusty","cart.total":"Suma","nav.profile":"Profil","toast.addedToCart":"Dodano do koszyka","language.changed":"Jzyk zmieniony na","order.title":"Zamw i zapa","order.summary":"Podsumowanie zamwienia","order.total":"Suma","order.pickupTime":"Czas odbioru","order.selectTime":"Wybierz czas odbioru","order.notes":"Specjalne instrukcje","order.notesPlaceholder":"Wszelkie specjalne proby lub wymagania dietetyczne...","order.paymentMethod":"Metoda patnoci","order.processing":"Przetwarzanie...","order.payNow":"Zapa teraz","order.confirmation.title":"Zamwienie potwierdzone!","order.confirmation.subtitle":"Twoje zamwienie zostao pomylnie zoone i opacone.","order.details":"Szczegy zamwienia","order.orderNumber":"Numer zamwienia","order.date":"Data zamwienia","order.status":"Status","order.items":"Elementy zamwienia","order.qrCode":"Kod QR odbioru","order.qrCode.instructions":"Poka ten kod QR przy odbiorze zamwienia","order.downloadReceipt":"Pobierz paragon","order.done":"Gotowe","order.importantNotes":"Wane uwagi","order.notes.pickup":"Przyjd do restauracji o wybranym czasie odbioru","order.notes.qrCode":"Poka kod QR personelowi przy odbiorze","order.notes.contact":"Skontaktuj si z restauracj, jeli musisz zmodyfikowa zamwienie","order.notes.receipt":"Zachowaj to potwierdzenie jako zapis","order.orderNow":"Zamw teraz","order.notAvailable":"Zamawianie online nie jest dostpne dla tej restauracji. Skontaktuj si z nimi bezporednio.","reservation.title":"Zarezerwuj stolik","reservation.date":"Data","reservation.time":"Czas","reservation.guests":"Liczba goci","reservation.guest":"go","reservation.name":"Nazwa","reservation.contact":"Kontakt","reservation.notes":"Specjalne proby","reservation.submit":"Zatwierd rezerwacj","reservation.confirm":"Potwierd","reservation.edit":"Edytuj","reservation.confirm_title":"Potwierd rezerwacj","reservation.confirm_message":"Sprawd szczegy rezerwacji:","reservation.select_time":"Wybierz czas","reservation.contact_placeholder":"Telefon lub email","reservation.notes_placeholder":"Wszelkie specjalne proby lub ograniczenia dietetyczne","reservation.external_message":"Ta restauracja uywa zewntrznego systemu rezerwacji.","welcome.title":"Witamy w Navikko","welcome.subtitle":"Twj wielojzyczny towarzysz gastronomiczny dla pynnych dowiadcze restauracyjnych","welcome.signup_message":"Zarejestruj si lub zaloguj, aby kontynuowa","welcome.get_started":"Rozpocznij","welcome.for_customers":"Dla klientw","welcome.for_customers_desc":"Przegldaj restauracje, skadaj zamwienia i ciesz si pynnymi dowiadczeniami gastronomicznymi","welcome.for_owners":"Dla wacicieli restauracji","welcome.for_owners_desc":"Zarzdzaj swoj restauracj, zamwieniami i menu za pomoc potnych narzdzi","welcome.for_admins":"Dla administratorw","welcome.for_admins_desc":"Peny dostp do systemu i kompleksowe moliwoci zarzdzania","auth.welcome":"Witamy w Navikko","auth.login":"Zaloguj si","auth.signup":"Zarejestruj si","auth.email":"Email","auth.password":"Haso","auth.confirm_password":"Potwierd haso","auth.full_name":"Pene imi","auth.phone_number":"Numer telefonu","auth.enter_email":"Wprowad swj email","auth.enter_password":"Wprowad swoje haso","auth.create_password":"Utwrz haso","auth.confirm_password_placeholder":"Potwierd swoje haso","auth.enter_full_name":"Wprowad swoje pene imi","auth.enter_phone":"Wprowad swj numer telefonu","auth.logging_in":"Logowanie...","auth.signing_up":"Rejestracja...","auth.i_am_a":"Jestem:","auth.customer":"Klient","auth.customer_desc":"Przegldaj restauracje i skadaj zamwienia","auth.restaurant_owner":"Waciciel restauracji","auth.restaurant_owner_desc":"Zarzdzaj swoj restauracj i zamwieniami","auth.owner":"Waciciel restauracji","auth.owner_desc":"Zarzdzaj swoj restauracj i zamwieniami","auth.admin":"Administrator","auth.admin_desc":"Peny dostp do systemu i zarzdzanie","auth.selected":"Wybrane","auth.browse_restaurants":"Przegldaj restauracje","auth.place_orders":"Skadaj zamwienia","auth.view_history":"Zobacz histori zamwie","auth.save_favorites":"Zapisz ulubione","auth.dashboard":"Panel","auth.order_management":"Zarzdzanie zamwieniami","auth.menu_management":"Zarzdzanie menu","auth.analytics":"Analityka","auth.all_features":"Wszystkie funkcje restauracji","auth.user_management":"Zarzdzanie uytkownikami","auth.system_settings":"Ustawienia systemu","auth.customer_preferences":"Preferencje klienta","auth.location_consent":"Zgoda na usugi lokalizacji","auth.location_consent_desc":"Pozwl Navikko na dostp do Twojej lokalizacji, aby pokaza pobliskie restauracje i dostarcza alerty oparte na lokalizacji. To pomaga nam rekomendowa restauracje blisko Ciebie i powiadamia Ci, gdy jeste blisko restauracji, ktra Ci zainteresowaa.","auth.restaurant_information":"Informacje o restauracji","auth.restaurant_name":"Nazwa restauracji","auth.restaurant_phone":"Telefon restauracji","auth.restaurant_address":"Adres restauracji","auth.cuisine_type":"Typ kuchni","auth.enter_restaurant_name":"Wprowad nazw restauracji","auth.enter_restaurant_phone":"Wprowad telefon restauracji","auth.enter_restaurant_address":"Wprowad adres restauracji","auth.select_cuisine_type":"Wybierz typ kuchni","auth.admin_verification":"Weryfikacja administratora","auth.admin_code":"Kod administratora","auth.enter_admin_code":"Wprowad kod weryfikacji administratora","auth.admin_code_desc":"Kod administratora wymagany dla dostpu administratora systemu","auth.google_setup_required":"Wymagana konfiguracja logowania Google","auth.google_setup_description":"Aby wczy logowanie Google, musisz skonfigurowa swj identyfikator klienta Google.","auth.google_setup_step1":"Przejd do Google Cloud Console","auth.google_setup_step2":"Utwrz identyfikator klienta OAuth 2.0 dla aplikacji internetowej","auth.google_setup_step3":"Dodaj autoryzowane rda:","auth.google_setup_step4":"Utwrz plik .env z:","auth.google_setup_step5":"Dodaj zmienn rodowiskow w panelu Vercel dla produkcji","auth.google_setup_button":"Otwrz Google Cloud Console"},th:{menu:"",reservation:"",restaurants:"",users:"",cart:"",profile:"",name:"",address:"",phone:"",rating:"",distance:"",open:"",closed:"",openingHours:"","n/a":"","features.multilingual":"","features.multilingual_desc":"","features.restaurants":"","features.restaurants_desc":"","features.location":"","features.location_desc":"","languages.supported":"","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn",search:"...",viewMenu:"",reserve:"",reserveTable:"",addToCart:"","search.placeholder":"...","search.results":" {{count}} ","search.noResults":"","search.tryDifferent":"","search.nearby":"","filter.all_cuisines":"","filter.all_prices":"","filter.all_ratings":"","filter.cuisine":"","filter.priceRange":"","filter.rating":"","filter.sortBy":"","filter.sortByName":"","filter.sortByRating":"","filter.sortByDistance":"","filter.sortByPrice":"","filter.active_filters":"","filter.clear":"","filter.clearAll":"","cuisine.japanese":"","cuisine.italian":"","cuisine.chinese":"","cuisine.korean":"","cuisine.french":"","cuisine.thai":"","cuisine.indian":"","cuisine.american":"","price.budget":" - ","price.moderate":" - ","price.expensive":" - ","price.very_expensive":" - ","rating.4_5_plus":"4.5 ","rating.4_0_plus":"4.0 ","rating.3_5_plus":"3.5 ","rating.3_0_plus":"3.0 ",loading:"...",noResults:"",error:"","menu.title":"","menu.multilingual_menu":"","menu.original_menu":"","menu.view_original":"","menu.show_image":"","menu.hide_image":"","menu.no_items_available":"","menu.category.pasta":"","menu.category.drinks":"","menu.category.appetizers":"","menu.category.main_courses":"","menu.category.desserts":"",originalMenu:"","nav.menus":"","nav.restaurants":"","nav.users":"","nav.reservations":"","restaurant.add":"","restaurant.edit":"","restaurant.names":"","restaurant.name_japanese":" ()","restaurant.name_english":" ()","restaurant.name_romaji":" ()","restaurant.cuisine_type":"","restaurant.select_cuisine":"","restaurant.addresses":"","restaurant.address_japanese":" ()","restaurant.address_english":" ()","restaurant.address_romaji":" ()","restaurant.phone_number":"","restaurant.descriptions":"","restaurant.description_japanese":" ()","restaurant.description_english":" ()","restaurant.description_romaji":" ()","restaurant.image_url":"URL ","restaurant.opening_hours":"","restaurant.opening_hours_placeholder":" 11:00 - 22:00","restaurant.rating":"","restaurant.price_range":"","restaurant.price_budget":" ()","restaurant.price_moderate":" ()","restaurant.price_expensive":" ()","restaurant.price_very_expensive":" ()","restaurant.latitude":"","restaurant.longitude":"","restaurant.external_booking_url":"URL ","restaurant.notification_email":"","restaurant.active_restaurant":"","restaurant.manage":"","restaurant.cuisine":"","restaurant.status":"","restaurant.active":"","restaurant.inactive":"","button.add":"","button.edit":"","button.delete":"","button.save":"","button.cancel":"","button.update":"","button.create":"","form.restaurant":"","form.selectRestaurant":"","form.itemNameJa":" ()","form.itemNameEn":" ()","form.price":"","form.photo":"URL ","form.name":"","form.email":"","form.language":"","confirm.delete":"?",back:"",close:"",save:"",cancel:"","common.close":"","nav.cart":"","cart.empty":"","cart.total":"","nav.profile":"","toast.addedToCart":"","language.changed":"","order.title":"","order.summary":"","order.total":"","order.pickupTime":"","order.selectTime":"","order.notes":"","order.notesPlaceholder":"...","order.paymentMethod":"","order.processing":"...","order.payNow":"","order.confirmation.title":"!","order.confirmation.subtitle":"","order.details":"","order.orderNumber":"","order.date":"","order.status":"","order.items":"","order.qrCode":"QR Code ","order.qrCode.instructions":" QR Code ","order.downloadReceipt":"","order.done":"","order.importantNotes":"","order.notes.pickup":"","order.notes.qrCode":" QR Code ","order.notes.contact":"","order.notes.receipt":"","order.orderNow":"","order.notAvailable":" ","reservation.title":"","reservation.date":"","reservation.time":"","reservation.guests":"","reservation.guest":"","reservation.name":"","reservation.contact":"","reservation.notes":"","reservation.submit":"","reservation.confirm":"","reservation.edit":"","reservation.confirm_title":"","reservation.confirm_message":":","reservation.select_time":"","reservation.contact_placeholder":"","reservation.notes_placeholder":"","reservation.external_message":"","welcome.title":" Navikko","welcome.subtitle":"","welcome.signup_message":"","welcome.get_started":"","welcome.for_customers":"","welcome.for_customers_desc":"  ","welcome.for_owners":"","welcome.for_owners_desc":"  ","welcome.for_admins":"","welcome.for_admins_desc":"","auth.welcome":" Navikko","auth.login":"","auth.signup":"","auth.email":"","auth.password":"","auth.confirm_password":"","auth.full_name":"","auth.phone_number":"","auth.enter_email":"","auth.enter_password":"","auth.create_password":"","auth.confirm_password_placeholder":"","auth.enter_full_name":"","auth.enter_phone":"","auth.logging_in":"...","auth.signing_up":"...","auth.i_am_a":":","auth.customer":"","auth.customer_desc":"","auth.restaurant_owner":"","auth.restaurant_owner_desc":"","auth.owner":"","auth.owner_desc":"","auth.admin":"","auth.admin_desc":"","auth.selected":"","auth.browse_restaurants":"","auth.place_orders":"","auth.view_history":"","auth.save_favorites":"","auth.dashboard":"","auth.order_management":"","auth.menu_management":"","auth.analytics":"","auth.all_features":"","auth.user_management":"","auth.system_settings":"","auth.customer_preferences":"","auth.location_consent":"","auth.location_consent_desc":" Navikko  ","auth.restaurant_information":"","auth.restaurant_name":"","auth.restaurant_phone":"","auth.restaurant_address":"","auth.cuisine_type":"","auth.enter_restaurant_name":"","auth.enter_restaurant_phone":"","auth.enter_restaurant_address":"","auth.select_cuisine_type":"","auth.admin_verification":"","auth.admin_code":"","auth.enter_admin_code":"","auth.admin_code_desc":"","auth.google_setup_required":" Google Sign-In","auth.google_setup_description":" Google Sign-In  Google Client ID ","auth.google_setup_step1":" Google Cloud Console","auth.google_setup_step2":" OAuth 2.0 Client ID ","auth.google_setup_step3":":","auth.google_setup_step4":" .env :","auth.google_setup_step5":" Vercel ","auth.google_setup_button":" Google Cloud Console"},ms:{menu:"Menu",reservation:"Tempahan",restaurants:"Restoran",users:"Pengguna",cart:"Troli",profile:"Profil",dashboard:"Papan Pemuka",orders:"Pesanan",menu_management:"Pengurusan Menu",restaurant_management:"Pengurusan Restoran","restaurant.add":"Tambah Restoran","restaurant.edit":"Edit Restoran","restaurant.names":"Nama Restoran","restaurant.name_japanese":"Nama (Jepun)","restaurant.name_english":"Nama (Inggeris)","restaurant.name_romaji":"Nama (Romaji)","restaurant.cuisine_type":"Jenis Masakan","restaurant.select_cuisine":"Pilih jenis masakan","restaurant.addresses":"Alamat","restaurant.address_japanese":"Alamat (Jepun)","restaurant.address_english":"Alamat (Inggeris)","restaurant.address_romaji":"Alamat (Romaji)","restaurant.phone_number":"Nombor Telefon","restaurant.descriptions":"Penerangan","restaurant.description_japanese":"Penerangan (Jepun)","restaurant.description_english":"Penerangan (Inggeris)","restaurant.description_romaji":"Penerangan (Romaji)","restaurant.image_url":"URL Gambar","restaurant.opening_hours":"Waktu Operasi","restaurant.opening_hours_placeholder":"cth: 11:00 - 22:00","restaurant.rating":"Penilaian","restaurant.price_range":"Julat Harga","restaurant.price_budget":" (Bajet)","restaurant.price_moderate":" (Sederhana)","restaurant.price_expensive":" (Mahal)","restaurant.price_very_expensive":" (Sangat Mahal)","restaurant.latitude":"Latitud","restaurant.longitude":"Longitud","restaurant.external_booking_url":"URL Tempahan Luaran","restaurant.notification_email":"Email Pemberitahuan","restaurant.active_restaurant":"Restoran Aktif","restaurant.manage":"Urus","restaurant.cuisine":"Masakan","restaurant.status":"Status","restaurant.active":"Aktif","restaurant.inactive":"Tidak Aktif","button.add":"Tambah","button.edit":"Edit","button.delete":"Padam","button.save":"Simpan","button.cancel":"Batal","button.update":"Kemas Kini","button.create":"Cipta","welcome.title":"Selamat Datang ke Navikko","welcome.subtitle":"Rakan makan berbilang bahasa anda untuk pengalaman restoran yang lancar","welcome.signup_message":"Sila daftar atau log masuk untuk meneruskan","welcome.get_started":"Mula","welcome.for_customers":"Untuk Pelanggan","welcome.for_customers_desc":"Jelajahi restoran, buat pesanan, dan nikmati pengalaman makan yang lancar","welcome.for_owners":"Untuk Pemilik Restoran","welcome.for_owners_desc":"Urus restoran, pesanan, dan menu anda dengan alat yang berkuasa","welcome.for_admins":"Untuk Pentadbir","welcome.for_admins_desc":"Akses sistem penuh dan keupayaan pengurusan yang komprehensif","auth.welcome":"Selamat Datang ke Navikko","auth.login":"Log Masuk","auth.signup":"Daftar","auth.email":"E-mel","auth.password":"Kata Laluan","auth.confirm_password":"Sahkan Kata Laluan","auth.full_name":"Nama Penuh","auth.phone_number":"Nombor Telefon","auth.enter_email":"Masukkan e-mel anda","auth.enter_password":"Masukkan kata laluan anda","auth.create_password":"Cipta kata laluan","auth.confirm_password_placeholder":"Sahkan kata laluan anda","auth.enter_full_name":"Masukkan nama penuh anda","auth.enter_phone":"Masukkan nombor telefon anda","auth.logging_in":"Memasuki...","auth.signing_up":"Mendaftar...","auth.i_am_a":"Saya adalah:","auth.customer":"Pelanggan","auth.customer_desc":"Jelajahi restoran dan buat pesanan","auth.restaurant_owner":"Pemilik Restoran","auth.restaurant_owner_desc":"Urus restoran dan pesanan anda","auth.owner":"Pemilik Restoran","auth.owner_desc":"Urus restoran dan pesanan anda","auth.admin":"Pentadbir","auth.admin_desc":"Akses sistem penuh dan pengurusan","auth.selected":"Dipilih","auth.customer_preferences":"Keutamaan Pelanggan","auth.location_consent":"Kebenaran Perkhidmatan Lokasi","auth.location_consent_desc":"Benarkan Navikko mengakses lokasi anda untuk menunjukkan restoran berdekatan dan memberikan amaran berasaskan lokasi. Ini membantu kami mengesyorkan restoran berdekatan dengan anda dan memberitahu anda apabila anda berada berdekatan restoran yang anda minati.","auth.restaurant_information":"Maklumat Restoran","auth.restaurant_name":"Nama Restoran","auth.restaurant_phone":"Telefon Restoran","auth.restaurant_address":"Alamat Restoran","auth.cuisine_type":"Jenis Masakan","auth.enter_restaurant_name":"Masukkan nama restoran","auth.enter_restaurant_phone":"Masukkan telefon restoran","auth.enter_restaurant_address":"Masukkan alamat restoran","auth.select_cuisine_type":"Pilih jenis masakan","auth.admin_verification":"Pengesahan Pentadbir","auth.admin_code":"Kod Pentadbir","auth.enter_admin_code":"Masukkan kod pengesahan pentadbir","auth.admin_code_desc":"Kod pentadbir diperlukan untuk akses pentadbir sistem","common.close":"Tutup","auth.google_setup_required":"Konfigurasi Google Sign-In Diperlukan","auth.google_setup_description":"Untuk mengaktifkan Google Sign-In, anda perlu mengkonfigurasi Google Client ID anda.","auth.google_setup_step1":"Pergi ke Google Cloud Console","auth.google_setup_step2":"Cipta OAuth 2.0 Client ID untuk aplikasi web","auth.google_setup_step3":"Tambah asal yang dibenarkan:","auth.google_setup_step4":"Cipta fail .env dengan:","auth.google_setup_step5":"Tambah pembolehubah persekitaran dalam papan pemuka Vercel untuk pengeluaran","auth.google_setup_button":"Buka Google Cloud Console","features.multilingual":"Sokongan Pelbagai Bahasa","features.multilingual_desc":"Akses maklumat restoran dan menu dalam pelbagai bahasa","features.restaurants":"Penemuan Restoran","features.restaurants_desc":"Cari dan terokai restoran dengan maklumat terperinci","features.location":"Perkhidmatan Lokasi","features.location_desc":"Temui restoran berdekatan dengan perkhidmatan lokasi","languages.supported":"Bahasa yang Disokong","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn"},id:{menu:"Menu",reservation:"Reservasi",restaurants:"Restoran",users:"Pengguna",cart:"Keranjang",profile:"Profil",dashboard:"Dashboard",orders:"Pesanan",menu_management:"Manajemen Menu",restaurant_management:"Manajemen Restoran","restaurant.add":"Tambah Restoran","restaurant.edit":"Edit Restoran","restaurant.names":"Nama Restoran","restaurant.name_japanese":"Nama (Jepang)","restaurant.name_english":"Nama (Inggris)","restaurant.name_romaji":"Nama (Romaji)","restaurant.cuisine_type":"Jenis Masakan","restaurant.select_cuisine":"Pilih jenis masakan","restaurant.addresses":"Alamat","restaurant.address_japanese":"Alamat (Jepang)","restaurant.address_english":"Alamat (Inggris)","restaurant.address_romaji":"Alamat (Romaji)","restaurant.phone_number":"Nomor Telepon","restaurant.descriptions":"Deskripsi","restaurant.description_japanese":"Deskripsi (Jepang)","restaurant.description_english":"Deskripsi (Inggris)","restaurant.description_romaji":"Deskripsi (Romaji)","restaurant.image_url":"URL Gambar","restaurant.opening_hours":"Jam Buka","restaurant.opening_hours_placeholder":"mis: 11:00 - 22:00","restaurant.rating":"Rating","restaurant.price_range":"Rentang Harga","restaurant.price_budget":" (Budget)","restaurant.price_moderate":" (Sedang)","restaurant.price_expensive":" (Mahal)","restaurant.price_very_expensive":" (Sangat Mahal)","restaurant.latitude":"Lintang","restaurant.longitude":"Bujur","restaurant.external_booking_url":"URL Booking Eksternal","restaurant.notification_email":"Email Notifikasi","restaurant.active_restaurant":"Restoran Aktif","restaurant.manage":"Kelola","restaurant.cuisine":"Masakan","restaurant.status":"Status","restaurant.active":"Aktif","restaurant.inactive":"Tidak Aktif","button.add":"Tambah","button.edit":"Edit","button.delete":"Hapus","button.save":"Simpan","button.cancel":"Batal","button.update":"Perbarui","button.create":"Buat","welcome.title":"Selamat Datang di Navikko","welcome.subtitle":"Teman makan multibahasa Anda untuk pengalaman restoran yang mulus","welcome.signup_message":"Silakan daftar atau masuk untuk melanjutkan","welcome.get_started":"Mulai","welcome.for_customers":"Untuk Pelanggan","welcome.for_customers_desc":"Jelajahi restoran, buat pesanan, dan nikmati pengalaman makan yang mulus","welcome.for_owners":"Untuk Pemilik Restoran","welcome.for_owners_desc":"Kelola restoran, pesanan, dan menu Anda dengan alat yang kuat","welcome.for_admins":"Untuk Administrator","welcome.for_admins_desc":"Akses sistem penuh dan kemampuan manajemen yang komprehensif","auth.welcome":"Selamat Datang di Navikko","auth.login":"Masuk","auth.signup":"Daftar","auth.email":"Email","auth.password":"Kata Sandi","auth.confirm_password":"Konfirmasi Kata Sandi","auth.full_name":"Nama Lengkap","auth.phone_number":"Nomor Telepon","auth.enter_email":"Masukkan email Anda","auth.enter_password":"Masukkan kata sandi Anda","auth.create_password":"Buat kata sandi","auth.confirm_password_placeholder":"Konfirmasi kata sandi Anda","auth.enter_full_name":"Masukkan nama lengkap Anda","auth.enter_phone":"Masukkan nomor telepon Anda","auth.logging_in":"Memasuki...","auth.signing_up":"Mendaftar...","auth.i_am_a":"Saya adalah:","auth.customer":"Pelanggan","auth.customer_desc":"Jelajahi restoran dan buat pesanan","auth.restaurant_owner":"Pemilik Restoran","auth.restaurant_owner_desc":"Kelola restoran dan pesanan Anda","auth.owner":"Pemilik Restoran","auth.owner_desc":"Kelola restoran dan pesanan Anda","auth.admin":"Administrator","auth.admin_desc":"Akses sistem penuh dan manajemen","auth.selected":"Dipilih","auth.customer_preferences":"Preferensi Pelanggan","auth.location_consent":"Persetujuan Layanan Lokasi","auth.location_consent_desc":"Izinkan Navikko mengakses lokasi Anda untuk menampilkan restoran terdekat dan memberikan peringatan berbasis lokasi. Ini membantu kami merekomendasikan restoran dekat dengan Anda dan memberi tahu Anda ketika Anda berada dekat restoran yang Anda minati.","auth.restaurant_information":"Informasi Restoran","auth.restaurant_name":"Nama Restoran","auth.restaurant_phone":"Telepon Restoran","auth.restaurant_address":"Alamat Restoran","auth.cuisine_type":"Jenis Masakan","auth.enter_restaurant_name":"Masukkan nama restoran","auth.enter_restaurant_phone":"Masukkan telepon restoran","auth.enter_restaurant_address":"Masukkan alamat restoran","auth.select_cuisine_type":"Pilih jenis masakan","auth.admin_verification":"Verifikasi Administrator","auth.admin_code":"Kode Administrator","auth.enter_admin_code":"Masukkan kode verifikasi administrator","auth.admin_code_desc":"Kode administrator diperlukan untuk akses administrator sistem","common.close":"Tutup","auth.google_setup_required":"Konfigurasi Google Sign-In Diperlukan","auth.google_setup_description":"Untuk mengaktifkan Google Sign-In, Anda perlu mengkonfigurasi Google Client ID Anda.","auth.google_setup_step1":"Pergi ke Google Cloud Console","auth.google_setup_step2":"Buat OAuth 2.0 Client ID untuk aplikasi web","auth.google_setup_step3":"Tambahkan asal yang diotorisasi:","auth.google_setup_step4":"Buat file .env dengan:","auth.google_setup_step5":"Tambahkan variabel lingkungan di dashboard Vercel untuk produksi","auth.google_setup_button":"Buka Google Cloud Console","features.multilingual":"Dukungan Multibahasa","features.multilingual_desc":"Akses informasi restoran dan menu dalam berbagai bahasa","features.restaurants":"Penemuan Restoran","features.restaurants_desc":"Temukan dan jelajahi restoran dengan informasi detail","features.location":"Layanan Lokasi","features.location_desc":"Temukan restoran terdekat dengan layanan lokasi","languages.supported":"Bahasa yang Didukung","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn"},es:{menu:"Men",reservation:"Reserva",restaurants:"Restaurantes",users:"Usuarios",cart:"Carrito",profile:"Perfil",dashboard:"Panel",orders:"Pedidos",menu_management:"Gestin de Men",restaurant_management:"Gestin de Restaurante","restaurant.add":"Agregar Restaurante","restaurant.edit":"Editar Restaurante","restaurant.names":"Nombres del Restaurante","restaurant.name_japanese":"Nombre (Japons)","restaurant.name_english":"Nombre (Ingls)","restaurant.name_romaji":"Nombre (Romaji)","restaurant.cuisine_type":"Tipo de Cocina","restaurant.select_cuisine":"Seleccionar tipo de cocina","restaurant.addresses":"Direcciones","restaurant.address_japanese":"Direccin (Japons)","restaurant.address_english":"Direccin (Ingls)","restaurant.address_romaji":"Direccin (Romaji)","restaurant.phone_number":"Nmero de Telfono","restaurant.descriptions":"Descripciones","restaurant.description_japanese":"Descripcin (Japons)","restaurant.description_english":"Descripcin (Ingls)","restaurant.description_romaji":"Descripcin (Romaji)","restaurant.image_url":"URL de Imagen","restaurant.opening_hours":"Horario de Apertura","restaurant.opening_hours_placeholder":"ej: 11:00 - 22:00","restaurant.rating":"Calificacin","restaurant.price_range":"Rango de Precios","restaurant.price_budget":" (Econmico)","restaurant.price_moderate":" (Moderado)","restaurant.price_expensive":" (Caro)","restaurant.price_very_expensive":" (Muy Caro)","restaurant.latitude":"Latitud","restaurant.longitude":"Longitud","restaurant.external_booking_url":"URL de Reserva Externa","restaurant.notification_email":"Email de Notificacin","restaurant.active_restaurant":"Restaurante Activo","restaurant.manage":"Gestionar","restaurant.cuisine":"Cocina","restaurant.status":"Estado","restaurant.active":"Activo","restaurant.inactive":"Inactivo","button.add":"Agregar","button.edit":"Editar","button.delete":"Eliminar","button.save":"Guardar","button.cancel":"Cancelar","button.update":"Actualizar","button.create":"Crear","welcome.title":"Bienvenido a Navikko","welcome.subtitle":"Tu compaero gastronmico multilinge para experiencias de restaurante sin problemas","welcome.signup_message":"Por favor regstrate o inicia sesin para continuar","welcome.get_started":"Comenzar","welcome.for_customers":"Para Clientes","welcome.for_customers_desc":"Explora restaurantes, haz pedidos y disfruta de experiencias gastronmicas sin problemas","welcome.for_owners":"Para Propietarios de Restaurantes","welcome.for_owners_desc":"Gestiona tu restaurante, pedidos y mens con herramientas poderosas","welcome.for_admins":"Para Administradores","welcome.for_admins_desc":"Acceso completo al sistema y capacidades de gestin integrales","auth.welcome":"Bienvenido a Navikko","auth.login":"Iniciar Sesin","auth.signup":"Registrarse","auth.email":"Correo Electrnico","auth.password":"Contrasea","auth.confirm_password":"Confirmar Contrasea","auth.full_name":"Nombre Completo","auth.phone_number":"Nmero de Telfono","auth.enter_email":"Ingresa tu correo electrnico","auth.enter_password":"Ingresa tu contrasea","auth.create_password":"Crear contrasea","auth.confirm_password_placeholder":"Confirma tu contrasea","auth.enter_full_name":"Ingresa tu nombre completo","auth.enter_phone":"Ingresa tu nmero de telfono","auth.logging_in":"Iniciando sesin...","auth.signing_up":"Registrndose...","auth.i_am_a":"Soy:","auth.customer":"Cliente","auth.customer_desc":"Explora restaurantes y haz pedidos","auth.restaurant_owner":"Propietario de Restaurante","auth.restaurant_owner_desc":"Gestiona tu restaurante y pedidos","auth.owner":"Propietario de Restaurante","auth.owner_desc":"Gestiona tu restaurante y pedidos","auth.admin":"Administrador","auth.admin_desc":"Acceso completo al sistema y gestin","auth.selected":"Seleccionado","auth.customer_preferences":"Preferencias del Cliente","auth.location_consent":"Consentimiento de Servicios de Ubicacin","auth.location_consent_desc":"Permite que Navikko acceda a tu ubicacin para mostrar restaurantes cercanos y proporcionar alertas basadas en ubicacin. Esto nos ayuda a recomendar restaurantes cerca de ti y notificarte cuando ests cerca de un restaurante que te interese.","auth.restaurant_information":"Informacin del Restaurante","auth.restaurant_name":"Nombre del Restaurante","auth.restaurant_phone":"Telfono del Restaurante","auth.restaurant_address":"Direccin del Restaurante","auth.cuisine_type":"Tipo de Cocina","auth.enter_restaurant_name":"Ingresa el nombre del restaurante","auth.enter_restaurant_phone":"Ingresa el telfono del restaurante","auth.enter_restaurant_address":"Ingresa la direccin del restaurante","auth.select_cuisine_type":"Selecciona el tipo de cocina","auth.admin_verification":"Verificacin de Administrador","auth.admin_code":"Cdigo de Administrador","auth.enter_admin_code":"Ingresa el cdigo de verificacin de administrador","auth.admin_code_desc":"Cdigo de administrador requerido para acceso de administrador del sistema","common.close":"Cerrar","auth.google_setup_required":"Configuracin de Google Sign-In Requerida","auth.google_setup_description":"Para habilitar Google Sign-In, necesitas configurar tu Google Client ID.","auth.google_setup_step1":"Ve a Google Cloud Console","auth.google_setup_step2":"Crea OAuth 2.0 Client ID para aplicacin web","auth.google_setup_step3":"Agrega orgenes autorizados:","auth.google_setup_step4":"Crea archivo .env con:","auth.google_setup_step5":"Agrega variable de entorno en el panel de Vercel para produccin","auth.google_setup_button":"Abrir Google Cloud Console","features.multilingual":"Soporte Multiidioma","features.multilingual_desc":"Accede a informacin de restaurantes y mens en mltiples idiomas","features.restaurants":"Descubrimiento de Restaurantes","features.restaurants_desc":"Encuentra y explora restaurantes con informacin detallada","features.location":"Servicios de Ubicacin","features.location_desc":"Descubre restaurantes cercanos con servicios de ubicacin","languages.supported":"Idiomas Compatibles","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn"},vi:{menu:"Thc n",reservation:"t bn",restaurants:"Nh hng",users:"Ngi dng",cart:"Gi hng",profile:"H s",dashboard:"Bng iu khin",orders:"n hng",menu_management:"Qun l Thc n",restaurant_management:"Qun l Nh hng","restaurant.add":"Thm Nh hng","restaurant.edit":"Chnh sa Nh hng","restaurant.names":"Tn Nh hng","restaurant.name_japanese":"Tn (Ting Nht)","restaurant.name_english":"Tn (Ting Anh)","restaurant.name_romaji":"Tn (Romaji)","restaurant.cuisine_type":"Loi m thc","restaurant.select_cuisine":"Chn loi m thc","restaurant.addresses":"a ch","restaurant.address_japanese":"a ch (Ting Nht)","restaurant.address_english":"a ch (Ting Anh)","restaurant.address_romaji":"a ch (Romaji)","restaurant.phone_number":"S in thoi","restaurant.descriptions":"M t","restaurant.description_japanese":"M t (Ting Nht)","restaurant.description_english":"M t (Ting Anh)","restaurant.description_romaji":"M t (Romaji)","restaurant.image_url":"URL Hnh nh","restaurant.opening_hours":"Gi M ca","restaurant.opening_hours_placeholder":"vd: 11:00 - 22:00","restaurant.rating":"nh gi","restaurant.price_range":"Khong Gi","restaurant.price_budget":" (Tit kim)","restaurant.price_moderate":" (Va phi)","restaurant.price_expensive":" (t)","restaurant.price_very_expensive":" (Rt t)","restaurant.latitude":"V ","restaurant.longitude":"Kinh ","restaurant.external_booking_url":"URL t bn Bn ngoi","restaurant.notification_email":"Email Thng bo","restaurant.active_restaurant":"Nh hng Hot ng","restaurant.manage":"Qun l","restaurant.cuisine":"m thc","restaurant.status":"Trng thi","restaurant.active":"Hot ng","restaurant.inactive":"Khng hot ng","button.add":"Thm","button.edit":"Chnh sa","button.delete":"Xa","button.save":"Lu","button.cancel":"Hy","button.update":"Cp nht","button.create":"To","welcome.title":"Cho mng n vi Navikko","welcome.subtitle":"Ngi bn ng hnh m thc a ngn ng cho tri nghim nh hng limless","welcome.signup_message":"Vui lng ng k hoc ng nhp  tip tc","welcome.get_started":"Bt u","welcome.for_customers":"Dnh cho Khch hng","welcome.for_customers_desc":"Khm ph nh hng, t mn v tn hng tri nghim m thc lin mch","welcome.for_owners":"Dnh cho Ch nh hng","welcome.for_owners_desc":"Qun l nh hng, n hng v thc n ca bn bng cc cng c mnh m","welcome.for_admins":"Dnh cho Qun tr vin","welcome.for_admins_desc":"Truy cp h thng y  v kh nng qun l ton din","features.multilingual":"H tr a ngn ng","features.multilingual_desc":"Truy cp thng tin nh hng v thc n bng nhiu ngn ng","features.restaurants":"Khm ph Nh hng","features.restaurants_desc":"Tm kim v khm ph nh hng vi thng tin chi tit","features.location":"Dch v V tr","features.location_desc":"Khm ph nh hng gn y vi dch v v tr","languages.supported":"Ngn ng c H tr","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn","auth.welcome":"Cho mng n vi Navikko","auth.login":"ng nhp","auth.signup":"ng k","common.close":"ng","auth.google_setup_required":"Cn Thit Lp Google Sign-In","auth.google_setup_description":" kch hot Google Sign-In, bn cn cu hnh Google Client ID ca mnh.","auth.google_setup_step1":"i n Google Cloud Console","auth.google_setup_step2":"To OAuth 2.0 Client ID cho ng dng web","auth.google_setup_step3":"Thm ngun gc c y quyn:","auth.google_setup_step4":"To tp .env vi:","auth.google_setup_step5":"Thm bin mi trng trong bng iu khin Vercel cho sn xut","auth.google_setup_button":"M Google Cloud Console"},ro:{menu:"Meniu",reservation:"Rezervare",restaurants:"Restaurante",users:"Utilizatori",cart:"Co",profile:"Profil",dashboard:"Tablou de bord",orders:"Comenzi",menu_management:"Gestionarea Meniului",restaurant_management:"Gestionarea Restaurantului","restaurant.add":"Adaug Restaurant","restaurant.edit":"Editeaz Restaurant","restaurant.names":"Numele Restaurantului","restaurant.name_japanese":"Nume (Japonez)","restaurant.name_english":"Nume (Englez)","restaurant.name_romaji":"Nume (Romaji)","restaurant.cuisine_type":"Tipul de Buctrie","restaurant.select_cuisine":"Selecteaz tipul de buctrie","restaurant.addresses":"Adrese","restaurant.address_japanese":"Adres (Japonez)","restaurant.address_english":"Adres (Englez)","restaurant.address_romaji":"Adres (Romaji)","restaurant.phone_number":"Numr de Telefon","restaurant.descriptions":"Descrieri","restaurant.description_japanese":"Descriere (Japonez)","restaurant.description_english":"Descriere (Englez)","restaurant.description_romaji":"Descriere (Romaji)","restaurant.image_url":"URL Imagine","restaurant.opening_hours":"Orele de Deschidere","restaurant.opening_hours_placeholder":"ex: 11:00 - 22:00","restaurant.rating":"Evaluare","restaurant.price_range":"Gama de Preturi","restaurant.price_budget":" (Buget)","restaurant.price_moderate":" (Moderat)","restaurant.price_expensive":" (Scump)","restaurant.price_very_expensive":" (Foarte Scump)","restaurant.latitude":"Latitudine","restaurant.longitude":"Longitudine","restaurant.external_booking_url":"URL Rezervare Extern","restaurant.notification_email":"Email Notificare","restaurant.active_restaurant":"Restaurant Activ","restaurant.manage":"Gestioneaz","restaurant.cuisine":"Buctrie","restaurant.status":"Status","restaurant.active":"Activ","restaurant.inactive":"Inactiv","button.add":"Adaug","button.edit":"Editeaz","button.delete":"terge","button.save":"Salveaz","button.cancel":"Anuleaz","button.update":"Actualizeaz","button.create":"Creeaz","welcome.title":"Bun venit la Navikko","welcome.subtitle":"Companionul tu culinar multilingv pentru o experien de restaurant fr ntreruperi","welcome.signup_message":"V rugm s v nregistrai sau s v conectai pentru a continua","welcome.get_started":"ncepe","welcome.for_customers":"Pentru Clieni","welcome.for_customers_desc":"Explorai restaurante, facei comenzi i bucurai-v de o experien culinar fr ntreruperi","welcome.for_owners":"Pentru Proprietarii de Restaurante","welcome.for_owners_desc":"Gestionai-v restaurantul, comenzile i meniurile cu instrumente puternice","welcome.for_admins":"Pentru Administratori","welcome.for_admins_desc":"Acces complet la sistem i capaciti de management cuprinztoare","features.multilingual":"Suport Multilingv","features.multilingual_desc":"Acceseaz informaii despre restaurante i meniuri n mai multe limbi","features.restaurants":"Descoperirea Restaurantelor","features.restaurants_desc":"Gsete i exploreaz restaurante cu informaii detaliate","features.location":"Servicii de Localizare","features.location_desc":"Descoper restaurante din apropiere cu servicii de localizare","languages.supported":"Limbi Suportate","languages.en":"English","languages.ja":"","languages.pl":"Polski","languages.zh":"","languages.ko":"","languages.ms":"Bahasa Melayu","languages.id":"Bahasa Indonesia","languages.vi":"Ting Vit","languages.th":"","languages.es":"Espaol","languages.ro":"Romn","auth.welcome":"Bun venit la Navikko","auth.login":"Conectare","auth.signup":"nregistrare","common.close":"nchide","auth.google_setup_required":"Configurarea Google Sign-In Necesar","auth.google_setup_description":"Pentru a activa Google Sign-In, trebuie s configurai Google Client ID-ul dvs.","auth.google_setup_step1":"Mergei la Google Cloud Console","auth.google_setup_step2":"Creai OAuth 2.0 Client ID pentru aplicaia web","auth.google_setup_step3":"Adugai originile autorizate:","auth.google_setup_step4":"Creai fiierul .env cu:","auth.google_setup_step5":"Adugai variabila de mediu n panoul de control Vercel pentru producie","auth.google_setup_button":"Deschidei Google Cloud Console"}},$S={en:{"auth.welcome":"Welcome to Navikko","auth.login_title":"Login to Your Account","auth.login":"Login","auth.signup":"Sign Up","auth.email":"Email","auth.password":"Password","auth.confirm_password":"Confirm Password","auth.enter_email":"Enter your email","auth.enter_password":"Enter your password","auth.logging_in":"Logging in...","auth.or_login_with":"Or login with","auth.create_account":"Create Your Account","auth.account_type":"Account Type","auth.admin_code":"Admin Code","auth.admin":"Admin","auth.customer":"Customer","auth.restaurant_owner":"Restaurant Owner","auth.signin_with_google":"Sign in with Google","auth.or":"or","auth.full_name":"Full Name","auth.phone_number":"Phone Number","auth.create_password":"Create a password","auth.confirm_password_placeholder":"Confirm your password","auth.enter_full_name":"Enter your full name","auth.enter_phone":"Enter your phone number","auth.signing_up":"Signing up...","auth.i_am_a":"I am a:","auth.customer_desc":"Browse restaurants and place orders","auth.restaurant_owner_desc":"Manage your restaurant and orders","auth.restaurant_owner_registration":"Restaurant Owner Registration","auth.register_restaurant":"Register Restaurant","auth.register_your_restaurant":"Register Your Restaurant"},ja:{"auth.welcome":"Navikko","auth.login_title":"","auth.login":"","auth.signup":"","auth.email":"","auth.password":"","auth.confirm_password":"","auth.enter_email":"","auth.enter_password":"","auth.logging_in":"...","auth.or_login_with":"","auth.create_account":"","auth.account_type":"","auth.admin_code":"","auth.admin":"","auth.customer":"","auth.restaurant_owner":"","auth.signin_with_google":"Google","auth.or":"","auth.full_name":"","auth.phone_number":"","auth.create_password":"","auth.confirm_password_placeholder":"","auth.enter_full_name":"","auth.enter_phone":"","auth.signing_up":"...","auth.i_am_a":":","auth.customer_desc":"","auth.restaurant_owner_desc":"","auth.restaurant_owner_registration":"","auth.register_restaurant":"","auth.register_your_restaurant":""},pl:{"auth.welcome":"Witamy w Navikko","auth.login_title":"Zaloguj si do swojego konta","auth.login":"Zaloguj si","auth.signup":"Zarejestruj si","auth.email":"Email","auth.password":"Haso","auth.confirm_password":"Potwierd haso","auth.enter_email":"Wprowad swj email","auth.enter_password":"Wprowad swoje haso","auth.logging_in":"Logowanie...","auth.or_login_with":"Lub zaloguj si przez","auth.create_account":"Utwrz swoje konto","auth.account_type":"Typ konta","auth.admin_code":"Kod administratora","auth.admin":"Administrator","auth.customer":"Klient","auth.restaurant_owner":"Waciciel restauracji","auth.signin_with_google":"Zaloguj si przez Google","auth.or":"lub","auth.full_name":"Imi i nazwisko","auth.phone_number":"Numer telefonu","auth.create_password":"Utwrz haso","auth.confirm_password_placeholder":"Potwierd swoje haso","auth.enter_full_name":"Wprowad swoje imi i nazwisko","auth.enter_phone":"Wprowad swj numer telefonu","auth.signing_up":"Rejestracja...","auth.i_am_a":"Jestem:","auth.customer_desc":"Przegldaj restauracje i skadaj zamwienia","auth.restaurant_owner_desc":"Zarzdzaj swoj restauracj i zamwieniami","auth.restaurant_owner_registration":"Rejestracja waciciela restauracji"}},BS=(s,t,n)=>{n=n||"ja";try{if(s.startsWith("auth.")){const o=$S[n]?.[s];if(o)return o}const i=Bg[n]?Bg[n][s]:void 0;return i||(console.warn(`Translation missing for key: ${s} in language: ${n}`),t||s.split(".").pop()||s)}catch(i){return console.error(`Translation error for key: ${s}`,i),t||s}},Hx=x.createContext(void 0);function ze(){const s=x.useContext(Hx);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s}function VS({children:s}){const[t,n]=x.useState("ja"),i=[{code:"en",name:"English"},{code:"ja",name:""},{code:"pl",name:"Polski"},{code:"zh",name:""},{code:"ko",name:""},{code:"ms",name:"Bahasa Melayu"},{code:"id",name:"Bahasa Indonesia"},{code:"vi",name:"Ting Vit"},{code:"th",name:""},{code:"es",name:"Espaol"},{code:"ro",name:"Romn"}],o=u=>{n(u)},c=(u,h)=>BS(u,h,t);return e.jsx(Hx.Provider,{value:{currentLanguage:t,setLanguage:o,t:c,availableLanguages:i},children:s})}const Hn=()=>{const s=x.useContext(qx);if(s===void 0)throw new Error("useAppContext must be used within an AppProvider");return s},ud=768;function WS(){const[s,t]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ud-1}px)`),i=()=>{t(window.innerWidth<ud)};return n.addEventListener("change",i),t(window.innerWidth<ud),()=>n.removeEventListener("change",i)},[]),!!s}const qS=$i("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=x.forwardRef(({className:s,variant:t,size:n,asChild:i=!1,...o},c)=>{const u=i?Kb:"button";return e.jsx(u,{className:Re(qS({variant:t,size:n,className:s})),ref:c,...o})});Q.displayName="Button";const HS=$i("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Fe({className:s,variant:t,size:n,...i}){return e.jsx("div",{className:Re(HS({variant:t,size:n}),s),...i})}function Vg(s,[t,n]){return Math.min(n,Math.max(t,s))}var GS=x.createContext(void 0);function Nh(s){const t=x.useContext(GS);return s||t||"ltr"}var dd=0;function Gx(){x.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??Wg()),document.body.insertAdjacentElement("beforeend",s[1]??Wg()),dd++,()=>{dd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dd--}},[])}function Wg(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var hd="focusScope.autoFocusOnMount",md="focusScope.autoFocusOnUnmount",qg={bubbles:!1,cancelable:!0},KS="FocusScope",Sh=x.forwardRef((s,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=s,[h,m]=x.useState(null),f=cr(o),p=cr(c),v=x.useRef(null),w=Ge(t,b=>m(b)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let b=function(k){if(_.paused||!h)return;const I=k.target;h.contains(I)?v.current=I:Pn(v.current,{select:!0})},j=function(k){if(_.paused||!h)return;const I=k.relatedTarget;I!==null&&(h.contains(I)||Pn(v.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const A of k)A.removedNodes.length>0&&Pn(h)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const C=new MutationObserver(S);return h&&C.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),C.disconnect()}}},[i,h,_.paused]),x.useEffect(()=>{if(h){Gg.add(_);const b=document.activeElement;if(!h.contains(b)){const S=new CustomEvent(hd,qg);h.addEventListener(hd,f),h.dispatchEvent(S),S.defaultPrevented||(JS(eC(Kx(h)),{select:!0}),document.activeElement===b&&Pn(h))}return()=>{h.removeEventListener(hd,f),setTimeout(()=>{const S=new CustomEvent(md,qg);h.addEventListener(md,p),h.dispatchEvent(S),S.defaultPrevented||Pn(b??document.body,{select:!0}),h.removeEventListener(md,p),Gg.remove(_)},0)}}},[h,f,p,_]);const N=x.useCallback(b=>{if(!n&&!i||_.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(j&&S){const C=b.currentTarget,[k,I]=QS(C);k&&I?!b.shiftKey&&S===I?(b.preventDefault(),n&&Pn(k,{select:!0})):b.shiftKey&&S===k&&(b.preventDefault(),n&&Pn(I,{select:!0})):S===C&&b.preventDefault()}},[n,i,_.paused]);return e.jsx(Se.div,{tabIndex:-1,...u,ref:w,onKeyDown:N})});Sh.displayName=KS;function JS(s,{select:t=!1}={}){const n=document.activeElement;for(const i of s)if(Pn(i,{select:t}),document.activeElement!==n)return}function QS(s){const t=Kx(s),n=Hg(t,s),i=Hg(t.reverse(),s);return[n,i]}function Kx(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hg(s,t){for(const n of s)if(!YS(n,{upTo:t}))return n}function YS(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function ZS(s){return s instanceof HTMLInputElement&&"select"in s}function Pn(s,{select:t=!1}={}){if(s&&s.focus){const n=document.activeElement;s.focus({preventScroll:!0}),s!==n&&ZS(s)&&t&&s.select()}}var Gg=XS();function XS(){let s=[];return{add(t){const n=s[0];t!==n&&n?.pause(),s=Kg(s,t),s.unshift(t)},remove(t){s=Kg(s,t),s[0]?.resume()}}}function Kg(s,t){const n=[...s],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function eC(s){return s.filter(t=>t.tagName!=="A")}var tC=rh[" useId ".trim().toString()]||(()=>{}),rC=0;function Mn(s){const[t,n]=x.useState(tC());return St(()=>{n(i=>i??String(rC++))},[s]),t?`radix-${t}`:""}const nC=["top","right","bottom","left"],Un=Math.min,Zt=Math.max,El=Math.round,dl=Math.floor,Fr=s=>({x:s,y:s}),sC={left:"right",right:"left",bottom:"top",top:"bottom"},aC={start:"end",end:"start"};function Bd(s,t,n){return Zt(s,Un(t,n))}function rn(s,t){return typeof s=="function"?s(t):s}function nn(s){return s.split("-")[0]}function Pa(s){return s.split("-")[1]}function Ch(s){return s==="x"?"y":"x"}function Eh(s){return s==="y"?"height":"width"}const iC=new Set(["top","bottom"]);function Lr(s){return iC.has(nn(s))?"y":"x"}function Ph(s){return Ch(Lr(s))}function oC(s,t,n){n===void 0&&(n=!1);const i=Pa(s),o=Ph(s),c=Eh(o);let u=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Pl(u)),[u,Pl(u)]}function lC(s){const t=Pl(s);return[Vd(s),t,Vd(t)]}function Vd(s){return s.replace(/start|end/g,t=>aC[t])}const Jg=["left","right"],Qg=["right","left"],cC=["top","bottom"],uC=["bottom","top"];function dC(s,t,n){switch(s){case"top":case"bottom":return n?t?Qg:Jg:t?Jg:Qg;case"left":case"right":return t?cC:uC;default:return[]}}function hC(s,t,n,i){const o=Pa(s);let c=dC(nn(s),n==="start",i);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(Vd)))),c}function Pl(s){return s.replace(/left|right|bottom|top/g,t=>sC[t])}function mC(s){return{top:0,right:0,bottom:0,left:0,...s}}function Jx(s){return typeof s!="number"?mC(s):{top:s,right:s,bottom:s,left:s}}function Rl(s){const{x:t,y:n,width:i,height:o}=s;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function Yg(s,t,n){let{reference:i,floating:o}=s;const c=Lr(t),u=Ph(t),h=Eh(u),m=nn(t),f=c==="y",p=i.x+i.width/2-o.width/2,v=i.y+i.height/2-o.height/2,w=i[h]/2-o[h]/2;let _;switch(m){case"top":_={x:p,y:i.y-o.height};break;case"bottom":_={x:p,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-o.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Pa(t)){case"start":_[u]-=w*(n&&f?-1:1);break;case"end":_[u]+=w*(n&&f?-1:1);break}return _}const fC=async(s,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:u}=n,h=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let f=await u.getElementRects({reference:s,floating:t,strategy:o}),{x:p,y:v}=Yg(f,i,m),w=i,_={},N=0;for(let b=0;b<h.length;b++){const{name:j,fn:S}=h[b],{x:C,y:k,data:I,reset:A}=await S({x:p,y:v,initialPlacement:i,placement:w,strategy:o,middlewareData:_,rects:f,platform:u,elements:{reference:s,floating:t}});p=C??p,v=k??v,_={..._,[j]:{..._[j],...I}},A&&N<=50&&(N++,typeof A=="object"&&(A.placement&&(w=A.placement),A.rects&&(f=A.rects===!0?await u.getElementRects({reference:s,floating:t,strategy:o}):A.rects),{x:p,y:v}=Yg(f,w,m)),b=-1)}return{x:p,y:v,placement:w,strategy:o,middlewareData:_}};async function Li(s,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:c,rects:u,elements:h,strategy:m}=s,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:w=!1,padding:_=0}=rn(t,s),N=Jx(_),j=h[w?v==="floating"?"reference":"floating":v],S=Rl(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(j)))==null||n?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:f,rootBoundary:p,strategy:m})),C=v==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),I=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},A=Rl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:C,offsetParent:k,strategy:m}):C);return{top:(S.top-A.top+N.top)/I.y,bottom:(A.bottom-S.bottom+N.bottom)/I.y,left:(S.left-A.left+N.left)/I.x,right:(A.right-S.right+N.right)/I.x}}const pC=s=>({name:"arrow",options:s,async fn(t){const{x:n,y:i,placement:o,rects:c,platform:u,elements:h,middlewareData:m}=t,{element:f,padding:p=0}=rn(s,t)||{};if(f==null)return{};const v=Jx(p),w={x:n,y:i},_=Ph(o),N=Eh(_),b=await u.getDimensions(f),j=_==="y",S=j?"top":"left",C=j?"bottom":"right",k=j?"clientHeight":"clientWidth",I=c.reference[N]+c.reference[_]-w[_]-c.floating[N],A=w[_]-c.reference[_],$=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let T=$?$[k]:0;(!T||!await(u.isElement==null?void 0:u.isElement($)))&&(T=h.floating[k]||c.floating[N]);const M=I/2-A/2,R=T/2-b[N]/2-1,U=Un(v[S],R),H=Un(v[C],R),P=U,D=T-b[N]-H,B=T/2-b[N]/2+M,Y=Bd(P,B,D),X=!m.arrow&&Pa(o)!=null&&B!==Y&&c.reference[N]/2-(B<P?U:H)-b[N]/2<0,oe=X?B<P?B-P:B-D:0;return{[_]:w[_]+oe,data:{[_]:Y,centerOffset:B-Y-oe,...X&&{alignmentOffset:oe}},reset:X}}}),gC=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var n,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:m,elements:f}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...j}=rn(s,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const S=nn(o),C=Lr(h),k=nn(h)===h,I=await(m.isRTL==null?void 0:m.isRTL(f.floating)),A=w||(k||!b?[Pl(h)]:lC(h)),$=N!=="none";!w&&$&&A.push(...hC(h,b,N,I));const T=[h,...A],M=await Li(t,j),R=[];let U=((i=c.flip)==null?void 0:i.overflows)||[];if(p&&R.push(M[S]),v){const B=oC(o,u,I);R.push(M[B[0]],M[B[1]])}if(U=[...U,{placement:o,overflows:R}],!R.every(B=>B<=0)){var H,P;const B=(((H=c.flip)==null?void 0:H.index)||0)+1,Y=T[B];if(Y&&(!(v==="alignment"?C!==Lr(Y):!1)||U.every(J=>J.overflows[0]>0&&Lr(J.placement)===C)))return{data:{index:B,overflows:U},reset:{placement:Y}};let X=(P=U.filter(oe=>oe.overflows[0]<=0).sort((oe,J)=>oe.overflows[1]-J.overflows[1])[0])==null?void 0:P.placement;if(!X)switch(_){case"bestFit":{var D;const oe=(D=U.filter(J=>{if($){const Z=Lr(J.placement);return Z===C||Z==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Z=>Z>0).reduce((Z,ee)=>Z+ee,0)]).sort((J,Z)=>J[1]-Z[1])[0])==null?void 0:D[0];oe&&(X=oe);break}case"initialPlacement":X=h;break}if(o!==X)return{reset:{placement:X}}}return{}}}};function Zg(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function Xg(s){return nC.some(t=>s[t]>=0)}const vC=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=rn(s,t);switch(i){case"referenceHidden":{const c=await Li(t,{...o,elementContext:"reference"}),u=Zg(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Xg(u)}}}case"escaped":{const c=await Li(t,{...o,altBoundary:!0}),u=Zg(c,n.floating);return{data:{escapedOffsets:u,escaped:Xg(u)}}}default:return{}}}}},Qx=new Set(["left","top"]);async function xC(s,t){const{placement:n,platform:i,elements:o}=s,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=nn(n),h=Pa(n),m=Lr(n)==="y",f=Qx.has(u)?-1:1,p=c&&m?-1:1,v=rn(t,s);let{mainAxis:w,crossAxis:_,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof N=="number"&&(_=h==="end"?N*-1:N),m?{x:_*p,y:w*f}:{x:w*f,y:_*p}}const yC=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var n,i;const{x:o,y:c,placement:u,middlewareData:h}=t,m=await xC(t,s);return u===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+m.x,y:c+m.y,data:{...m,placement:u}}}}},wC=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:j=>{let{x:S,y:C}=j;return{x:S,y:C}}},...m}=rn(s,t),f={x:n,y:i},p=await Li(t,m),v=Lr(nn(o)),w=Ch(v);let _=f[w],N=f[v];if(c){const j=w==="y"?"top":"left",S=w==="y"?"bottom":"right",C=_+p[j],k=_-p[S];_=Bd(C,_,k)}if(u){const j=v==="y"?"top":"left",S=v==="y"?"bottom":"right",C=N+p[j],k=N-p[S];N=Bd(C,N,k)}const b=h.fn({...t,[w]:_,[v]:N});return{...b,data:{x:b.x-n,y:b.y-i,enabled:{[w]:c,[v]:u}}}}}},_C=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:n,y:i,placement:o,rects:c,middlewareData:u}=t,{offset:h=0,mainAxis:m=!0,crossAxis:f=!0}=rn(s,t),p={x:n,y:i},v=Lr(o),w=Ch(v);let _=p[w],N=p[v];const b=rn(h,t),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(m){const k=w==="y"?"height":"width",I=c.reference[w]-c.floating[k]+j.mainAxis,A=c.reference[w]+c.reference[k]-j.mainAxis;_<I?_=I:_>A&&(_=A)}if(f){var S,C;const k=w==="y"?"width":"height",I=Qx.has(nn(o)),A=c.reference[v]-c.floating[k]+(I&&((S=u.offset)==null?void 0:S[v])||0)+(I?0:j.crossAxis),$=c.reference[v]+c.reference[k]+(I?0:((C=u.offset)==null?void 0:C[v])||0)-(I?j.crossAxis:0);N<A?N=A:N>$&&(N=$)}return{[w]:_,[v]:N}}}},jC=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var n,i;const{placement:o,rects:c,platform:u,elements:h}=t,{apply:m=()=>{},...f}=rn(s,t),p=await Li(t,f),v=nn(o),w=Pa(o),_=Lr(o)==="y",{width:N,height:b}=c.floating;let j,S;v==="top"||v==="bottom"?(j=v,S=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(S=v,j=w==="end"?"top":"bottom");const C=b-p.top-p.bottom,k=N-p.left-p.right,I=Un(b-p[j],C),A=Un(N-p[S],k),$=!t.middlewareData.shift;let T=I,M=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(T=C),$&&!w){const U=Zt(p.left,0),H=Zt(p.right,0),P=Zt(p.top,0),D=Zt(p.bottom,0);_?M=N-2*(U!==0||H!==0?U+H:Zt(p.left,p.right)):T=b-2*(P!==0||D!==0?P+D:Zt(p.top,p.bottom))}await m({...t,availableWidth:M,availableHeight:T});const R=await u.getDimensions(h.floating);return N!==R.width||b!==R.height?{reset:{rects:!0}}:{}}}};function Bl(){return typeof window<"u"}function Ra(s){return Yx(s)?(s.nodeName||"").toLowerCase():"#document"}function Xt(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function $r(s){var t;return(t=(Yx(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function Yx(s){return Bl()?s instanceof Node||s instanceof Xt(s).Node:!1}function Sr(s){return Bl()?s instanceof Element||s instanceof Xt(s).Element:!1}function Ur(s){return Bl()?s instanceof HTMLElement||s instanceof Xt(s).HTMLElement:!1}function ev(s){return!Bl()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Xt(s).ShadowRoot}const bC=new Set(["inline","contents"]);function Hi(s){const{overflow:t,overflowX:n,overflowY:i,display:o}=Cr(s);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!bC.has(o)}const kC=new Set(["table","td","th"]);function NC(s){return kC.has(Ra(s))}const SC=[":popover-open",":modal"];function Vl(s){return SC.some(t=>{try{return s.matches(t)}catch{return!1}})}const CC=["transform","translate","scale","rotate","perspective"],EC=["transform","translate","scale","rotate","perspective","filter"],PC=["paint","layout","strict","content"];function Rh(s){const t=Th(),n=Sr(s)?Cr(s):s;return CC.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||EC.some(i=>(n.willChange||"").includes(i))||PC.some(i=>(n.contain||"").includes(i))}function RC(s){let t=$n(s);for(;Ur(t)&&!ja(t);){if(Rh(t))return t;if(Vl(t))return null;t=$n(t)}return null}function Th(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TC=new Set(["html","body","#document"]);function ja(s){return TC.has(Ra(s))}function Cr(s){return Xt(s).getComputedStyle(s)}function Wl(s){return Sr(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function $n(s){if(Ra(s)==="html")return s;const t=s.assignedSlot||s.parentNode||ev(s)&&s.host||$r(s);return ev(t)?t.host:t}function Zx(s){const t=$n(s);return ja(t)?s.ownerDocument?s.ownerDocument.body:s.body:Ur(t)&&Hi(t)?t:Zx(t)}function Fi(s,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Zx(s),c=o===((i=s.ownerDocument)==null?void 0:i.body),u=Xt(o);if(c){const h=Wd(u);return t.concat(u,u.visualViewport||[],Hi(o)?o:[],h&&n?Fi(h):[])}return t.concat(o,Fi(o,[],n))}function Wd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function Xx(s){const t=Cr(s);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Ur(s),c=o?s.offsetWidth:n,u=o?s.offsetHeight:i,h=El(n)!==c||El(i)!==u;return h&&(n=c,i=u),{width:n,height:i,$:h}}function Ah(s){return Sr(s)?s:s.contextElement}function xa(s){const t=Ah(s);if(!Ur(t))return Fr(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:c}=Xx(t);let u=(c?El(n.width):n.width)/i,h=(c?El(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const AC=Fr(0);function ey(s){const t=Xt(s);return!Th()||!t.visualViewport?AC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IC(s,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xt(s)?!1:t}function gs(s,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=s.getBoundingClientRect(),c=Ah(s);let u=Fr(1);t&&(i?Sr(i)&&(u=xa(i)):u=xa(s));const h=IC(c,n,i)?ey(c):Fr(0);let m=(o.left+h.x)/u.x,f=(o.top+h.y)/u.y,p=o.width/u.x,v=o.height/u.y;if(c){const w=Xt(c),_=i&&Sr(i)?Xt(i):i;let N=w,b=Wd(N);for(;b&&i&&_!==N;){const j=xa(b),S=b.getBoundingClientRect(),C=Cr(b),k=S.left+(b.clientLeft+parseFloat(C.paddingLeft))*j.x,I=S.top+(b.clientTop+parseFloat(C.paddingTop))*j.y;m*=j.x,f*=j.y,p*=j.x,v*=j.y,m+=k,f+=I,N=Xt(b),b=Wd(N)}}return Rl({width:p,height:v,x:m,y:f})}function Ih(s,t){const n=Wl(s).scrollLeft;return t?t.left+n:gs($r(s)).left+n}function ty(s,t,n){n===void 0&&(n=!1);const i=s.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Ih(s,i)),c=i.top+t.scrollTop;return{x:o,y:c}}function OC(s){let{elements:t,rect:n,offsetParent:i,strategy:o}=s;const c=o==="fixed",u=$r(i),h=t?Vl(t.floating):!1;if(i===u||h&&c)return n;let m={scrollLeft:0,scrollTop:0},f=Fr(1);const p=Fr(0),v=Ur(i);if((v||!v&&!c)&&((Ra(i)!=="body"||Hi(u))&&(m=Wl(i)),Ur(i))){const _=gs(i);f=xa(i),p.x=_.x+i.clientLeft,p.y=_.y+i.clientTop}const w=u&&!v&&!c?ty(u,m,!0):Fr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+p.x+w.x,y:n.y*f.y-m.scrollTop*f.y+p.y+w.y}}function MC(s){return Array.from(s.getClientRects())}function DC(s){const t=$r(s),n=Wl(s),i=s.ownerDocument.body,o=Zt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Zt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Ih(s);const h=-n.scrollTop;return Cr(i).direction==="rtl"&&(u+=Zt(t.clientWidth,i.clientWidth)-o),{width:o,height:c,x:u,y:h}}function LC(s,t){const n=Xt(s),i=$r(s),o=n.visualViewport;let c=i.clientWidth,u=i.clientHeight,h=0,m=0;if(o){c=o.width,u=o.height;const f=Th();(!f||f&&t==="fixed")&&(h=o.offsetLeft,m=o.offsetTop)}return{width:c,height:u,x:h,y:m}}const FC=new Set(["absolute","fixed"]);function zC(s,t){const n=gs(s,!0,t==="fixed"),i=n.top+s.clientTop,o=n.left+s.clientLeft,c=Ur(s)?xa(s):Fr(1),u=s.clientWidth*c.x,h=s.clientHeight*c.y,m=o*c.x,f=i*c.y;return{width:u,height:h,x:m,y:f}}function tv(s,t,n){let i;if(t==="viewport")i=LC(s,n);else if(t==="document")i=DC($r(s));else if(Sr(t))i=zC(t,n);else{const o=ey(s);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Rl(i)}function ry(s,t){const n=$n(s);return n===t||!Sr(n)||ja(n)?!1:Cr(n).position==="fixed"||ry(n,t)}function UC(s,t){const n=t.get(s);if(n)return n;let i=Fi(s,[],!1).filter(h=>Sr(h)&&Ra(h)!=="body"),o=null;const c=Cr(s).position==="fixed";let u=c?$n(s):s;for(;Sr(u)&&!ja(u);){const h=Cr(u),m=Rh(u);!m&&h.position==="fixed"&&(o=null),(c?!m&&!o:!m&&h.position==="static"&&!!o&&FC.has(o.position)||Hi(u)&&!m&&ry(s,u))?i=i.filter(p=>p!==u):o=h,u=$n(u)}return t.set(s,i),i}function $C(s){let{element:t,boundary:n,rootBoundary:i,strategy:o}=s;const u=[...n==="clippingAncestors"?Vl(t)?[]:UC(t,this._c):[].concat(n),i],h=u[0],m=u.reduce((f,p)=>{const v=tv(t,p,o);return f.top=Zt(v.top,f.top),f.right=Un(v.right,f.right),f.bottom=Un(v.bottom,f.bottom),f.left=Zt(v.left,f.left),f},tv(t,h,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function BC(s){const{width:t,height:n}=Xx(s);return{width:t,height:n}}function VC(s,t,n){const i=Ur(t),o=$r(t),c=n==="fixed",u=gs(s,!0,c,t);let h={scrollLeft:0,scrollTop:0};const m=Fr(0);function f(){m.x=Ih(o)}if(i||!i&&!c)if((Ra(t)!=="body"||Hi(o))&&(h=Wl(t)),i){const _=gs(t,!0,c,t);m.x=_.x+t.clientLeft,m.y=_.y+t.clientTop}else o&&f();c&&!i&&o&&f();const p=o&&!i&&!c?ty(o,h):Fr(0),v=u.left+h.scrollLeft-m.x-p.x,w=u.top+h.scrollTop-m.y-p.y;return{x:v,y:w,width:u.width,height:u.height}}function fd(s){return Cr(s).position==="static"}function rv(s,t){if(!Ur(s)||Cr(s).position==="fixed")return null;if(t)return t(s);let n=s.offsetParent;return $r(s)===n&&(n=n.ownerDocument.body),n}function ny(s,t){const n=Xt(s);if(Vl(s))return n;if(!Ur(s)){let o=$n(s);for(;o&&!ja(o);){if(Sr(o)&&!fd(o))return o;o=$n(o)}return n}let i=rv(s,t);for(;i&&NC(i)&&fd(i);)i=rv(i,t);return i&&ja(i)&&fd(i)&&!Rh(i)?n:i||RC(s)||n}const WC=async function(s){const t=this.getOffsetParent||ny,n=this.getDimensions,i=await n(s.floating);return{reference:VC(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function qC(s){return Cr(s).direction==="rtl"}const HC={convertOffsetParentRelativeRectToViewportRelativeRect:OC,getDocumentElement:$r,getClippingRect:$C,getOffsetParent:ny,getElementRects:WC,getClientRects:MC,getDimensions:BC,getScale:xa,isElement:Sr,isRTL:qC};function sy(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function GC(s,t){let n=null,i;const o=$r(s);function c(){var h;clearTimeout(i),(h=n)==null||h.disconnect(),n=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),c();const f=s.getBoundingClientRect(),{left:p,top:v,width:w,height:_}=f;if(h||t(),!w||!_)return;const N=dl(v),b=dl(o.clientWidth-(p+w)),j=dl(o.clientHeight-(v+_)),S=dl(p),k={rootMargin:-N+"px "+-b+"px "+-j+"px "+-S+"px",threshold:Zt(0,Un(1,m))||1};let I=!0;function A($){const T=$[0].intersectionRatio;if(T!==m){if(!I)return u();T?u(!1,T):i=setTimeout(()=>{u(!1,1e-7)},1e3)}T===1&&!sy(f,s.getBoundingClientRect())&&u(),I=!1}try{n=new IntersectionObserver(A,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,k)}n.observe(s)}return u(!0),c}function KC(s,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,f=Ah(s),p=o||c?[...f?Fi(f):[],...Fi(t)]:[];p.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),c&&S.addEventListener("resize",n)});const v=f&&h?GC(f,n):null;let w=-1,_=null;u&&(_=new ResizeObserver(S=>{let[C]=S;C&&C.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var k;(k=_)==null||k.observe(t)})),n()}),f&&!m&&_.observe(f),_.observe(t));let N,b=m?gs(s):null;m&&j();function j(){const S=gs(s);b&&!sy(b,S)&&n(),b=S,N=requestAnimationFrame(j)}return n(),()=>{var S;p.forEach(C=>{o&&C.removeEventListener("scroll",n),c&&C.removeEventListener("resize",n)}),v?.(),(S=_)==null||S.disconnect(),_=null,m&&cancelAnimationFrame(N)}}const JC=yC,QC=wC,YC=gC,ZC=jC,XC=vC,nv=pC,e2=_C,t2=(s,t,n)=>{const i=new Map,o={platform:HC,...n},c={...o.platform,_c:i};return fC(s,t,{...o,platform:c})};var r2=typeof document<"u",n2=function(){},_l=r2?x.useLayoutEffect:n2;function Tl(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let n,i,o;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(n=s.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Tl(s[i],t[i]))return!1;return!0}if(o=Object.keys(s),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const c=o[i];if(!(c==="_owner"&&s.$$typeof)&&!Tl(s[c],t[c]))return!1}return!0}return s!==s&&t!==t}function ay(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function sv(s,t){const n=ay(s);return Math.round(t*n)/n}function pd(s){const t=x.useRef(s);return _l(()=>{t.current=s}),t}function s2(s){s===void 0&&(s={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:m,open:f}=s,[p,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,_]=x.useState(i);Tl(w,i)||_(i);const[N,b]=x.useState(null),[j,S]=x.useState(null),C=x.useCallback(J=>{J!==$.current&&($.current=J,b(J))},[]),k=x.useCallback(J=>{J!==T.current&&(T.current=J,S(J))},[]),I=c||N,A=u||j,$=x.useRef(null),T=x.useRef(null),M=x.useRef(p),R=m!=null,U=pd(m),H=pd(o),P=pd(f),D=x.useCallback(()=>{if(!$.current||!T.current)return;const J={placement:t,strategy:n,middleware:w};H.current&&(J.platform=H.current),t2($.current,T.current,J).then(Z=>{const ee={...Z,isPositioned:P.current!==!1};B.current&&!Tl(M.current,ee)&&(M.current=ee,ba.flushSync(()=>{v(ee)}))})},[w,t,n,H,P]);_l(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,v(J=>({...J,isPositioned:!1})))},[f]);const B=x.useRef(!1);_l(()=>(B.current=!0,()=>{B.current=!1}),[]),_l(()=>{if(I&&($.current=I),A&&(T.current=A),I&&A){if(U.current)return U.current(I,A,D);D()}},[I,A,D,U,R]);const Y=x.useMemo(()=>({reference:$,floating:T,setReference:C,setFloating:k}),[C,k]),X=x.useMemo(()=>({reference:I,floating:A}),[I,A]),oe=x.useMemo(()=>{const J={position:n,left:0,top:0};if(!X.floating)return J;const Z=sv(X.floating,p.x),ee=sv(X.floating,p.y);return h?{...J,transform:"translate("+Z+"px, "+ee+"px)",...ay(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ee}},[n,h,X.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:D,refs:Y,elements:X,floatingStyles:oe}),[p,D,Y,X,oe])}const a2=s=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:s,fn(n){const{element:i,padding:o}=typeof s=="function"?s(n):s;return i&&t(i)?i.current!=null?nv({element:i.current,padding:o}).fn(n):{}:i?nv({element:i,padding:o}).fn(n):{}}}},i2=(s,t)=>({...JC(s),options:[s,t]}),o2=(s,t)=>({...QC(s),options:[s,t]}),l2=(s,t)=>({...e2(s),options:[s,t]}),c2=(s,t)=>({...YC(s),options:[s,t]}),u2=(s,t)=>({...ZC(s),options:[s,t]}),d2=(s,t)=>({...XC(s),options:[s,t]}),h2=(s,t)=>({...a2(s),options:[s,t]});var m2="Arrow",iy=x.forwardRef((s,t)=>{const{children:n,width:i=10,height:o=5,...c}=s;return e.jsx(Se.svg,{...c,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});iy.displayName=m2;var f2=iy;function Oh(s){const[t,n]=x.useState(void 0);return St(()=>{if(s){n({width:s.offsetWidth,height:s.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,h;if("borderBoxSize"in c){const m=c.borderBoxSize,f=Array.isArray(m)?m[0]:m;u=f.inlineSize,h=f.blockSize}else u=s.offsetWidth,h=s.offsetHeight;n({width:u,height:h})});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else n(void 0)},[s]),t}var Mh="Popper",[oy,ly]=sn(Mh),[p2,cy]=oy(Mh),uy=s=>{const{__scopePopper:t,children:n}=s,[i,o]=x.useState(null);return e.jsx(p2,{scope:t,anchor:i,onAnchorChange:o,children:n})};uy.displayName=Mh;var dy="PopperAnchor",hy=x.forwardRef((s,t)=>{const{__scopePopper:n,virtualRef:i,...o}=s,c=cy(dy,n),u=x.useRef(null),h=Ge(t,u);return x.useEffect(()=>{c.onAnchorChange(i?.current||u.current)}),i?null:e.jsx(Se.div,{...o,ref:h})});hy.displayName=dy;var Dh="PopperContent",[g2,v2]=oy(Dh),my=x.forwardRef((s,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:N,...b}=s,j=cy(Dh,n),[S,C]=x.useState(null),k=Ge(t,le=>C(le)),[I,A]=x.useState(null),$=Oh(I),T=$?.width??0,M=$?.height??0,R=i+(c!=="center"?"-"+c:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},H=Array.isArray(f)?f:[f],P=H.length>0,D={padding:U,boundary:H.filter(y2),altBoundary:P},{refs:B,floatingStyles:Y,placement:X,isPositioned:oe,middlewareData:J}=s2({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>KC(...le,{animationFrame:_==="always"}),elements:{reference:j.anchor},middleware:[i2({mainAxis:o+M,alignmentAxis:u}),m&&o2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?l2():void 0,...D}),m&&c2({...D}),u2({...D,apply:({elements:le,rects:xe,availableWidth:Ae,availableHeight:Oe})=>{const{width:We,height:tt}=xe.reference,jt=le.floating.style;jt.setProperty("--radix-popper-available-width",`${Ae}px`),jt.setProperty("--radix-popper-available-height",`${Oe}px`),jt.setProperty("--radix-popper-anchor-width",`${We}px`),jt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),I&&h2({element:I,padding:h}),w2({arrowWidth:T,arrowHeight:M}),w&&d2({strategy:"referenceHidden",...D})]}),[Z,ee]=gy(X),F=cr(N);St(()=>{oe&&F?.()},[oe,F]);const V=J.arrow?.x,ae=J.arrow?.y,pe=J.arrow?.centerOffset!==0,[Ie,Te]=x.useState();return St(()=>{S&&Te(window.getComputedStyle(S).zIndex)},[S]),e.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:oe?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(g2,{scope:n,placedSide:Z,onArrowChange:A,arrowX:V,arrowY:ae,shouldHideArrow:pe,children:e.jsx(Se.div,{"data-side":Z,"data-align":ee,...b,ref:k,style:{...b.style,animation:oe?void 0:"none"}})})})});my.displayName=Dh;var fy="PopperArrow",x2={top:"bottom",right:"left",bottom:"top",left:"right"},py=x.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,c=v2(fy,i),u=x2[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(f2,{...o,ref:n,style:{...o.style,display:"block"}})})});py.displayName=fy;function y2(s){return s!==null}var w2=s=>({name:"transformOrigin",options:s,fn(t){const{placement:n,rects:i,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,h=u?0:s.arrowWidth,m=u?0:s.arrowHeight,[f,p]=gy(n),v={start:"0%",center:"50%",end:"100%"}[p],w=(o.arrow?.x??0)+h/2,_=(o.arrow?.y??0)+m/2;let N="",b="";return f==="bottom"?(N=u?v:`${w}px`,b=`${-m}px`):f==="top"?(N=u?v:`${w}px`,b=`${i.floating.height+m}px`):f==="right"?(N=`${-m}px`,b=u?v:`${_}px`):f==="left"&&(N=`${i.floating.width+m}px`,b=u?v:`${_}px`),{data:{x:N,y:b}}}});function gy(s){const[t,n="center"]=s.split("-");return[t,n]}var _2=uy,j2=hy,b2=my,k2=py;function Lh(s){const t=x.useRef({value:s,previous:s});return x.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var N2=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},oa=new WeakMap,hl=new WeakMap,ml={},gd=0,vy=function(s){return s&&(s.host||vy(s.parentNode))},S2=function(s,t){return t.map(function(n){if(s.contains(n))return n;var i=vy(n);return i&&s.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",s,". Doing nothing"),null)}).filter(function(n){return!!n})},C2=function(s,t,n,i){var o=S2(t,Array.isArray(s)?s:[s]);ml[n]||(ml[n]=new WeakMap);var c=ml[n],u=[],h=new Set,m=new Set(o),f=function(v){!v||h.has(v)||(h.add(v),f(v.parentNode))};o.forEach(f);var p=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(w){if(h.has(w))p(w);else try{var _=w.getAttribute(i),N=_!==null&&_!=="false",b=(oa.get(w)||0)+1,j=(c.get(w)||0)+1;oa.set(w,b),c.set(w,j),u.push(w),b===1&&N&&hl.set(w,!0),j===1&&w.setAttribute(n,"true"),N||w.setAttribute(i,"true")}catch(S){console.error("aria-hidden: cannot operate on ",w,S)}})};return p(t),h.clear(),gd++,function(){u.forEach(function(v){var w=oa.get(v)-1,_=c.get(v)-1;oa.set(v,w),c.set(v,_),w||(hl.has(v)||v.removeAttribute(i),hl.delete(v)),_||v.removeAttribute(n)}),gd--,gd||(oa=new WeakMap,oa=new WeakMap,hl=new WeakMap,ml={})}},xy=function(s,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(s)?s:[s]),o=N2(s);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),C2(i,o,n,"aria-hidden")):function(){return null}},Mr=function(){return Mr=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Mr.apply(this,arguments)};function yy(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n}function E2(s,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,c;i<o;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return s.concat(c||Array.prototype.slice.call(t))}var jl="right-scroll-bar-position",bl="width-before-scroll-bar",P2="with-scroll-bars-hidden",R2="--removed-body-scroll-bar-size";function vd(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function T2(s,t){var n=x.useState(function(){return{value:s,callback:t,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=t,n.facade}var A2=typeof window<"u"?x.useLayoutEffect:x.useEffect,av=new WeakMap;function I2(s,t){var n=T2(null,function(i){return s.forEach(function(o){return vd(o,i)})});return A2(function(){var i=av.get(n);if(i){var o=new Set(i),c=new Set(s),u=n.current;o.forEach(function(h){c.has(h)||vd(h,null)}),c.forEach(function(h){o.has(h)||vd(h,u)})}av.set(n,s)},[s]),n}function O2(s){return s}function M2(s,t){t===void 0&&(t=O2);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:s},useMedium:function(c){var u=t(c,i);return n.push(u),function(){n=n.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(i=!0;n.length;){var u=n;n=[],u.forEach(c)}n={push:function(h){return c(h)},filter:function(){return n}}},assignMedium:function(c){i=!0;var u=[];if(n.length){var h=n;n=[],h.forEach(c),u=n}var m=function(){var p=u;u=[],p.forEach(c)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(p){u.push(p),f()},filter:function(p){return u=u.filter(p),n}}}};return o}function D2(s){s===void 0&&(s={});var t=M2(null);return t.options=Mr({async:!0,ssr:!1},s),t}var wy=function(s){var t=s.sideCar,n=yy(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Mr({},n))};wy.isSideCarExport=!0;function L2(s,t){return s.useMedium(t),wy}var _y=D2(),xd=function(){},ql=x.forwardRef(function(s,t){var n=x.useRef(null),i=x.useState({onScrollCapture:xd,onWheelCapture:xd,onTouchMoveCapture:xd}),o=i[0],c=i[1],u=s.forwardProps,h=s.children,m=s.className,f=s.removeScrollBar,p=s.enabled,v=s.shards,w=s.sideCar,_=s.noRelative,N=s.noIsolation,b=s.inert,j=s.allowPinchZoom,S=s.as,C=S===void 0?"div":S,k=s.gapMode,I=yy(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,$=I2([n,t]),T=Mr(Mr({},I),o);return x.createElement(x.Fragment,null,p&&x.createElement(A,{sideCar:_y,removeScrollBar:f,shards:v,noRelative:_,noIsolation:N,inert:b,setCallbacks:c,allowPinchZoom:!!j,lockRef:n,gapMode:k}),u?x.cloneElement(x.Children.only(h),Mr(Mr({},T),{ref:$})):x.createElement(C,Mr({},T,{className:m,ref:$}),h))});ql.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ql.classNames={fullWidth:bl,zeroRight:jl};var F2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z2(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=F2();return t&&s.setAttribute("nonce",t),s}function U2(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function $2(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var B2=function(){var s=0,t=null;return{add:function(n){s==0&&(t=z2())&&(U2(t,n),$2(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V2=function(){var s=B2();return function(t,n){x.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&n])}},jy=function(){var s=V2(),t=function(n){var i=n.styles,o=n.dynamic;return s(i,o),null};return t},W2={left:0,top:0,right:0,gap:0},yd=function(s){return parseInt(s||"",10)||0},q2=function(s){var t=window.getComputedStyle(document.body),n=t[s==="padding"?"paddingLeft":"marginLeft"],i=t[s==="padding"?"paddingTop":"marginTop"],o=t[s==="padding"?"paddingRight":"marginRight"];return[yd(n),yd(i),yd(o)]},H2=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return W2;var t=q2(s),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},G2=jy(),ya="data-scroll-locked",K2=function(s,t,n,i){var o=s.left,c=s.top,u=s.right,h=s.gap;return n===void 0&&(n="margin"),`
  .`.concat(P2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ya,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jl,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(bl,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ya,`] {
    `).concat(R2,": ").concat(h,`px;
  }
`)},iv=function(){var s=parseInt(document.body.getAttribute(ya)||"0",10);return isFinite(s)?s:0},J2=function(){x.useEffect(function(){return document.body.setAttribute(ya,(iv()+1).toString()),function(){var s=iv()-1;s<=0?document.body.removeAttribute(ya):document.body.setAttribute(ya,s.toString())}},[])},Q2=function(s){var t=s.noRelative,n=s.noImportant,i=s.gapMode,o=i===void 0?"margin":i;J2();var c=x.useMemo(function(){return H2(o)},[o]);return x.createElement(G2,{styles:K2(c,!t,o,n?"":"!important")})},qd=!1;if(typeof window<"u")try{var fl=Object.defineProperty({},"passive",{get:function(){return qd=!0,!0}});window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{qd=!1}var la=qd?{passive:!1}:!1,Y2=function(s){return s.tagName==="TEXTAREA"},by=function(s,t){if(!(s instanceof Element))return!1;var n=window.getComputedStyle(s);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y2(s)&&n[t]==="visible")},Z2=function(s){return by(s,"overflowY")},X2=function(s){return by(s,"overflowX")},ov=function(s,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=ky(s,i);if(o){var c=Ny(s,i),u=c[1],h=c[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},eE=function(s){var t=s.scrollTop,n=s.scrollHeight,i=s.clientHeight;return[t,n,i]},tE=function(s){var t=s.scrollLeft,n=s.scrollWidth,i=s.clientWidth;return[t,n,i]},ky=function(s,t){return s==="v"?Z2(t):X2(t)},Ny=function(s,t){return s==="v"?eE(t):tE(t)},rE=function(s,t){return s==="h"&&t==="rtl"?-1:1},nE=function(s,t,n,i,o){var c=rE(s,window.getComputedStyle(t).direction),u=c*i,h=n.target,m=t.contains(h),f=!1,p=u>0,v=0,w=0;do{if(!h)break;var _=Ny(s,h),N=_[0],b=_[1],j=_[2],S=b-j-c*N;(N||S)&&ky(s,h)&&(v+=S,w+=N);var C=h.parentNode;h=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!m&&h!==document.body||m&&(t.contains(h)||t===h));return(p&&Math.abs(v)<1||!p&&Math.abs(w)<1)&&(f=!0),f},pl=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},lv=function(s){return[s.deltaX,s.deltaY]},cv=function(s){return s&&"current"in s?s.current:s},sE=function(s,t){return s[0]===t[0]&&s[1]===t[1]},aE=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},iE=0,ca=[];function oE(s){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),o=x.useState(iE++)[0],c=x.useState(jy)[0],u=x.useRef(s);x.useEffect(function(){u.current=s},[s]),x.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(o));var b=E2([s.lockRef.current],(s.shards||[]).map(cv),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[s.inert,s.lockRef.current,s.shards]);var h=x.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var S=pl(b),C=n.current,k="deltaX"in b?b.deltaX:C[0]-S[0],I="deltaY"in b?b.deltaY:C[1]-S[1],A,$=b.target,T=Math.abs(k)>Math.abs(I)?"h":"v";if("touches"in b&&T==="h"&&$.type==="range")return!1;var M=ov(T,$);if(!M)return!0;if(M?A=T:(A=T==="v"?"h":"v",M=ov(T,$)),!M)return!1;if(!i.current&&"changedTouches"in b&&(k||I)&&(i.current=A),!A)return!0;var R=i.current||A;return nE(R,j,b,R==="h"?k:I)},[]),m=x.useCallback(function(b){var j=b;if(!(!ca.length||ca[ca.length-1]!==c)){var S="deltaY"in j?lv(j):pl(j),C=t.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&sE(A.delta,S)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var k=(u.current.shards||[]).map(cv).filter(Boolean).filter(function(A){return A.contains(j.target)}),I=k.length>0?h(j,k[0]):!u.current.noIsolation;I&&j.cancelable&&j.preventDefault()}}},[]),f=x.useCallback(function(b,j,S,C){var k={name:b,delta:j,target:S,should:C,shadowParent:lE(S)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(I){return I!==k})},1)},[]),p=x.useCallback(function(b){n.current=pl(b),i.current=void 0},[]),v=x.useCallback(function(b){f(b.type,lv(b),b.target,h(b,s.lockRef.current))},[]),w=x.useCallback(function(b){f(b.type,pl(b),b.target,h(b,s.lockRef.current))},[]);x.useEffect(function(){return ca.push(c),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",m,la),document.addEventListener("touchmove",m,la),document.addEventListener("touchstart",p,la),function(){ca=ca.filter(function(b){return b!==c}),document.removeEventListener("wheel",m,la),document.removeEventListener("touchmove",m,la),document.removeEventListener("touchstart",p,la)}},[]);var _=s.removeScrollBar,N=s.inert;return x.createElement(x.Fragment,null,N?x.createElement(c,{styles:aE(o)}):null,_?x.createElement(Q2,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function lE(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const cE=L2(_y,oE);var Fh=x.forwardRef(function(s,t){return x.createElement(ql,Mr({},s,{ref:t,sideCar:cE}))});Fh.classNames=ql.classNames;var uE=[" ","Enter","ArrowUp","ArrowDown"],dE=[" ","Enter"],vs="Select",[Hl,Gl,hE]=ah(vs),[Ta,iT]=sn(vs,[hE,ly]),Kl=ly(),[mE,Gn]=Ta(vs),[fE,pE]=Ta(vs),Sy=s=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:o,onOpenChange:c,value:u,defaultValue:h,onValueChange:m,dir:f,name:p,autoComplete:v,disabled:w,required:_,form:N}=s,b=Kl(t),[j,S]=x.useState(null),[C,k]=x.useState(null),[I,A]=x.useState(!1),$=Nh(f),[T,M]=Ln({prop:i,defaultProp:o??!1,onChange:c,caller:vs}),[R,U]=Ln({prop:u,defaultProp:h,onChange:m,caller:vs}),H=x.useRef(null),P=j?N||!!j.closest("form"):!0,[D,B]=x.useState(new Set),Y=Array.from(D).map(X=>X.props.value).join(";");return e.jsx(_2,{...b,children:e.jsxs(mE,{required:_,scope:t,trigger:j,onTriggerChange:S,valueNode:C,onValueNodeChange:k,valueNodeHasChildren:I,onValueNodeHasChildrenChange:A,contentId:Mn(),value:R,onValueChange:U,open:T,onOpenChange:M,dir:$,triggerPointerDownPosRef:H,disabled:w,children:[e.jsx(Hl.Provider,{scope:t,children:e.jsx(fE,{scope:s.__scopeSelect,onNativeOptionAdd:x.useCallback(X=>{B(oe=>new Set(oe).add(X))},[]),onNativeOptionRemove:x.useCallback(X=>{B(oe=>{const J=new Set(oe);return J.delete(X),J})},[]),children:n})}),P?e.jsxs(Qy,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:v,value:R,onChange:X=>U(X.target.value),disabled:w,form:N,children:[R===void 0?e.jsx("option",{value:""}):null,Array.from(D)]},Y):null]})})};Sy.displayName=vs;var Cy="SelectTrigger",Ey=x.forwardRef((s,t)=>{const{__scopeSelect:n,disabled:i=!1,...o}=s,c=Kl(n),u=Gn(Cy,n),h=u.disabled||i,m=Ge(t,u.onTriggerChange),f=Gl(n),p=x.useRef("touch"),[v,w,_]=Zy(b=>{const j=f().filter(k=>!k.disabled),S=j.find(k=>k.value===u.value),C=Xy(j,b,S);C!==void 0&&u.onValueChange(C.value)}),N=b=>{h||(u.onOpenChange(!0),_()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return e.jsx(j2,{asChild:!0,...c,children:e.jsx(Se.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Yy(u.value)?"":void 0,...o,ref:m,onClick:ke(o.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&N(b)}),onPointerDown:ke(o.onPointerDown,b=>{p.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:ke(o.onKeyDown,b=>{const j=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(j&&b.key===" ")&&uE.includes(b.key)&&(N(),b.preventDefault())})})})});Ey.displayName=Cy;var Py="SelectValue",Ry=x.forwardRef((s,t)=>{const{__scopeSelect:n,className:i,style:o,children:c,placeholder:u="",...h}=s,m=Gn(Py,n),{onValueNodeHasChildrenChange:f}=m,p=c!==void 0,v=Ge(t,m.onValueNodeChange);return St(()=>{f(p)},[f,p]),e.jsx(Se.span,{...h,ref:v,style:{pointerEvents:"none"},children:Yy(m.value)?e.jsx(e.Fragment,{children:u}):c})});Ry.displayName=Py;var gE="SelectIcon",Ty=x.forwardRef((s,t)=>{const{__scopeSelect:n,children:i,...o}=s;return e.jsx(Se.span,{"aria-hidden":!0,...o,ref:t,children:i||""})});Ty.displayName=gE;var vE="SelectPortal",Ay=s=>e.jsx(Fl,{asChild:!0,...s});Ay.displayName=vE;var xs="SelectContent",Iy=x.forwardRef((s,t)=>{const n=Gn(xs,s.__scopeSelect),[i,o]=x.useState();if(St(()=>{o(new DocumentFragment)},[]),!n.open){const c=i;return c?ba.createPortal(e.jsx(Oy,{scope:s.__scopeSelect,children:e.jsx(Hl.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),c):null}return e.jsx(My,{...s,ref:t})});Iy.displayName=xs;var jr=10,[Oy,Kn]=Ta(xs),xE="SelectContentImpl",yE=wa("SelectContent.RemoveScroll"),My=x.forwardRef((s,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:m,align:f,alignOffset:p,arrowPadding:v,collisionBoundary:w,collisionPadding:_,sticky:N,hideWhenDetached:b,avoidCollisions:j,...S}=s,C=Gn(xs,n),[k,I]=x.useState(null),[A,$]=x.useState(null),T=Ge(t,le=>I(le)),[M,R]=x.useState(null),[U,H]=x.useState(null),P=Gl(n),[D,B]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(k)return xy(k)},[k]),Gx();const X=x.useCallback(le=>{const[xe,...Ae]=P().map(tt=>tt.ref.current),[Oe]=Ae.slice(-1),We=document.activeElement;for(const tt of le)if(tt===We||(tt?.scrollIntoView({block:"nearest"}),tt===xe&&A&&(A.scrollTop=0),tt===Oe&&A&&(A.scrollTop=A.scrollHeight),tt?.focus(),document.activeElement!==We))return},[P,A]),oe=x.useCallback(()=>X([M,k]),[X,M,k]);x.useEffect(()=>{D&&oe()},[D,oe]);const{onOpenChange:J,triggerPointerDownPosRef:Z}=C;x.useEffect(()=>{if(k){let le={x:0,y:0};const xe=Oe=>{le={x:Math.abs(Math.round(Oe.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(Z.current?.y??0))}},Ae=Oe=>{le.x<=10&&le.y<=10?Oe.preventDefault():k.contains(Oe.target)||J(!1),document.removeEventListener("pointermove",xe),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[k,J,Z]),x.useEffect(()=>{const le=()=>J(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[J]);const[ee,F]=Zy(le=>{const xe=P().filter(We=>!We.disabled),Ae=xe.find(We=>We.ref.current===document.activeElement),Oe=Xy(xe,le,Ae);Oe&&setTimeout(()=>Oe.ref.current.focus())}),V=x.useCallback((le,xe,Ae)=>{const Oe=!Y.current&&!Ae;(C.value!==void 0&&C.value===xe||Oe)&&(R(le),Oe&&(Y.current=!0))},[C.value]),ae=x.useCallback(()=>k?.focus(),[k]),pe=x.useCallback((le,xe,Ae)=>{const Oe=!Y.current&&!Ae;(C.value!==void 0&&C.value===xe||Oe)&&H(le)},[C.value]),Ie=i==="popper"?Hd:Dy,Te=Ie===Hd?{side:h,sideOffset:m,align:f,alignOffset:p,arrowPadding:v,collisionBoundary:w,collisionPadding:_,sticky:N,hideWhenDetached:b,avoidCollisions:j}:{};return e.jsx(Oy,{scope:n,content:k,viewport:A,onViewportChange:$,itemRefCallback:V,selectedItem:M,onItemLeave:ae,itemTextRefCallback:pe,focusSelectedItem:oe,selectedItemText:U,position:i,isPositioned:D,searchRef:ee,children:e.jsx(Fh,{as:yE,allowPinchZoom:!0,children:e.jsx(Sh,{asChild:!0,trapped:C.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ke(o,le=>{C.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:e.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(Ie,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:le=>le.preventDefault(),...S,...Te,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:ke(S.onKeyDown,le=>{const xe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!xe&&le.key.length===1&&F(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Oe=P().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const We=le.target,tt=Oe.indexOf(We);Oe=Oe.slice(tt+1)}setTimeout(()=>X(Oe)),le.preventDefault()}})})})})})})});My.displayName=xE;var wE="SelectItemAlignedPosition",Dy=x.forwardRef((s,t)=>{const{__scopeSelect:n,onPlaced:i,...o}=s,c=Gn(xs,n),u=Kn(xs,n),[h,m]=x.useState(null),[f,p]=x.useState(null),v=Ge(t,T=>p(T)),w=Gl(n),_=x.useRef(!1),N=x.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:S,focusSelectedItem:C}=u,k=x.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&f&&b&&j&&S){const T=c.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),R=c.valueNode.getBoundingClientRect(),U=S.getBoundingClientRect();if(c.dir!=="rtl"){const We=U.left-M.left,tt=R.left-We,jt=T.left-tt,hr=T.width+jt,ks=Math.max(hr,M.width),Ns=window.innerWidth-jr,Jn=Vg(tt,[jr,Math.max(jr,Ns-ks)]);h.style.minWidth=hr+"px",h.style.left=Jn+"px"}else{const We=M.right-U.right,tt=window.innerWidth-R.right-We,jt=window.innerWidth-T.right-tt,hr=T.width+jt,ks=Math.max(hr,M.width),Ns=window.innerWidth-jr,Jn=Vg(tt,[jr,Math.max(jr,Ns-ks)]);h.style.minWidth=hr+"px",h.style.right=Jn+"px"}const H=w(),P=window.innerHeight-jr*2,D=b.scrollHeight,B=window.getComputedStyle(f),Y=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),oe=parseInt(B.borderBottomWidth,10),J=parseInt(B.paddingBottom,10),Z=Y+X+D+J+oe,ee=Math.min(j.offsetHeight*5,Z),F=window.getComputedStyle(b),V=parseInt(F.paddingTop,10),ae=parseInt(F.paddingBottom,10),pe=T.top+T.height/2-jr,Ie=P-pe,Te=j.offsetHeight/2,le=j.offsetTop+Te,xe=Y+X+le,Ae=Z-xe;if(xe<=pe){const We=H.length>0&&j===H[H.length-1].ref.current;h.style.bottom="0px";const tt=f.clientHeight-b.offsetTop-b.offsetHeight,jt=Math.max(Ie,Te+(We?ae:0)+tt+oe),hr=xe+jt;h.style.height=hr+"px"}else{const We=H.length>0&&j===H[0].ref.current;h.style.top="0px";const jt=Math.max(pe,Y+b.offsetTop+(We?V:0)+Te)+Ae;h.style.height=jt+"px",b.scrollTop=xe-pe+b.offsetTop}h.style.margin=`${jr}px 0`,h.style.minHeight=ee+"px",h.style.maxHeight=P+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[w,c.trigger,c.valueNode,h,f,b,j,S,c.dir,i]);St(()=>k(),[k]);const[I,A]=x.useState();St(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const $=x.useCallback(T=>{T&&N.current===!0&&(k(),C?.(),N.current=!1)},[k,C]);return e.jsx(jE,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:_,onScrollButtonChange:$,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:e.jsx(Se.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Dy.displayName=wE;var _E="SelectPopperPosition",Hd=x.forwardRef((s,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:o=jr,...c}=s,u=Kl(n);return e.jsx(b2,{...u,...c,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hd.displayName=_E;var[jE,zh]=Ta(xs,{}),Gd="SelectViewport",Ly=x.forwardRef((s,t)=>{const{__scopeSelect:n,nonce:i,...o}=s,c=Kn(Gd,n),u=zh(Gd,n),h=Ge(t,c.onViewportChange),m=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Hl.Slot,{scope:n,children:e.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ke(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=u;if(w?.current&&v){const _=Math.abs(m.current-p.scrollTop);if(_>0){const N=window.innerHeight-jr*2,b=parseFloat(v.style.minHeight),j=parseFloat(v.style.height),S=Math.max(b,j);if(S<N){const C=S+_,k=Math.min(N,C),I=C-k;v.style.height=k+"px",v.style.bottom==="0px"&&(p.scrollTop=I>0?I:0,v.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});Ly.displayName=Gd;var Fy="SelectGroup",[bE,kE]=Ta(Fy),NE=x.forwardRef((s,t)=>{const{__scopeSelect:n,...i}=s,o=Mn();return e.jsx(bE,{scope:n,id:o,children:e.jsx(Se.div,{role:"group","aria-labelledby":o,...i,ref:t})})});NE.displayName=Fy;var zy="SelectLabel",Uy=x.forwardRef((s,t)=>{const{__scopeSelect:n,...i}=s,o=kE(zy,n);return e.jsx(Se.div,{id:o.id,...i,ref:t})});Uy.displayName=zy;var Al="SelectItem",[SE,$y]=Ta(Al),By=x.forwardRef((s,t)=>{const{__scopeSelect:n,value:i,disabled:o=!1,textValue:c,...u}=s,h=Gn(Al,n),m=Kn(Al,n),f=h.value===i,[p,v]=x.useState(c??""),[w,_]=x.useState(!1),N=Ge(t,C=>m.itemRefCallback?.(C,i,o)),b=Mn(),j=x.useRef("touch"),S=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(SE,{scope:n,value:i,disabled:o,textId:b,isSelected:f,onItemTextChange:x.useCallback(C=>{v(k=>k||(C?.textContent??"").trim())},[]),children:e.jsx(Hl.ItemSlot,{scope:n,value:i,disabled:o,textValue:p,children:e.jsx(Se.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:N,onFocus:ke(u.onFocus,()=>_(!0)),onBlur:ke(u.onBlur,()=>_(!1)),onClick:ke(u.onClick,()=>{j.current!=="mouse"&&S()}),onPointerUp:ke(u.onPointerUp,()=>{j.current==="mouse"&&S()}),onPointerDown:ke(u.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:ke(u.onPointerMove,C=>{j.current=C.pointerType,o?m.onItemLeave?.():j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:ke(u.onKeyDown,C=>{m.searchRef?.current!==""&&C.key===" "||(dE.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});By.displayName=Al;var Ei="SelectItemText",Vy=x.forwardRef((s,t)=>{const{__scopeSelect:n,className:i,style:o,...c}=s,u=Gn(Ei,n),h=Kn(Ei,n),m=$y(Ei,n),f=pE(Ei,n),[p,v]=x.useState(null),w=Ge(t,S=>v(S),m.onItemTextChange,S=>h.itemTextRefCallback?.(S,m.value,m.disabled)),_=p?.textContent,N=x.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:_},m.value),[m.disabled,m.value,_]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=f;return St(()=>(b(N),()=>j(N)),[b,j,N]),e.jsxs(e.Fragment,{children:[e.jsx(Se.span,{id:m.textId,...c,ref:w}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?ba.createPortal(c.children,u.valueNode):null]})});Vy.displayName=Ei;var Wy="SelectItemIndicator",qy=x.forwardRef((s,t)=>{const{__scopeSelect:n,...i}=s;return $y(Wy,n).isSelected?e.jsx(Se.span,{"aria-hidden":!0,...i,ref:t}):null});qy.displayName=Wy;var Kd="SelectScrollUpButton",Hy=x.forwardRef((s,t)=>{const n=Kn(Kd,s.__scopeSelect),i=zh(Kd,s.__scopeSelect),[o,c]=x.useState(!1),u=Ge(t,i.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=m.scrollTop>0;c(f)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?e.jsx(Ky,{...s,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});Hy.displayName=Kd;var Jd="SelectScrollDownButton",Gy=x.forwardRef((s,t)=>{const n=Kn(Jd,s.__scopeSelect),i=zh(Jd,s.__scopeSelect),[o,c]=x.useState(!1),u=Ge(t,i.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<f;c(p)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?e.jsx(Ky,{...s,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});Gy.displayName=Jd;var Ky=x.forwardRef((s,t)=>{const{__scopeSelect:n,onAutoScroll:i,...o}=s,c=Kn("SelectScrollButton",n),u=x.useRef(null),h=Gl(n),m=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),St(()=>{h().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),e.jsx(Se.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ke(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:ke(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:ke(o.onPointerLeave,()=>{m()})})}),CE="SelectSeparator",Jy=x.forwardRef((s,t)=>{const{__scopeSelect:n,...i}=s;return e.jsx(Se.div,{"aria-hidden":!0,...i,ref:t})});Jy.displayName=CE;var Qd="SelectArrow",EE=x.forwardRef((s,t)=>{const{__scopeSelect:n,...i}=s,o=Kl(n),c=Gn(Qd,n),u=Kn(Qd,n);return c.open&&u.position==="popper"?e.jsx(k2,{...o,...i,ref:t}):null});EE.displayName=Qd;var PE="SelectBubbleInput",Qy=x.forwardRef(({__scopeSelect:s,value:t,...n},i)=>{const o=x.useRef(null),c=Ge(i,o),u=Lh(t);return x.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&p){const v=new Event("change",{bubbles:!0});p.call(h,t),h.dispatchEvent(v)}},[u,t]),e.jsx(Se.select,{...n,style:{...Mv,...n.style},ref:c,defaultValue:t})});Qy.displayName=PE;function Yy(s){return s===""||s===void 0}function Zy(s){const t=cr(s),n=x.useRef(""),i=x.useRef(0),o=x.useCallback(u=>{const h=n.current+u;t(h),function m(f){n.current=f,window.clearTimeout(i.current),f!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(h)},[t]),c=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,o,c]}function Xy(s,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=n?s.indexOf(n):-1;let u=RE(s,Math.max(c,0));o.length===1&&(u=u.filter(f=>f!==n));const m=u.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function RE(s,t){return s.map((n,i)=>s[(t+i)%s.length])}var TE=Sy,ew=Ey,AE=Ry,IE=Ty,OE=Ay,tw=Iy,ME=Ly,rw=Uy,nw=By,DE=Vy,LE=qy,sw=Hy,aw=Gy,iw=Jy;const ut=TE,mt=AE,it=x.forwardRef(({className:s,children:t,...n},i)=>e.jsxs(ew,{ref:i,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",s),...n,children:[t,e.jsx(IE,{asChild:!0,children:e.jsx(hh,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));it.displayName=ew.displayName;const ow=x.forwardRef(({className:s,...t},n)=>e.jsx(sw,{ref:n,className:Re("flex cursor-default items-center justify-center py-1 text-muted-foreground",s),...t,children:e.jsx($k,{className:"h-4 w-4"})}));ow.displayName=sw.displayName;const lw=x.forwardRef(({className:s,...t},n)=>e.jsx(aw,{ref:n,className:Re("flex cursor-default items-center justify-center py-1 text-muted-foreground",s),...t,children:e.jsx(hh,{className:"h-4 w-4"})}));lw.displayName=aw.displayName;const ot=x.forwardRef(({className:s,children:t,position:n="popper",...i},o)=>e.jsx(OE,{children:e.jsxs(tw,{ref:o,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[e.jsx(ow,{}),e.jsx(ME,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(lw,{})]})}));ot.displayName=tw.displayName;const FE=x.forwardRef(({className:s,...t},n)=>e.jsx(rw,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",s),...t}));FE.displayName=rw.displayName;const Pe=x.forwardRef(({className:s,children:t,...n},i)=>e.jsxs(nw,{ref:i,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(LE,{children:e.jsx(dh,{className:"h-4 w-4 text-primary"})})}),e.jsx(DE,{children:t})]}));Pe.displayName=nw.displayName;const zE=x.forwardRef(({className:s,...t},n)=>e.jsx(iw,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",s),...t}));zE.displayName=iw.displayName;const UE=()=>{const{currentLanguage:s,setLanguage:t,availableLanguages:n}=ze(),i={en:"",ja:"",pl:"",zh:"",ko:"",ms:"",id:"",vi:"",th:"",es:"",ro:""},o={en:"English",ja:"",pl:"Polski",zh:"",ko:"",ms:"Bahasa Melayu",id:"Bahasa Indonesia",vi:"Ting Vit",th:"",es:"Espaol",ro:"Romn"};return e.jsxs(ut,{value:s,onValueChange:t,children:[e.jsx(it,{className:"w-auto min-w-[120px] h-9 bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg transition-all duration-200 focus:ring-2 focus:ring-navikko-primary/20 focus:border-navikko-primary",children:e.jsxs("div",{className:"flex items-center gap-2 px-2",children:[e.jsx("span",{className:"text-sm",children:i[s]}),e.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:o[s]}),e.jsx("span",{className:"text-xs font-medium text-gray-700 sm:hidden",children:s.toUpperCase()}),e.jsx(hh,{className:"h-3 w-3 text-gray-500"})]})}),e.jsx(ot,{className:"w-48 bg-white border-gray-200 shadow-lg rounded-lg",children:n.map(c=>e.jsx(Pe,{value:c.code,className:"text-sm hover:bg-gray-50 focus:bg-gray-100 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("span",{className:"text-base",children:i[c.code]}),e.jsx("span",{className:"font-medium text-gray-700",children:o[c.code]})]})},c.code))})]})},ne=x.forwardRef(({className:s,type:t,...n},i)=>e.jsx("input",{type:t,className:Re("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...n}));ne.displayName="Input";var $E="Label",cw=x.forwardRef((s,t)=>e.jsx(Se.label,{...s,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(s.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cw.displayName=$E;var uw=cw;const BE=$i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),G=x.forwardRef(({className:s,variant:t,size:n,...i},o)=>e.jsx(uw,{ref:o,className:Re(BE({variant:t,size:n}),s),...i}));G.displayName=uw.displayName;var Jl="Checkbox",[VE,oT]=sn(Jl),[WE,Uh]=VE(Jl);function qE(s){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:o,disabled:c,form:u,name:h,onCheckedChange:m,required:f,value:p="on",internal_do_not_use_render:v}=s,[w,_]=Ln({prop:n,defaultProp:o??!1,onChange:m,caller:Jl}),[N,b]=x.useState(null),[j,S]=x.useState(null),C=x.useRef(!1),k=N?!!u||!!N.closest("form"):!0,I={checked:w,disabled:c,setChecked:_,control:N,setControl:b,name:h,form:u,value:p,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:Dn(o)?!1:o,isFormControl:k,bubbleInput:j,setBubbleInput:S};return e.jsx(WE,{scope:t,...I,children:HE(v)?v(I):i})}var dw="CheckboxTrigger",hw=x.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:n,...i},o)=>{const{control:c,value:u,disabled:h,checked:m,required:f,setControl:p,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:_,bubbleInput:N}=Uh(dw,s),b=Ge(o,p),j=x.useRef(m);return x.useEffect(()=>{const S=c?.form;if(S){const C=()=>v(j.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[c,v]),e.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":Dn(m)?"mixed":m,"aria-required":f,"data-state":vw(m),"data-disabled":h?"":void 0,disabled:h,value:u,...i,ref:b,onKeyDown:ke(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ke(n,S=>{v(C=>Dn(C)?!0:!C),N&&_&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})})});hw.displayName=dw;var $h=x.forwardRef((s,t)=>{const{__scopeCheckbox:n,name:i,checked:o,defaultChecked:c,required:u,disabled:h,value:m,onCheckedChange:f,form:p,...v}=s;return e.jsx(qE,{__scopeCheckbox:n,checked:o,defaultChecked:c,disabled:h,required:u,onCheckedChange:f,name:i,form:p,value:m,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(hw,{...v,ref:t,__scopeCheckbox:n}),w&&e.jsx(gw,{__scopeCheckbox:n})]})})});$h.displayName=Jl;var mw="CheckboxIndicator",fw=x.forwardRef((s,t)=>{const{__scopeCheckbox:n,forceMount:i,...o}=s,c=Uh(mw,n);return e.jsx(js,{present:i||Dn(c.checked)||c.checked===!0,children:e.jsx(Se.span,{"data-state":vw(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...s.style}})})});fw.displayName=mw;var pw="CheckboxBubbleInput",gw=x.forwardRef(({__scopeCheckbox:s,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:h,disabled:m,name:f,value:p,form:v,bubbleInput:w,setBubbleInput:_}=Uh(pw,s),N=Ge(n,_),b=Lh(c),j=Oh(i);x.useEffect(()=>{const C=w;if(!C)return;const k=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(k,"checked").set,$=!o.current;if(b!==c&&A){const T=new Event("click",{bubbles:$});C.indeterminate=Dn(c),A.call(C,Dn(c)?!1:c),C.dispatchEvent(T)}},[w,b,c,o]);const S=x.useRef(Dn(c)?!1:c);return e.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??S.current,required:h,disabled:m,name:f,value:p,form:v,...t,tabIndex:-1,ref:N,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gw.displayName=pw;function HE(s){return typeof s=="function"}function Dn(s){return s==="indeterminate"}function vw(s){return Dn(s)?"indeterminate":s?"checked":"unchecked"}const Mt=x.forwardRef(({className:s,...t},n)=>e.jsx($h,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",s),...t,children:e.jsx(fw,{className:Re("flex items-center justify-center text-current"),children:e.jsx(dh,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));Mt.displayName=$h.displayName;const ce=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Re("rounded-lg border border-border/40 bg-background shadow-sm",s),...t}));ce.displayName="Card";const _e=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",s),...t}));_e.displayName="CardHeader";const je=x.forwardRef(({className:s,...t},n)=>e.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight text-foreground",s),...t}));je.displayName="CardTitle";const en=x.forwardRef(({className:s,...t},n)=>e.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",s),...t}));en.displayName="CardDescription";const de=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Re("p-6 pt-0",s),...t}));de.displayName="CardContent";const GE=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",s),...t}));GE.displayName="CardFooter";var Ql="Dialog",[xw,lT]=sn(Ql),[KE,Er]=xw(Ql),yw=s=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=s,h=x.useRef(null),m=x.useRef(null),[f,p]=Ln({prop:i,defaultProp:o??!1,onChange:c,caller:Ql});return e.jsx(KE,{scope:t,triggerRef:h,contentRef:m,contentId:Mn(),titleId:Mn(),descriptionId:Mn(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(v=>!v),[p]),modal:u,children:n})};yw.displayName=Ql;var ww="DialogTrigger",_w=x.forwardRef((s,t)=>{const{__scopeDialog:n,...i}=s,o=Er(ww,n),c=Ge(t,o.triggerRef);return e.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Wh(o.open),...i,ref:c,onClick:ke(s.onClick,o.onOpenToggle)})});_w.displayName=ww;var Bh="DialogPortal",[JE,jw]=xw(Bh,{forceMount:void 0}),bw=s=>{const{__scopeDialog:t,forceMount:n,children:i,container:o}=s,c=Er(Bh,t);return e.jsx(JE,{scope:t,forceMount:n,children:x.Children.map(i,u=>e.jsx(js,{present:n||c.open,children:e.jsx(Fl,{asChild:!0,container:o,children:u})}))})};bw.displayName=Bh;var Il="DialogOverlay",kw=x.forwardRef((s,t)=>{const n=jw(Il,s.__scopeDialog),{forceMount:i=n.forceMount,...o}=s,c=Er(Il,s.__scopeDialog);return c.modal?e.jsx(js,{present:i||c.open,children:e.jsx(YE,{...o,ref:t})}):null});kw.displayName=Il;var QE=wa("DialogOverlay.RemoveScroll"),YE=x.forwardRef((s,t)=>{const{__scopeDialog:n,...i}=s,o=Er(Il,n);return e.jsx(Fh,{as:QE,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(Se.div,{"data-state":Wh(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),ys="DialogContent",Nw=x.forwardRef((s,t)=>{const n=jw(ys,s.__scopeDialog),{forceMount:i=n.forceMount,...o}=s,c=Er(ys,s.__scopeDialog);return e.jsx(js,{present:i||c.open,children:c.modal?e.jsx(ZE,{...o,ref:t}):e.jsx(XE,{...o,ref:t})})});Nw.displayName=ys;var ZE=x.forwardRef((s,t)=>{const n=Er(ys,s.__scopeDialog),i=x.useRef(null),o=Ge(t,n.contentRef,i);return x.useEffect(()=>{const c=i.current;if(c)return xy(c)},[]),e.jsx(Sw,{...s,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(s.onCloseAutoFocus,c=>{c.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ke(s.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:ke(s.onFocusOutside,c=>c.preventDefault())})}),XE=x.forwardRef((s,t)=>{const n=Er(ys,s.__scopeDialog),i=x.useRef(!1),o=x.useRef(!1);return e.jsx(Sw,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{s.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||n.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{s.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;n.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),Sw=x.forwardRef((s,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=s,h=Er(ys,n),m=x.useRef(null),f=Ge(t,m);return Gx(),e.jsxs(e.Fragment,{children:[e.jsx(Sh,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:e.jsx(Ll,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Wh(h.open),...u,ref:f,onDismiss:()=>h.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(eP,{titleId:h.titleId}),e.jsx(rP,{contentRef:m,descriptionId:h.descriptionId})]})]})}),Vh="DialogTitle",Cw=x.forwardRef((s,t)=>{const{__scopeDialog:n,...i}=s,o=Er(Vh,n);return e.jsx(Se.h2,{id:o.titleId,...i,ref:t})});Cw.displayName=Vh;var Ew="DialogDescription",Pw=x.forwardRef((s,t)=>{const{__scopeDialog:n,...i}=s,o=Er(Ew,n);return e.jsx(Se.p,{id:o.descriptionId,...i,ref:t})});Pw.displayName=Ew;var Rw="DialogClose",Tw=x.forwardRef((s,t)=>{const{__scopeDialog:n,...i}=s,o=Er(Rw,n);return e.jsx(Se.button,{type:"button",...i,ref:t,onClick:ke(s.onClick,()=>o.onOpenChange(!1))})});Tw.displayName=Rw;function Wh(s){return s?"open":"closed"}var Aw="DialogTitleWarning",[cT,Iw]=Hb(Aw,{contentName:ys,titleName:Vh,docsSlug:"dialog"}),eP=({titleId:s})=>{const t=Iw(Aw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{s&&(document.getElementById(s)||console.error(n))},[n,s]),null},tP="DialogDescriptionWarning",rP=({contentRef:s,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Iw(tP).contentName}}.`;return x.useEffect(()=>{const o=s.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,s,t]),null},nP=yw,sP=_w,aP=bw,Ow=kw,Mw=Nw,Dw=Cw,Lw=Pw,iP=Tw;const qt=nP,Aa=sP,oP=aP,Fw=x.forwardRef(({className:s,...t},n)=>e.jsx(Ow,{ref:n,className:Re("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Fw.displayName=Ow.displayName;const Dt=x.forwardRef(({className:s,children:t,...n},i)=>e.jsxs(oP,{children:[e.jsx(Fw,{}),e.jsxs(Mw,{ref:i,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[t,e.jsxs(iP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(xh,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dt.displayName=Mw.displayName;const Ht=({className:s,...t})=>e.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Ht.displayName="DialogHeader";const Gt=x.forwardRef(({className:s,...t},n)=>e.jsx(Dw,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight text-foreground",s),...t}));Gt.displayName=Dw.displayName;const lP=x.forwardRef(({className:s,...t},n)=>e.jsx(Lw,{ref:n,className:Re("text-sm text-muted-foreground",s),...t}));lP.displayName=Lw.displayName;var wd="rovingFocusGroup.onEntryFocus",cP={bubbles:!1,cancelable:!0},Gi="RovingFocusGroup",[Yd,zw,uP]=ah(Gi),[dP,Uw]=sn(Gi,[uP]),[hP,mP]=dP(Gi),$w=x.forwardRef((s,t)=>e.jsx(Yd.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Yd.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(fP,{...s,ref:t})})}));$w.displayName=Gi;var fP=x.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...v}=s,w=x.useRef(null),_=Ge(t,w),N=Nh(c),[b,j]=Ln({prop:u,defaultProp:h??null,onChange:m,caller:Gi}),[S,C]=x.useState(!1),k=cr(f),I=zw(n),A=x.useRef(!1),[$,T]=x.useState(0);return x.useEffect(()=>{const M=w.current;if(M)return M.addEventListener(wd,k),()=>M.removeEventListener(wd,k)},[k]),e.jsx(hP,{scope:n,orientation:i,dir:N,loop:o,currentTabStopId:b,onItemFocus:x.useCallback(M=>j(M),[j]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:x.useCallback(()=>T(M=>M-1),[]),children:e.jsx(Se.div,{tabIndex:S||$===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...s.style},onMouseDown:ke(s.onMouseDown,()=>{A.current=!0}),onFocus:ke(s.onFocus,M=>{const R=!A.current;if(M.target===M.currentTarget&&R&&!S){const U=new CustomEvent(wd,cP);if(M.currentTarget.dispatchEvent(U),!U.defaultPrevented){const H=I().filter(X=>X.focusable),P=H.find(X=>X.active),D=H.find(X=>X.id===b),Y=[P,D,...H].filter(Boolean).map(X=>X.ref.current);Ww(Y,p)}}A.current=!1}),onBlur:ke(s.onBlur,()=>C(!1))})})}),Bw="RovingFocusGroupItem",Vw=x.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...h}=s,m=Mn(),f=c||m,p=mP(Bw,n),v=p.currentTabStopId===f,w=zw(n),{onFocusableItemAdd:_,onFocusableItemRemove:N,currentTabStopId:b}=p;return x.useEffect(()=>{if(i)return _(),()=>N()},[i,_,N]),e.jsx(Yd.ItemSlot,{scope:n,id:f,focusable:i,active:o,children:e.jsx(Se.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...h,ref:t,onMouseDown:ke(s.onMouseDown,j=>{i?p.onItemFocus(f):j.preventDefault()}),onFocus:ke(s.onFocus,()=>p.onItemFocus(f)),onKeyDown:ke(s.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const S=vP(j,p.orientation,p.dir);if(S!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=w().filter(I=>I.focusable).map(I=>I.ref.current);if(S==="last")k.reverse();else if(S==="prev"||S==="next"){S==="prev"&&k.reverse();const I=k.indexOf(j.currentTarget);k=p.loop?xP(k,I+1):k.slice(I+1)}setTimeout(()=>Ww(k))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:b!=null}):u})})});Vw.displayName=Bw;var pP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gP(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function vP(s,t,n){const i=gP(s.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return pP[i]}function Ww(s,t=!1){const n=document.activeElement;for(const i of s)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function xP(s,t){return s.map((n,i)=>s[(t+i)%s.length])}var yP=$w,wP=Vw,Yl="Tabs",[_P,uT]=sn(Yl,[Uw]),qw=Uw(),[jP,qh]=_P(Yl),Hw=x.forwardRef((s,t)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:m="automatic",...f}=s,p=Nh(h),[v,w]=Ln({prop:i,onChange:o,defaultProp:c??"",caller:Yl});return e.jsx(jP,{scope:n,baseId:Mn(),value:v,onValueChange:w,orientation:u,dir:p,activationMode:m,children:e.jsx(Se.div,{dir:p,"data-orientation":u,...f,ref:t})})});Hw.displayName=Yl;var Gw="TabsList",Kw=x.forwardRef((s,t)=>{const{__scopeTabs:n,loop:i=!0,...o}=s,c=qh(Gw,n),u=qw(n);return e.jsx(yP,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:e.jsx(Se.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});Kw.displayName=Gw;var Jw="TabsTrigger",Qw=x.forwardRef((s,t)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...c}=s,u=qh(Jw,n),h=qw(n),m=Xw(u.baseId,i),f=e0(u.baseId,i),p=i===u.value;return e.jsx(wP,{asChild:!0,...h,focusable:!o,active:p,children:e.jsx(Se.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...c,ref:t,onMouseDown:ke(s.onMouseDown,v=>{!o&&v.button===0&&v.ctrlKey===!1?u.onValueChange(i):v.preventDefault()}),onKeyDown:ke(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(i)}),onFocus:ke(s.onFocus,()=>{const v=u.activationMode!=="manual";!p&&!o&&v&&u.onValueChange(i)})})})});Qw.displayName=Jw;var Yw="TabsContent",Zw=x.forwardRef((s,t)=>{const{__scopeTabs:n,value:i,forceMount:o,children:c,...u}=s,h=qh(Yw,n),m=Xw(h.baseId,i),f=e0(h.baseId,i),p=i===h.value,v=x.useRef(p);return x.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(js,{present:o||p,children:({present:w})=>e.jsx(Se.div,{"data-state":p?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:f,tabIndex:0,...u,ref:t,style:{...s.style,animationDuration:v.current?"0s":void 0},children:w&&c})})});Zw.displayName=Yw;function Xw(s,t){return`${s}-trigger-${t}`}function e0(s,t){return`${s}-content-${t}`}var bP=Hw,t0=Kw,r0=Qw,n0=Zw;const Zl=bP,Ki=x.forwardRef(({className:s,...t},n)=>e.jsx(t0,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",s),...t}));Ki.displayName=t0.displayName;const or=x.forwardRef(({className:s,...t},n)=>e.jsx(r0,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",s),...t}));or.displayName=r0.displayName;const lr=x.forwardRef(({className:s,...t},n)=>e.jsx(n0,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",s),...t}));lr.displayName=n0.displayName;const kP=$i("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),kr=x.forwardRef(({className:s,variant:t,...n},i)=>e.jsx("div",{ref:i,role:"alert",className:Re(kP({variant:t}),s),...n}));kr.displayName="Alert";const NP=x.forwardRef(({className:s,...t},n)=>e.jsx("h5",{ref:n,className:Re("mb-1 font-medium leading-none tracking-tight",s),...t}));NP.displayName="AlertTitle";const Nr=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Re("text-sm [&_p]:leading-relaxed opacity-90",s),...t}));Nr.displayName="AlertDescription";var SP="Separator",uv="horizontal",CP=["horizontal","vertical"],s0=x.forwardRef((s,t)=>{const{decorative:n,orientation:i=uv,...o}=s,c=EP(i)?i:uv,h=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Se.div,{"data-orientation":c,...h,...o,ref:t})});s0.displayName=SP;function EP(s){return CP.includes(s)}var a0=s0;const Xr=x.forwardRef(({className:s,orientation:t="horizontal",decorative:n=!0,variant:i="default",...o},c)=>e.jsx(a0,{ref:c,decorative:n,orientation:t,className:Re("shrink-0",i==="default"&&"bg-border",i==="muted"&&"bg-muted",i==="accent"&&"bg-primary/30",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...o}));Xr.displayName=a0.displayName;function i0({isOpen:s,onClose:t,onSetupComplete:n,onVerify:i,mode:o,userEmail:c}){const{t:u}=ze(),[h,m]=x.useState(""),[f,p]=x.useState(""),[v,w]=x.useState(""),[_,N]=x.useState(!1),[b,j]=x.useState(""),[S,C]=x.useState(""),[k,I]=x.useState(30);x.useEffect(()=>{if(o==="setup"&&s&&!h){const R=Cl();m(R);const H=new Wt({secret:R}).generateQRCodeURL(c||"admin@navikko.com","Navikko Admin");p(H)}},[o,s,h,c]),x.useEffect(()=>{if(o==="verify"&&s){const R=setInterval(()=>{const U=new Wt({secret:h});I(U.getRemainingTime())},1e3);return()=>clearInterval(R)}},[o,s,h]);const A=async()=>{if(!v||v.length!==6){j("Please enter a 6-digit code");return}N(!0),j("");try{await new Wt({secret:h}).verifyCode(v)?(C("2FA setup successful!"),setTimeout(()=>{n(h),t()},1500)):j("Invalid verification code. Please try again.")}catch{j("Verification failed. Please try again.")}finally{N(!1)}},$=async()=>{if(console.log(" TwoFactorAuthModal: handleVerifyCode called with code:",v),!v||v.length!==6){console.log(" TwoFactorAuthModal: Invalid code length"),j("Please enter a 6-digit code");return}N(!0),j("");try{console.log(" TwoFactorAuthModal: About to call onVerify with code:",v);const R=await i(v);console.log(" TwoFactorAuthModal: onVerify returned:",R),R?(console.log(" TwoFactorAuthModal: Verification successful, setting success message"),C("Verification successful!")):(console.log(" TwoFactorAuthModal: Verification failed, setting error"),j("Invalid verification code. Please try again."))}catch(R){console.log(" TwoFactorAuthModal: Verification error:",R),j("Verification failed. Please try again.")}finally{N(!1)}},T=()=>{navigator.clipboard.writeText(h),C("Secret copied to clipboard!"),setTimeout(()=>C(""),2e3)},M=()=>{const R=TOTP.generateSecret();m(R),new TOTP(R);const U=`otpauth://totp/Navikko%20Admin:${c||"admin@navikko.com"}?secret=${R}&issuer=Navikko%20Admin`;p(U),w(""),j(""),C("New secret generated!")};return o==="setup"?e.jsx(qt,{open:s,onOpenChange:t,children:e.jsxs(Dt,{className:"max-w-md",children:[e.jsx(Ht,{children:e.jsxs(Gt,{className:"flex items-center gap-2",children:[" ",u("2fa.setup_title")||"Set Up Two-Factor Authentication"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(kr,{children:e.jsx(Nr,{children:u("2fa.setup_description")||"Scan the QR code with your authenticator app to set up 2FA for enhanced security."})}),e.jsxs(Zl,{defaultValue:"qr",className:"w-full",children:[e.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[e.jsx(or,{value:"qr",children:"QR Code"}),e.jsx(or,{value:"manual",children:"Manual Entry"})]}),e.jsx(lr,{value:"qr",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsxs(_e,{children:[e.jsx(je,{className:"text-sm",children:"QR Code"}),e.jsx(en,{children:"Scan this QR code with your authenticator app"})]}),e.jsx(de,{className:"flex justify-center",children:f&&e.jsx("div",{className:"p-4 bg-white rounded-lg",children:e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(f)}`,alt:"2FA QR Code",className:"w-48 h-48"})})})]})}),e.jsx(lr,{value:"manual",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsxs(_e,{children:[e.jsx(je,{className:"text-sm",children:"Manual Entry"}),e.jsx(en,{children:"Enter this secret manually in your authenticator app"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Secret Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{value:h,readOnly:!0,className:"font-mono text-sm"}),e.jsx(Q,{variant:"outline",size:"sm",onClick:T,children:"Copy"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Account"}),e.jsx(ne,{value:c||"admin@navikko.com",readOnly:!0,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Issuer"}),e.jsx(ne,{value:"Navikko Admin",readOnly:!0,className:"text-sm"})]})]})]})})]}),e.jsx(Xr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"verification-code",children:u("2fa.verification_code")||"Verification Code"}),e.jsx(ne,{id:"verification-code",type:"text",placeholder:"000000",value:v,onChange:R=>w(R.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"text-center text-lg font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the 6-digit code from your authenticator app"})]}),b&&e.jsx(kr,{variant:"destructive",children:e.jsx(Nr,{children:b})}),S&&e.jsx(kr,{children:e.jsx(Nr,{children:S})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{onClick:M,variant:"outline",className:"flex-1",children:"Generate New Secret"}),e.jsx(Q,{onClick:A,disabled:_||v.length!==6,className:"flex-1",children:_?"Verifying...":"Verify & Complete Setup"})]})]})]})]})}):e.jsx(qt,{open:s,onOpenChange:t,children:e.jsxs(Dt,{className:"max-w-md",children:[e.jsx(Ht,{children:e.jsxs(Gt,{className:"flex items-center gap-2",children:[" ",u("2fa.verify_title",{defaultValue:"Two-Factor Authentication"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(kr,{children:e.jsx(Nr,{children:u("2fa.verify_description",{defaultValue:"Enter the 6-digit code from your authenticator app to continue."})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"verify-code",children:u("2fa.verification_code",{defaultValue:"Verification Code"})}),e.jsx(ne,{id:"verify-code",type:"text",placeholder:"000000",value:v,onChange:R=>w(R.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"text-center text-lg font-mono"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Code expires in:"}),e.jsxs(Fe,{variant:"outline",children:[k,"s"]})]})]}),b&&e.jsx(kr,{variant:"destructive",children:e.jsx(Nr,{children:b})}),S&&e.jsx(kr,{children:e.jsx(Nr,{children:S})}),e.jsx(Q,{onClick:()=>{console.log(" TwoFactorAuthModal: Verify Code button clicked"),$()},disabled:_||v.length!==6,className:"w-full",children:_?"Verifying...":"Verify Code"})]})]})})}const dv=({userType:s,onSuccess:t,onError:n,locationConsent:i=!1,restaurantInfo:o,adminCode:c,phone:u="",className:h="",variant:m="outline",size:f="default"})=>{const{t:p}=ze(),{setUserRole:v}=Hn(),w=x.useRef(null),_=x.useRef(!1),[N,b]=x.useState(!1),[j,S]=x.useState(null),C=x.useCallback(async I=>{try{if(s==="admin"&&(!c||c.trim()===""))throw new Error("Admin code is required for admin registration via Google Sign-In.");const A=JSON.parse(atob(I.credential.split(".")[1])),$={id:A.sub,email:A.email,name:A.name,picture:A.picture,given_name:A.given_name,family_name:A.family_name},T={userType:s,locationConsent:i,restaurantInfo:o,adminCode:c,phone:u},M=await Be.signInWithGoogle($,T);v(M.userType),t&&t(M)}catch(A){console.error("Google Sign-In error:",A);const $=A instanceof Error?A.message:"Google Sign-In failed";if($==="2FA_REQUIRED_GOOGLE"){const T=JSON.parse(atob(I.credential.split(".")[1])),M={id:T.sub,email:T.email,name:T.name,picture:T.picture,given_name:T.given_name,family_name:T.family_name};S({googleUser:M,signInData:{userType:s,locationConsent:i,restaurantInfo:o,adminCode:c,phone:u}}),b(!0);return}n&&n($)}},[s,c,i,o,u,v,t,n]);x.useEffect(()=>{const I=()=>{if(window.google?.accounts){A();return}const $=document.createElement("script");$.src="https://accounts.google.com/gsi/client",$.async=!0,$.defer=!0,$.onload=A,document.head.appendChild($)},A=()=>{if(!(_.current||!window.google?.accounts)){w.current&&(w.current.innerHTML=`
            <div class="p-4 border border-orange-200 bg-orange-50 rounded-lg">
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-5 h-5 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                </svg>
                <span class="font-medium text-orange-800">${p("auth.google_setup_required")}</span>
              </div>
              <p class="text-sm text-orange-700 mb-3">
                ${p("auth.google_setup_description")}
              </p>
              <div class="space-y-2 text-xs text-orange-600">
                <p><strong>1.</strong> ${p("auth.google_setup_step1")} <a href="https://console.cloud.google.com/apis/credentials" target="_blank" class="underline">Google Cloud Console</a></p>
                <p><strong>2.</strong> ${p("auth.google_setup_step2")}</p>
                <p><strong>3.</strong> ${p("auth.google_setup_step3")} <code class="bg-orange-100 px-1 rounded">http://localhost:8082</code> and <code class="bg-orange-100 px-1 rounded">https://restaurant-app-xi-ashy.vercel.app</code></p>
                <p><strong>4.</strong> ${p("auth.google_setup_step4")} <code class="bg-orange-100 px-1 rounded">VITE_GOOGLE_CLIENT_ID=your-client-id</code></p>
                <p><strong>5.</strong> ${p("auth.google_setup_step5")}</p>
              </div>
              <button
                onclick="window.open('https://console.cloud.google.com/apis/credentials', '_blank')"
                class="mt-3 w-full bg-orange-600 text-white px-4 py-2 rounded text-sm hover:bg-orange-700 transition-colors"
              >
                ${p("auth.google_setup_button")}
              </button>
            </div>
          `);return}};return I(),()=>{}},[C,p]);const k=async I=>{try{const A=await Be.completeGoogleSignInWith2FA(I);return v(A.userType),b(!1),S(null),t&&t(A),!0}catch(A){console.error("2FA verification error:",A);const $=A instanceof Error?A.message:"2FA verification failed";return n&&n($),!1}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:h,children:[e.jsx("div",{ref:w,className:"w-full"}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:p("auth.or")})})]}),e.jsx(i0,{isOpen:N,onClose:()=>{b(!1),S(null)},onSetupComplete:()=>{},onVerify:k,mode:"verify",userEmail:j?.googleUser.email||""})]})},PP=({isOpen:s,onClose:t})=>{const{t:n,currentLanguage:i}=ze(),o={en:{title:"Privacy Policy",lastUpdated:"Last Updated: December 2024",sections:[{title:"1. Information We Collect",content:`We collect information you provide directly to us, such as when you create an account, place orders, or contact us. This may include:
 Name, email address, phone number
 Restaurant information (for restaurant owners)
 Location data (with your consent)
 Payment information (processed securely)
 Order history and preferences`},{title:"2. How We Use Your Information",content:`We use the information we collect to:
 Provide and improve our services
 Process orders and reservations
 Send you updates and notifications
 Personalize your experience
 Ensure security and prevent fraud`},{title:"3. Location Services",content:`With your consent, we may access your location to:
 Show nearby restaurants
 Provide location-based recommendations
 Improve our services
You can disable location access at any time in your device settings.`},{title:"4. Data Sharing",content:`We do not sell your personal information. We may share your information with:
 Restaurant partners (for order processing)
 Payment processors (for secure transactions)
 Service providers (for app functionality)
 Legal authorities (when required by law)`},{title:"5. Data Security",content:"We implement appropriate security measures to protect your personal information, including encryption and secure data storage. However, no method of transmission over the internet is 100% secure."},{title:"6. Your Rights",content:`You have the right to:
 Access your personal information
 Update or correct your information
 Delete your account
 Opt out of marketing communications
 Request data portability`},{title:"7. Contact Us",content:`If you have questions about this Privacy Policy, please contact us at:
Email: privacy@wasando.com
Address: WaSanDo , 1499-28 Kosato, Ueda, Nagano-ken, 386-0005 Japan
WhatsApp: +81-70-3782-2505`}]},ja:{title:"",lastUpdated:": 202412",sections:[{title:"1. ",content:`
 
 
 
 
 `},{title:"2. ",content:`
 
 
 
 
 `},{title:"3. ",content:`
 
 
 
`},{title:"4. ",content:`
 
 
 
 `},{title:"5. ",content:"100%"},{title:"6. ",content:`
 
 
 
 
 `},{title:"7. ",content:`
: privacy@wasando.com
: WaSanDo , 386-00051499-28
WhatsApp: +81-70-3782-2505`}]},zh:{title:"",lastUpdated:"202412",sections:[{title:"1. ",content:`
 
 
 
 
 `},{title:"2. ",content:`
 
 
 
 
 `},{title:"3. ",content:`
 
 
 
`},{title:"4. ",content:`
 
 
 
 `},{title:"5. ",content:"100%"},{title:"6. ",content:`
 
 
 
 
 `},{title:"7. ",content:`
: privacy@wasando.com
: WaSanDo , 386-00051499-28, 
WhatsApp: +81-70-3782-2505`}]}},c=o[i]||o.en;return e.jsx(qt,{open:s,onOpenChange:t,children:e.jsxs(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ht,{children:[e.jsx(Gt,{className:"text-2xl font-bold text-center",children:c.title}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:c.lastUpdated})]}),e.jsx("div",{className:"space-y-6 text-sm leading-relaxed",children:c.sections.map((u,h)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:u.title}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:u.content})]},h))}),e.jsx("div",{className:"flex justify-center pt-6",children:e.jsx(Q,{onClick:t,className:"px-8",children:n("common.close")})})]})})},RP=({isOpen:s,onClose:t})=>{const{t:n,currentLanguage:i}=ze(),o={en:{title:"Terms of Service",lastUpdated:"Last Updated: December 2024",sections:[{title:"1. Acceptance of Terms",content:"By accessing and using Navikko, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."},{title:"2. Description of Service",content:`Navikko is a multilingual dining platform that connects customers with restaurants. Our services include:
 Restaurant browsing and discovery
 Online ordering and reservations
 Payment processing
 Location-based recommendations
 Multilingual support`},{title:"3. User Accounts",content:`To use certain features of Navikko, you must create an account. You are responsible for:
 Maintaining the confidentiality of your account
 All activities that occur under your account
 Providing accurate and complete information
 Notifying us immediately of any unauthorized use`},{title:"4. User Conduct",content:`You agree not to:
 Use the service for any unlawful purpose
 Impersonate any person or entity
 Interfere with or disrupt the service
 Attempt to gain unauthorized access to our systems
 Use automated systems to access the service`},{title:"5. Restaurant Partners",content:`Restaurant owners using Navikko must:
 Provide accurate menu and pricing information
 Maintain food safety standards
 Process orders in a timely manner
 Comply with all applicable laws and regulations
 Maintain appropriate insurance coverage`},{title:"6. Payment Terms",content:` All payments are processed securely through our payment partners
 Prices are subject to change without notice
 Refunds are subject to restaurant policies
 Service fees may apply to orders
 Payment disputes should be resolved with the restaurant directly`},{title:"7. Privacy and Data",content:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices regarding the collection and use of your information."},{title:"8. Intellectual Property",content:"The service and its original content, features, and functionality are owned by Navikko and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."},{title:"9. Limitation of Liability",content:"Navikko shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."},{title:"10. Termination",content:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever."},{title:"11. Changes to Terms",content:"We reserve the right to modify or replace these terms at any time. If a revision is material, we will provide at least 30 days notice prior to any new terms taking effect."},{title:"12. Contact Information",content:`If you have any questions about these Terms of Service, please contact us at:
Email: legal@wasando.com
Address: WaSanDo , 1499-28 Kosato, Ueda, Nagano-ken, 386-0005 Japan
WhatsApp: +81-70-3782-2505`}]},ja:{title:"",lastUpdated:": 202412",sections:[{title:"1. ",content:"Navikko"},{title:"2. ",content:`Navikko
 
 
 
 
 `},{title:"3. ",content:`Navikko
 
 
 
 `},{title:"4. ",content:`
 
 
 
 
 `},{title:"5. ",content:`Navikko
 
 
 
 
 `},{title:"6. ",content:` 
 
 
 
 `},{title:"7. ",content:""},{title:"8. ",content:"Navikko"},{title:"9. ",content:"Navikko"},{title:"10. ",content:""},{title:"11. ",content:"30"},{title:"12. ",content:`
: legal@wasando.com
: WaSanDo , 386-00051499-28
WhatsApp: +81-70-3782-2505`}]},zh:{title:"",lastUpdated:"202412",sections:[{title:"1. ",content:"Navikko"},{title:"2. ",content:`Navikko
 
 
 
 
 `},{title:"3. ",content:`Navikko
 
 
 
 `},{title:"4. ",content:`
 
 
 
 
 `},{title:"5. ",content:`Navikko
 
 
 
 
 `},{title:"6. ",content:` 
 
 
 
 `},{title:"7. ",content:""},{title:"8. ",content:"Navikko"},{title:"9. ",content:"Navikko"},{title:"10. ",content:""},{title:"11. ",content:"30"},{title:"12. ",content:`
: legal@wasando.com
: WaSanDo , 386-00051499-28, 
WhatsApp: +81-70-3782-2505`}]}},c=o[i]||o.en;return e.jsx(qt,{open:s,onOpenChange:t,children:e.jsxs(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ht,{children:[e.jsx(Gt,{className:"text-2xl font-bold text-center",children:c.title}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:c.lastUpdated})]}),e.jsx("div",{className:"space-y-6 text-sm leading-relaxed",children:c.sections.map((u,h)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:u.title}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:u.content})]},h))}),e.jsx("div",{className:"flex justify-center pt-6",children:e.jsx(Q,{onClick:t,className:"px-8",children:n("common.close")})})]})})},TP=({isOpen:s,onClose:t})=>{const{t:n}=ze(),{login:i,signup:o,updateUserAfter2FA:c}=Hn(),[u,h]=x.useState("login"),[m,f]=x.useState(!1),[p,v]=x.useState(null),[w,_]=x.useState(!1),[N,b]=x.useState(!1),[j,S]=x.useState(!1),[C,k]=x.useState(!1),[I,A]=x.useState(!1),[$,T]=x.useState(!1),[M,R]=x.useState(null),[U,H]=x.useState({email:"",password:""}),[P,D]=x.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",userType:"customer",locationConsent:!1,restaurantName:"",restaurantAddress:"",restaurantPhone:"",adminCode:""}),B=(V,ae)=>{H(pe=>({...pe,[V]:ae})),v(null)},Y=(V,ae)=>{D(pe=>({...pe,[V]:ae})),v(null)},X=async V=>{V.preventDefault(),v(null),f(!0);try{const ae=await Be.login(U);i(U.email,U.password),t()}catch(ae){const pe=ae instanceof Error?ae.message:"Login failed";if(pe==="2FA_REQUIRED"){console.log(" AuthModal: 2FA_REQUIRED detected, showing 2FA modal"),R(U),T(!0),f(!1);return}else v(pe)}finally{f(!1)}},oe=async V=>{if(console.log(" AuthModal: 2FA verification called with code:",V),!M)return console.log(" AuthModal: No pending login data found"),!1;try{console.log(" AuthModal: Calling authService.login with 2FA code");const ae=await Be.login(M,V);return console.log(" AuthModal: Login successful, user authenticated:",ae),c(ae),console.log(" AuthModal: Closing 2FA modal and auth modal"),T(!1),R(null),t(),!0}catch(ae){return console.log(" AuthModal: 2FA verification failed:",ae),!1}},J=async()=>{if(!U.email){v("Please enter your email address first");return}try{f(!0);const{error:V}=await Be.resetPassword(U.email);V?v(`Failed to send reset email: ${V.message}`):(v(null),alert("Password reset email sent! Please check your inbox."))}catch(V){const ae=V instanceof Error?V.message:"Unknown error occurred";v(`Failed to send reset email: ${ae}`)}finally{f(!1)}},Z=async V=>{if(V.preventDefault(),v(null),!j){v(n("auth.terms_required"));return}if(f(!0),P.password!==P.confirmPassword){v("Passwords do not match"),f(!1);return}if(P.password.length<6){v("Password must be at least 6 characters long"),f(!1);return}if(P.userType==="restaurant_owner"&&(!P.restaurantName||!P.restaurantAddress||!P.restaurantPhone)){v("Please fill in all restaurant information"),f(!1);return}if(P.userType==="admin"&&(!P.adminCode||!bx(P.adminCode))){v("Invalid admin code"),f(!1);return}try{const ae=await Be.signup(P);o(P),t()}catch(ae){const pe=ae instanceof Error?ae.message:"Signup failed";v(pe)}finally{f(!1)}},ee=()=>{H({email:"",password:""}),D({email:"",password:"",confirmPassword:"",name:"",phone:"",userType:"customer",locationConsent:!1,restaurantName:"",restaurantAddress:"",restaurantPhone:"",adminCode:""}),v(null),S(!1)},F=()=>{ee(),t()};return e.jsxs(e.Fragment,{children:[e.jsx(qt,{open:s,onOpenChange:F,children:e.jsxs(Dt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsx(Ht,{children:e.jsx(Gt,{className:"text-center text-2xl font-bold",children:n("auth.welcome","Welcome to Navikko")})}),e.jsxs(Zl,{value:u,onValueChange:h,className:"w-full",children:[e.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[e.jsx(or,{value:"login",children:n("auth.login","Login")}),e.jsx(or,{value:"signup",children:n("auth.signup","Sign Up")})]}),e.jsx(lr,{value:"login",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(On,{className:"h-5 w-5"}),n("auth.login_title","Login to Your Account")]})}),e.jsx(de,{children:e.jsxs("form",{onSubmit:X,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"login-email",children:n("auth.email","Email")}),e.jsx(ne,{id:"login-email",type:"email",placeholder:n("auth.enter_email","Enter your email"),value:U.email,onChange:V=>B("email",V.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"login-password",children:n("auth.password","Password")}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{id:"login-password",type:w?"text":"password",placeholder:n("auth.enter_password","Enter your password"),value:U.password,onChange:V=>B("password",V.target.value),className:"pl-10",required:!0}),e.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!w),children:w?e.jsx(wl,{className:"h-4 w-4"}):e.jsx(ga,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"text-right mt-1",children:e.jsx(Q,{type:"button",variant:"link",size:"sm",className:"text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:J,children:n("auth.forgot_password","Forgot password?")})})]}),p&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:p}),e.jsx(Q,{type:"submit",className:"w-full",disabled:m,children:m?n("auth.logging_in","Logging in..."):n("auth.login","Login")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:n("auth.or_login_with","Or login with")}),e.jsx(dv,{onSuccess:t,userType:"customer"})]})]})})]})}),e.jsx(lr,{value:"signup",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Dr,{className:"h-5 w-5"}),n("auth.create_account","Create Your Account")]})}),e.jsx(de,{children:e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:n("auth.account_type","Account Type")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-2",children:[e.jsxs(Q,{type:"button",variant:P.userType==="customer"?"default":"outline",onClick:()=>Y("userType","customer"),className:"flex flex-col items-center gap-2 h-auto p-4",children:[e.jsx(Dr,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:n("auth.customer","Customer")})]}),e.jsxs(Q,{type:"button",variant:P.userType==="restaurant_owner"?"default":"outline",onClick:()=>Y("userType","restaurant_owner"),className:"flex flex-col items-center gap-2 h-auto p-4",children:[e.jsx(ms,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:n("auth.restaurant_owner","Restaurant Owner")})]}),e.jsxs(Q,{type:"button",variant:P.userType==="admin"?"default":"outline",onClick:()=>Y("userType","admin"),className:"flex flex-col items-center gap-2 h-auto p-4",children:[e.jsx(Mi,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:n("auth.admin","Admin")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"signup-name",children:n("auth.name","Full Name")}),e.jsx(ne,{id:"signup-name",type:"text",placeholder:n("auth.enter_name","Enter your full name"),value:P.name,onChange:V=>Y("name",V.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"signup-phone",children:n("auth.phone","Phone Number")}),e.jsx(ne,{id:"signup-phone",type:"tel",placeholder:n("auth.enter_phone","Enter your phone number"),value:P.phone,onChange:V=>Y("phone",V.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"signup-email",children:n("auth.email","Email")}),e.jsx(ne,{id:"signup-email",type:"email",placeholder:n("auth.enter_email","Enter your email"),value:P.email,onChange:V=>Y("email",V.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"signup-password",children:n("auth.password","Password")}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{id:"signup-password",type:w?"text":"password",placeholder:n("auth.enter_password","Enter your password"),value:P.password,onChange:V=>Y("password",V.target.value),className:"pl-10",required:!0}),e.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!w),children:w?e.jsx(wl,{className:"h-4 w-4"}):e.jsx(ga,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"signup-confirm-password",children:n("auth.confirm_password","Confirm Password")}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{id:"signup-confirm-password",type:N?"text":"password",placeholder:n("auth.confirm_password","Confirm your password"),value:P.confirmPassword,onChange:V=>Y("confirmPassword",V.target.value),className:"pl-10",required:!0}),e.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!N),children:N?e.jsx(wl,{className:"h-4 w-4"}):e.jsx(ga,{className:"h-4 w-4"})})]})]})]}),P.userType==="customer"&&e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-blue-800 flex items-center gap-2",children:[e.jsx(zn,{className:"h-4 w-4"}),n("auth.location_services","Location Services")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"location-consent",checked:P.locationConsent,onCheckedChange:V=>Y("locationConsent",V)}),e.jsx(G,{htmlFor:"location-consent",className:"text-sm",children:n("auth.location_consent","Allow location access")})]}),e.jsx("p",{className:"text-xs text-blue-600",children:n("auth.location_consent_desc","This helps us show you nearby restaurants and provide location-based recommendations.")})]})]}),P.userType==="restaurant_owner"&&e.jsxs("div",{className:"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-green-800 flex items-center gap-2",children:[e.jsx(sx,{className:"h-4 w-4"}),n("auth.restaurant_information","Restaurant Information")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurant-name",children:n("auth.restaurant_name","Restaurant Name")}),e.jsx(ne,{id:"restaurant-name",type:"text",placeholder:n("auth.enter_restaurant_name","Enter restaurant name"),value:P.restaurantName,onChange:V=>Y("restaurantName",V.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurant-phone",children:n("auth.restaurant_phone","Restaurant Phone")}),e.jsx(ne,{id:"restaurant-phone",type:"tel",placeholder:n("auth.enter_restaurant_phone","Enter restaurant phone"),value:P.restaurantPhone,onChange:V=>Y("restaurantPhone",V.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurant-address",children:n("auth.restaurant_address","Restaurant Address")}),e.jsx(ne,{id:"restaurant-address",type:"text",placeholder:n("auth.enter_restaurant_address","Enter restaurant address"),value:P.restaurantAddress,onChange:V=>Y("restaurantAddress",V.target.value),required:!0})]})]}),P.userType==="admin"&&e.jsxs("div",{className:"space-y-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-purple-800 flex items-center gap-2",children:[e.jsx(ph,{className:"h-4 w-4"}),n("auth.admin_verification","Admin Verification")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"admin-code",children:n("auth.admin_code","Admin Code")}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{id:"admin-code",type:"password",placeholder:n("auth.enter_admin_code","Enter admin verification code"),value:P.adminCode||"",onChange:V=>Y("adminCode",V.target.value),className:"pl-10",required:!0})]}),e.jsx("p",{className:"text-xs text-purple-600",children:n("auth.admin_code_desc","Admin code required for system administrator access")})]})]}),e.jsx("div",{className:"space-y-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Mt,{id:"agree-terms",checked:j,onCheckedChange:V=>S(V),required:!0}),e.jsxs(G,{htmlFor:"agree-terms",className:"text-sm",children:[n("auth.agree_to_terms","I agree to the")," ",e.jsx("button",{type:"button",onClick:()=>A(!0),className:"text-blue-600 hover:underline",children:n("auth.terms_of_service","Terms of Service")})," ",n("auth.and","and")," ",e.jsx("button",{type:"button",onClick:()=>k(!0),className:"text-blue-600 hover:underline",children:n("auth.privacy_policy","Privacy Policy")})]})]})}),p&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:p}),e.jsx(Q,{type:"submit",className:"w-full",disabled:m||!j,children:m?n("auth.creating_account","Creating account..."):n("auth.create_account","Create Account")}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:n("auth.or_signup_with","Or sign up with")}),e.jsx(dv,{onSuccess:t,userType:P.userType})]})]})})]})})]})]})}),e.jsx(i0,{isOpen:$,onClose:()=>{T(!1),R(null)},onVerify:oe,onSetupComplete:()=>{},mode:"verify",userEmail:M?.email||""}),e.jsx(PP,{isOpen:C,onClose:()=>k(!1)}),e.jsx(RP,{isOpen:I,onClose:()=>A(!1)})]})},AP=({onMenuClick:s,cartItemCount:t,onCartClick:n,onProfileClick:i,onAdminClick:o,onRoleSwitcherClick:c})=>{const{t:u}=ze(),{userRole:h,isAuthenticated:m,user:f,logout:p,showAuthModal:v,setShowAuthModal:w,isAdmin:_}=Hn();return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Q,{variant:"ghost",size:"sm",onClick:s,className:"md:hidden text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",children:e.jsx(Gk,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/AZ Dining Saku/Navikko2.svg",alt:"Navikko",className:"h-8 w-auto object-contain",onError:N=>{const b=N.target;b.style.display="none"}}),e.jsx("span",{className:"text-xl font-bold text-navikko-secondary hidden sm:block",children:"Navikko"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(UE,{}),e.jsx(Q,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",children:e.jsx(zk,{className:"h-5 w-5"})}),e.jsxs(Q,{variant:"ghost",size:"sm",onClick:n,className:"relative text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",children:[e.jsx(Na,{className:"h-5 w-5"}),t>0&&e.jsx(Fe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-navikko-action border border-white",children:t})]}),m?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{variant:"ghost",size:"sm",onClick:i,className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:`${f?.name||"User"} (${h})`,children:e.jsx(Dr,{className:"h-5 w-5"})}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:p,className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:"Logout",children:e.jsx(ux,{className:"h-5 w-5"})})]}):e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:"Login / Sign Up",children:e.jsx(qk,{className:"h-5 w-5"})}),o&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:o,className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:"Admin Menu Management",children:e.jsx(dx,{className:"h-5 w-5"})}),c&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:`Current Role: ${h} - Click to switch`,children:e.jsx(Mi,{className:"h-5 w-5"})}),_&&e.jsx(Or,{to:"/2fa-debug",children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-colors",title:"2FA Debug Tool",children:e.jsx(Uk,{className:"h-5 w-5"})})})]})]})}),e.jsx(TP,{isOpen:v,onClose:()=>w(!1)})]})},IP=({onNavigate:s,currentSection:t})=>{const{t:n}=ze(),{userRole:i,isRestaurantOwner:o,isAdmin:c,isCustomer:u}=Hn(),h=Vn(),m=dr(),f=[{id:"restaurants",label:n("restaurants"),icon:ms},{id:"cart",label:n("nav.cart"),icon:Na}],p=[{id:"dashboard",label:n("dashboard"),icon:uh},{id:"orders",label:n("orders"),icon:Fn},{id:"menu-management",label:n("menu_management"),icon:Td},{id:"restaurants",label:n("restaurants"),icon:ms},{id:"subscription",label:"Subscription",icon:Oi}],v=[{id:"restaurants",label:n("restaurants"),icon:ms},{id:"restaurant-management",label:n("restaurant_management"),icon:dx},{id:"users",label:n("users"),icon:fs}],_=c?v:o?p:f,b=h.pathname.split("/")[1]||"restaurants",j=S=>{m(`/${S}`),s(S)};return e.jsx("nav",{className:"bg-white border-b border-gray-100 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start gap-1 py-3",children:_.map(S=>{const C=S.icon,k=b===S.id;return e.jsxs(Q,{variant:k?"default":"ghost",className:`flex items-center gap-2 py-2 px-4 text-sm font-medium rounded-lg transition-all duration-200 ${k?"bg-navikko-primary text-white hover:bg-navikko-primary/90 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>j(S.id),children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:S.label})]},S.id)})})})})};function ht(s,t){return s?.[t]||s?.en||s?.ja||Object.values(s||{})[0]||""}const Ot=x.forwardRef(({className:s,...t},n)=>e.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",s),ref:n,...t}));Ot.displayName="Textarea";class OP{stripePublishableKey;constructor(){this.stripePublishableKey="pk_test_51RppCCHXFxgn2NnufvJSiQhdt9pfJxu8GahyrW7AsmWPCJPugnyoC76J4BJ3L3mSeUsB8Xe5OrKRzAo0Pks2fhax00rVNfRq6w",console.log("Stripe Configuration:",{hasKey:!!this.stripePublishableKey,keyLength:this.stripePublishableKey.length,keyPrefix:this.stripePublishableKey.substring(0,10),keyType:typeof this.stripePublishableKey});try{this.stripePublishableKey?console.log("Initializing Stripe with key:",this.stripePublishableKey.substring(0,20)+"..."):console.log("No Stripe key provided, Stripe will not be available")}catch(t){console.error("Error initializing Stripe:",t)}}createSafeUrl(t,n){try{return!t||typeof t!="string"?(console.warn("Invalid baseUrl provided:",t),"https://localhost"+n):new URL(n,t).toString()}catch(i){return console.error("Error creating URL:",{baseUrl:t,path:n,error:i}),"https://localhost"+n}}async createStripeSession(t){try{const n=window.location.origin||"http://localhost:8080";console.log("Payment service - baseUrl:",n);const i=this.createSafeUrl(n,"/api/create-stripe-session");console.log("Payment service - apiUrl:",i);const o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:t.order_id,amount:t.amount,currency:t.currency||"jpy",customer_email:t.customer_email,customer_name:t.customer_name,items:t.items,restaurant_id:t.restaurant_id})});if(!o.ok)throw new Error(`Stripe API error: ${o.statusText}`);const c=await o.json();return{id:c.sessionId,amount:c.amount,currency:c.currency,status:"pending",payment_url:c.url,created_at:new Date().toISOString()}}catch(n){throw console.error("Stripe session creation error:",n),n}}async createPaymentSession(t){return this.stripePublishableKey?this.createStripeSession(t):(console.log("Stripe API key not configured, using mock payment session"),{id:`mock-${Date.now()}`,amount:t.amount,currency:t.currency,status:"pending",payment_url:void 0,created_at:new Date().toISOString()})}async verifyPayment(t){try{const n=window.location.origin||"http://localhost:8080",i=this.createSafeUrl(n,"/api/verify-payment"),o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t,method:"stripe"})});return o.ok?(await o.json()).verified===!0:!1}catch(n){return console.error("Payment verification error:",n),!1}}async handleWebhook(t,n){try{const i=window.location.origin||"http://localhost:8080",o=this.createSafeUrl(i,"/api/webhook");return(await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-Webhook-Signature":n},body:JSON.stringify({payload:t,method:"stripe"})})).ok}catch(i){return console.error("Webhook processing error:",i),!1}}getSupportedPaymentMethods(t){const n=[];return(t.stripe_account_id||this.stripePublishableKey)&&n.push("stripe"),n}getPaymentMethodName(t){switch(t){case"stripe":return"Stripe (Credit Card, Apple Pay, Google Pay)";default:return t}}getStripePublishableKey(){return this.stripePublishableKey}isStripeConfigured(){return!!this.stripePublishableKey&&this.stripePublishableKey!=="pk_test_your_stripe_publishable_key_here"&&this.stripePublishableKey!=="pk_live_your_stripe_publishable_key_here"}}const MP=new OP,DP=({onPaymentMethodAdded:s,onCancel:t})=>{const{t:n}=ze(),[i,o]=x.useState("card"),[c,u]=x.useState(!1),[h,m]=x.useState(null),[f,p]=x.useState(!1),[v,w]=x.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:"",isDefault:!0}),[_,N]=x.useState({phoneNumber:"",isDefault:!0}),b=(U,H)=>{w(P=>({...P,[U]:H}))},j=(U,H)=>{N(P=>({...P,[U]:H}))},S=()=>{if(!v.cardNumber||!v.expiryMonth||!v.expiryYear||!v.cvv||!v.cardholderName)throw new Error("Please fill in all card details");if(v.cardNumber.replace(/\s/g,"").length!==16)throw new Error("Card number must be 16 digits");if(v.cvv.length!==3&&v.cvv.length!==4)throw new Error("CVV must be 3 or 4 digits");const U=new Date().getFullYear();if(parseInt(v.expiryYear)<U)throw new Error("Card has expired")},C=()=>{if(!_.phoneNumber)throw new Error("Please enter your PayPay phone number");if(!/^(\+81|0)[0-9-]{9,}$/.test(_.phoneNumber))throw new Error("Please enter a valid Japanese phone number")},k=async()=>{u(!0),m(null);try{S();const U=await Be.addPaymentMethod({type:"card",last4:v.cardNumber.slice(-4),brand:A(v.cardNumber),isDefault:v.isDefault});s(U)}catch(U){m(U.message||"Failed to add payment method")}finally{u(!1)}},I=async()=>{u(!0),m(null);try{C();const U=await Be.addPaymentMethod({type:"paypay",isDefault:_.isDefault});s(U)}catch(U){m(U.message||"Failed to add payment method")}finally{u(!1)}},A=U=>{const H=U.replace(/\s/g,"");return H.startsWith("4")?"Visa":H.startsWith("5")?"Mastercard":H.startsWith("3")?"American Express":H.startsWith("6")?"Discover":"Unknown"},$=U=>{const H=U.replace(/\s+/g,"").replace(/[^0-9]/gi,""),P=H.match(/\d{4,16}/g),D=P&&P[0]||"",B=[];for(let Y=0,X=D.length;Y<X;Y+=4)B.push(D.substring(Y,Y+4));return B.length?B.join(" "):H},T=Array.from({length:12},(U,H)=>({value:String(H+1).padStart(2,"0"),label:String(H+1).padStart(2,"0")})),M=new Date().getFullYear(),R=Array.from({length:10},(U,H)=>({value:String(M+H),label:String(M+H)}));return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-navikko-secondary mb-2",children:"Add Payment Method"}),e.jsx("p",{className:"text-navikko-secondary",children:"Choose your preferred payment method for seamless ordering"})]}),e.jsx(ce,{children:e.jsxs(de,{className:"pt-6",children:[e.jsxs(Zl,{value:i,onValueChange:U=>o(U),children:[e.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[e.jsxs(or,{value:"card",className:"flex items-center gap-2",children:[e.jsx(Oi,{className:"h-4 w-4"}),"Credit Card"]}),e.jsxs(or,{value:"paypay",className:"flex items-center gap-2",children:[e.jsx(Jk,{className:"h-4 w-4"}),"PayPay"]})]}),e.jsx(lr,{value:"card",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"card-number",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{id:"card-number",type:f?"text":"password",placeholder:"1234 5678 9012 3456",value:v.cardNumber,onChange:U=>b("cardNumber",$(U.target.value)),className:"pr-10",maxLength:19}),e.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!f),children:f?e.jsx(wl,{className:"h-4 w-4"}):e.jsx(ga,{className:"h-4 w-4"})})]}),v.cardNumber&&e.jsxs("p",{className:"text-xs text-gray-600",children:[A(v.cardNumber),"  ",v.cardNumber.slice(-4)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"expiry-month",children:"Expiry Month"}),e.jsxs(ut,{value:v.expiryMonth,onValueChange:U=>b("expiryMonth",U),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:"MM"})}),e.jsx(ot,{children:T.map(U=>e.jsx(Pe,{value:U.value,children:U.label},U.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"expiry-year",children:"Expiry Year"}),e.jsxs(ut,{value:v.expiryYear,onValueChange:U=>b("expiryYear",U),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:"YYYY"})}),e.jsx(ot,{children:R.map(U=>e.jsx(Pe,{value:U.value,children:U.label},U.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"cvv",children:"CVV"}),e.jsx(ne,{id:"cvv",type:"password",placeholder:"123",value:v.cvv,onChange:U=>b("cvv",U.target.value.replace(/\D/g,"")),maxLength:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"cardholder-name",children:"Cardholder Name"}),e.jsx(ne,{id:"cardholder-name",type:"text",placeholder:"John Doe",value:v.cardholderName,onChange:U=>b("cardholderName",U.target.value)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"card-default",checked:v.isDefault,onChange:U=>b("isDefault",U.target.checked.toString()),className:"rounded"}),e.jsx(G,{htmlFor:"card-default",children:"Set as default payment method"})]})]})}),e.jsx(lr,{value:"paypay",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"paypay-phone",children:"PayPay Phone Number"}),e.jsx(ne,{id:"paypay-phone",type:"tel",placeholder:"+81 90-1234-5678",value:_.phoneNumber,onChange:U=>j("phoneNumber",U.target.value)}),e.jsx("p",{className:"text-xs text-gray-600",children:"Enter the phone number associated with your PayPay account"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"paypay-default",checked:_.isDefault,onChange:U=>j("isDefault",U.target.checked.toString()),className:"rounded"}),e.jsx(G,{htmlFor:"paypay-default",children:"Set as default payment method"})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ph,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"PayPay Security"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Your PayPay account is protected by biometric authentication and PIN. No sensitive payment information is stored on our servers."})]})]})})]})})]}),h&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mt-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:h})}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx(Q,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),e.jsx(Q,{onClick:i==="card"?k:I,disabled:c,className:"flex-1 bg-navikko-primary hover:bg-navikko-primary/90",children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dh,{className:"h-4 w-4"}),"Add Payment Method"]})})]})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ma,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Security & Privacy"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"All payment information is encrypted and processed securely. We never store your full card details on our servers."})]})]})},LP=({restaurant:s,menuItems:t,onOrderComplete:n,onClose:i})=>{const{t:o,currentLanguage:c}=ze(),[u,h]=x.useState([]),[m,f]=x.useState({name:"",email:"",phone:"",pickupTime:"",notes:""}),[p,v]=x.useState(!1),[w,_]=x.useState("stripe"),[N,b]=x.useState(!1),[j,S]=x.useState([]);x.useEffect(()=>{const D=Be.getCurrentUser?.();D&&D.paymentMethods&&S(D.paymentMethods)},[]);const C=D=>D.name[c]||D.name.en||Object.values(D.name)[0],k=D=>D.description?D.description[c]||D.description.en||Object.values(D.description)[0]:"",I=D=>{h(B=>B.find(X=>X.id===D.id)?B.map(X=>X.id===D.id?{...X,quantity:X.quantity+1}:X):[...B,{id:D.id,name:C(D),price:D.price,quantity:1,restaurantId:s.id}])},A=D=>{h(B=>B.filter(Y=>Y.id!==D))},$=(D,B)=>{if(B<=0){A(D);return}h(Y=>Y.map(X=>X.id===D?{...X,quantity:B}:X))},T=()=>u.reduce((D,B)=>D+B.price*B.quantity,0),M=()=>{const D=[],Y=new Date().getHours();for(let X=0;X<24;X++){const J=`${((Y+X)%24).toString().padStart(2,"0")}:00`;D.push(J)}return D},R=D=>{S(B=>[...B,D]),b(!1)},U=D=>{if(D.preventDefault(),j.length===0){b(!0);return}H(D)},H=async D=>{if(D.preventDefault(),u.length!==0){v(!0);try{const B=Ne();let Y,X;try{const J=await B.from("orders").insert([{restaurant_id:s.id,customer_name:m.name,customer_email:m.email,customer_phone:m.phone,pickup_time:m.pickupTime,notes:m.notes,total_amount:T(),status:"pending",payment_method:w,items:u.map(Z=>({id:Z.id,name:Z.name,price:Z.price,quantity:Z.quantity}))}]).select().single();Y=J.data,X=J.error}catch{console.log("Supabase not configured, using mock order"),Y={id:`mock-order-${Date.now()}`,restaurant_id:s.id,customer_name:m.name,customer_email:m.email,customer_phone:m.phone,pickup_time:m.pickupTime,notes:m.notes,total_amount:T(),status:"pending",payment_method:w,items:u.map(Z=>({id:Z.id,name:Z.name,price:Z.price,quantity:Z.quantity})),created_at:new Date().toISOString()},X=null}if(X)throw X;const oe=await P(Y.id,T());if(oe.payment_url)window.location.href=oe.payment_url;else{try{await B.from("orders").update({status:"paid"}).eq("id",Y.id)}catch{console.log("Supabase not configured, using mock order status update"),Y.status="paid"}n?.(Y.id,Y)}}catch(B){console.error("Order error:",B)}finally{v(!1)}}},P=async(D,B)=>{try{const Y={order_id:D,restaurant_id:s.id,amount:B,currency:"JPY",customer_email:m.email,customer_name:m.name,items:u.map(oe=>({name:oe.name,price:oe.price,quantity:oe.quantity}))};return await MP.createPaymentSession(Y)}catch(Y){return console.error("Payment session creation error:",Y),null}};return e.jsx("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"h-5 w-5"}),o("order.title","Order & Pay")]})}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:o("menu.title","Menu")}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.filter(D=>D.available).map(D=>e.jsx(ce,{className:"p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:C(D)}),D.spicy&&e.jsx(Fe,{variant:"destructive",className:"text-xs",children:"Spicy"}),D.vegetarian&&e.jsx(Fe,{className:"text-xs bg-green-100 text-green-800",children:"Vegetarian"}),D.glutenFree&&e.jsx(Fe,{className:"text-xs bg-blue-100 text-blue-800",children:"Gluten-Free"})]}),k(D)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k(D)}),e.jsxs("p",{className:"text-lg font-semibold text-navikko-primary mt-2",children:["",D.price.toLocaleString()]})]}),e.jsx(Q,{size:"sm",onClick:()=>I(D),className:"ml-2",children:e.jsx(zr,{className:"h-4 w-4"})})]})},D.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:o("order.summary","Order Summary")}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["",D.price.toLocaleString(),"  ",D.quantity]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:"sm",variant:"outline",onClick:()=>$(D.id,D.quantity-1),children:e.jsx(Kk,{className:"h-3 w-3"})}),e.jsx("span",{className:"w-8 text-center",children:D.quantity}),e.jsx(Q,{size:"sm",variant:"outline",onClick:()=>$(D.id,D.quantity+1),children:e.jsx(zr,{className:"h-3 w-3"})}),e.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>A(D.id),children:e.jsx(Sa,{className:"h-3 w-3"})})]})]},D.id))}),u.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Xr,{}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-semibold",children:[o("order.total","Total"),": ",T().toLocaleString()]})})]}),u.length>0&&e.jsx(e.Fragment,{children:N?e.jsx(DP,{onPaymentMethodAdded:R,onCancel:()=>b(!1)}):e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"name",children:[o("form.name","Name")," *"]}),e.jsx(ne,{id:"name",value:m.name,onChange:D=>f(B=>({...B,name:D.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"email",children:[o("form.email","Email")," *"]}),e.jsx(ne,{id:"email",type:"email",value:m.email,onChange:D=>f(B=>({...B,email:D.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"phone",children:o("form.phone","Phone")}),e.jsx(ne,{id:"phone",value:m.phone,onChange:D=>f(B=>({...B,phone:D.target.value}))})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"pickupTime",children:[o("order.pickupTime","Pickup Time")," *"]}),e.jsxs(ut,{value:m.pickupTime,onValueChange:D=>f(B=>({...B,pickupTime:D})),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:o("order.selectTime","Select pickup time")})}),e.jsx(ot,{children:M().map(D=>e.jsx(Pe,{value:D,children:D},D))})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notes",children:o("order.notes","Special Instructions")}),e.jsx(Ot,{id:"notes",value:m.notes,onChange:D=>f(B=>({...B,notes:D.target.value})),placeholder:o("order.notesPlaceholder","Any special requests or dietary requirements...")})]}),e.jsxs("div",{children:[e.jsx(G,{children:o("order.paymentMethod","Payment Method")}),e.jsx("div",{className:"flex gap-4 mt-2",children:e.jsxs(Q,{type:"button",variant:"default",className:"flex-1",disabled:!0,children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Stripe (Credit Card, Apple Pay, Google Pay)"]})}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Secure payment processing with Stripe. Supports credit cards, Apple Pay, and Google Pay."})]}),e.jsx(Q,{type:"submit",className:"w-full",disabled:p||u.length===0,children:p?e.jsx(e.Fragment,{children:o("order.processing","Processing...")}):e.jsxs(e.Fragment,{children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),o("order.payNow","Pay Now")," - ",T().toLocaleString()]})})]})})]})]})})]})})},FP=({order:s,onClose:t,onDownloadReceipt:n})=>{const{t:i,currentLanguage:o}=ze(),c=m=>new Date(m).toLocaleDateString(o==="ja"?"ja-JP":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=m=>{switch(m){case"paid":return e.jsx(Fe,{className:"bg-green-100 text-green-800",children:"Paid"});case"pending":return e.jsx(Fe,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"cancelled":return e.jsx(Fe,{className:"bg-red-100 text-red-800",children:"Cancelled"});default:return e.jsx(Fe,{children:m})}},h=()=>`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=ORDER-${s.id}`;return e.jsx("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:e.jsxs(ce,{children:[e.jsxs(_e,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Bi,{className:"h-16 w-16 text-green-500"})}),e.jsx(je,{className:"text-2xl text-green-600",children:i("order.confirmation.title","Order Confirmed!")}),e.jsx("p",{className:"text-gray-600",children:i("order.confirmation.subtitle","Your order has been successfully placed and paid for.")})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("order.details","Order Details")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[i("order.orderNumber","Order Number"),":"]}),e.jsx("p",{className:"text-gray-600",children:s.id})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[i("order.date","Order Date"),":"]}),e.jsx("p",{className:"text-gray-600",children:c(s.created_at)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[i("order.status","Status"),":"]}),e.jsx("div",{className:"mt-1",children:u(s.status)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[i("order.paymentMethod","Payment Method"),":"]}),e.jsx("p",{className:"text-gray-600",children:s.payment_method.toUpperCase()})]})]})]}),e.jsx(Xr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("restaurant.info","Restaurant Information")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.restaurant_name||"Restaurant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ur,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:[i("order.pickupTime","Pickup Time"),": ",s.pickup_time]})]})]})]}),e.jsx(Xr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("customer.info","Customer Information")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:[i("form.name","Name"),":"]}),e.jsx("span",{children:s.customer_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(On,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.customer_email})]}),s.customer_phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.customer_phone})]})]})]}),e.jsx(Xr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("order.items","Order Items")}),e.jsx("div",{className:"space-y-2",children:s.items.map((m,f)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["",m.price.toLocaleString(),"  ",m.quantity]})]}),e.jsxs("p",{className:"font-semibold",children:["",(m.price*m.quantity).toLocaleString()]})]},f))}),e.jsx(Xr,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsxs("span",{children:[i("order.total","Total"),":"]}),e.jsxs("span",{children:["",s.total_amount.toLocaleString()]})]})]}),s.notes&&e.jsxs(e.Fragment,{children:[e.jsx(Xr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("order.notes","Special Instructions")}),e.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded",children:s.notes})]})]}),e.jsx(Xr,{}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("order.qrCode","Pickup QR Code")}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:h(),alt:"Order QR Code",className:"border-2 border-gray-200 rounded-lg"})}),e.jsx("p",{className:"text-sm text-gray-600",children:i("order.qrCode.instructions","Show this QR code when picking up your order")})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Q,{onClick:n,variant:"outline",className:"flex-1",children:[e.jsx(ox,{className:"h-4 w-4 mr-2"}),i("order.downloadReceipt","Download Receipt")]}),e.jsx(Q,{onClick:t,className:"flex-1",children:i("order.done","Done")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:i("order.importantNotes","Important Notes")}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:[" ",i("order.notes.pickup","Please arrive at the restaurant at your selected pickup time")]}),e.jsxs("li",{children:[" ",i("order.notes.qrCode","Show the QR code to the staff when picking up")]}),e.jsxs("li",{children:[" ",i("order.notes.contact","Contact the restaurant if you need to modify your order")]}),e.jsxs("li",{children:[" ",i("order.notes.receipt","Keep this confirmation for your records")]})]})]})]})]})})},zP=({restaurant:s,variant:t="default",size:n="default",className:i=""})=>{const{t:o,currentLanguage:c}=ze(),[u,h]=x.useState(!1),[m,f]=x.useState(!1),[p,v]=x.useState(null),[w,_]=x.useState([]),[N,b]=x.useState(!1),[j,S]=x.useState(!1),[C,k]=x.useState(!1),[I,A]=x.useState(null),[$,T]=x.useState([]),[M,R]=x.useState({name:"",email:"",phone:"",pickupTime:"",notes:""}),[U,H]=x.useState("Credit Card"),P=()=>s.name[c]||s.name.en||Object.values(s.name)[0],D=()=>s.komoju_merchant_id||s.payjp_merchant_id,B=async()=>{if(s.menu&&s.menu.length>0){_(s.menu);return}b(!0);try{const Z=Ne();let ee,F;try{const V=await Z.from("menus").select("*").eq("restaurant_id",s.id);ee=V.data,F=V.error}catch{console.log("Supabase not configured, using sample menu"),ee=[],F=null}if(F)throw F;if(ee&&ee.length>0){const V=ee.map(ae=>({id:ae.id,name:ae.item_name_json||{en:ae.item_name,ja:ae.item_name_ja||ae.item_name},description:ae.description_json||{en:ae.description||""},price:ae.price,category:ae.category||"Main",image:ae.photo||void 0,available:ae.available!==!1,spicy:ae.spicy||!1,vegetarian:ae.vegetarian||!1,glutenFree:ae.gluten_free||!1}));_(V)}else _([{id:"sample-1",name:{en:"Sample Dish",ja:"",zh:"",ko:" "},description:{en:"A delicious sample dish",ja:"",zh:"",ko:"  "},price:1e3,category:"Main",available:!0}])}catch(Z){console.error("Error loading menu items:",Z),_([{id:"fallback-1",name:{en:"Menu Available",ja:"",zh:"",ko:" "},description:{en:"Please contact restaurant for menu details",ja:"",zh:"",ko:"   "},price:0,category:"Info",available:!0}])}finally{b(!1)}},Y=()=>{if(!D()){alert(o("order.notAvailable","Online ordering is not available for this restaurant. Please contact them directly."));return}B(),h(!0)},X=(Z,ee)=>{ee?v(ee):oe(Z),h(!1),f(!0)},oe=async Z=>{try{let ee,F;try{const ae=await Ne().from("orders").select("*").eq("id",Z).single();ee=ae.data,F=ae.error}catch{console.log("Supabase not configured, using mock order details");return}if(F)throw F;v(ee)}catch(ee){console.error("Error fetching order details:",ee)}},J=()=>{if(!p)return;const Z=`
      Receipt
      =======
      Order ID: ${p.id}
      Date: ${new Date(p.created_at).toLocaleString()}
      Restaurant: ${P()}
      Customer: ${p.customer_name}
      Email: ${p.customer_email}
      Phone: ${p.customer_phone}
      Pickup Time: ${p.pickup_time}
      
      Items:
      ${p.items.map(ae=>`${ae.name} x${ae.quantity} - ${(ae.price*ae.quantity).toLocaleString()}`).join(`
`)}
      
      Total: ${p.total_amount.toLocaleString()}
      
      Status: ${p.status}
      Payment Method: ${p.payment_method}
    `,ee=new Blob([Z],{type:"text/plain"}),F=URL.createObjectURL(ee),V=document.createElement("a");V.href=F,V.download=`receipt-${p.id}.txt`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(F)};return e.jsxs(e.Fragment,{children:[e.jsxs(qt,{open:u,onOpenChange:h,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{variant:t,size:n,className:i,onClick:Y,disabled:N,children:[e.jsx(Na,{className:"h-4 w-4 mr-2"}),o("order.orderNow","Order Now")]})}),e.jsxs(Dt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ht,{children:e.jsxs(Gt,{className:"flex items-center gap-2",children:[e.jsx(ur,{className:"h-5 w-5"}),o("order.title","Order & Pay")," - ",P()]})}),e.jsx(LP,{restaurant:s,menuItems:w,onOrderComplete:X,onClose:()=>h(!1)})]})]}),e.jsx(qt,{open:m,onOpenChange:f,children:e.jsx(Dt,{className:"max-w-2xl",children:p&&e.jsx(FP,{order:p,onClose:()=>f(!1),onDownloadReceipt:J})})})]})},UP=({restaurant:s,onViewDetails:t})=>{const{t:n,currentLanguage:i}=ze(),[o,c]=x.useState(!1),u=ht(s.name,i)||"Restaurant",h=ht(s.description,i)||"",m=ht(s.address,i)||"Address not available",f=s.opening_hours||s.openHours||"9:00 - 22:00",p=s.phone_number||s.phone||"N/A",v=s.image_url||s.image||"/AZ inside.jpg",w=()=>{c(!0)};return e.jsxs(ce,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 border border-gray-200 bg-white rounded-xl",children:[e.jsxs("div",{className:"relative",children:[o?e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-full mx-auto mb-3 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-2xl",children:""})}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:u})]})}):e.jsx("img",{src:v,alt:u,className:"w-full h-48 object-cover",onError:w}),e.jsx(Fe,{className:`absolute top-3 left-3 px-2 py-1 text-xs font-medium ${s.isOpen?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:s.isOpen?n("open"):n("closed")})]}),e.jsx(de,{className:"p-5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-1 cursor-pointer hover:text-navikko-primary transition-colors",onClick:()=>t(s.id),children:u}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[e.jsx(gh,{className:"h-4 w-4 fill-current"}),e.jsx("span",{className:"text-sm font-semibold",children:s.rating})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:s.cuisine}),e.jsx("span",{className:"text-sm text-gray-500",children:""}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.priceRange})]}),h&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:h}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(zn,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"truncate block",children:m}),e.jsxs("span",{className:"text-gray-500 text-xs",children:[" ",s.distance]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ur,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{children:f})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{children:p})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(Q,{onClick:()=>t(s.id),className:"flex-1 bg-navikko-primary hover:bg-navikko-primary/90 text-white font-medium rounded-lg",size:"sm",children:n("viewMenu")}),e.jsx(zP,{restaurant:s,variant:"outline",size:"sm",className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg"})]})]})})]})},$P=({isOpen:s,onClose:t,restaurants:n,userLocation:i})=>{const{t:o,currentLanguage:c}=ze(),h=(()=>{const v=n.map(k=>k.latitude).filter(Boolean),w=n.map(k=>k.longitude).filter(Boolean);if(i&&(v.push(i.lat),w.push(i.lng)),v.length===0||w.length===0)return{minLat:36.248,maxLat:36.248,minLng:138.248,maxLng:138.248};const _=Math.min(...v),N=Math.max(...v),b=Math.min(...w),j=Math.max(...w),S=(N-_)*.1,C=(j-b)*.1;return{minLat:_-S,maxLat:N+S,minLng:b-C,maxLng:j+C}})(),m=`https://www.openstreetmap.org/export/embed.html?bbox=${h.minLng},${h.minLat},${h.maxLng},${h.maxLat}&layer=mapnik&marker=${i?.lat||h.minLat},${i?.lng||h.minLng}`,f=v=>{if(v.latitude&&v.longitude){const w=ht(v.address,c)||"",_=ht(v.name,c)||"",N=encodeURIComponent(`${_}, ${w}`);window.open(`https://www.google.com/maps/search/?api=1&query=${N}`,"_blank")}},p=v=>{if(v.latitude&&v.longitude&&i){const w=encodeURIComponent(`${v.latitude},${v.longitude}`);window.open(`https://www.google.com/maps/dir/?api=1&destination=${w}`,"_blank")}else{const w=ht(v.address,c)||"",_=ht(v.name,c)||"",N=encodeURIComponent(`${_}, ${w}`);window.open(`https://www.google.com/maps/dir/?api=1&destination=${N}`,"_blank")}};return e.jsx(qt,{open:s,onOpenChange:t,children:e.jsxs(Dt,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[e.jsx(Ht,{children:e.jsxs(Gt,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"h-5 w-5"}),o("search.nearby")," (",n.length,")"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-[70vh]",children:[e.jsxs("div",{className:"relative",children:[e.jsx("iframe",{src:m,width:"100%",height:"100%",style:{border:0,borderRadius:"8px"},loading:"lazy",title:"Restaurant Map"}),i&&e.jsx("div",{className:"absolute top-2 left-2 bg-white px-2 py-1 rounded text-xs shadow",children:" Your location"})]}),e.jsx("div",{className:"overflow-y-auto space-y-3 pr-2",children:n.map(v=>{const w=ht(v.name,c)||"Restaurant",_=ht(v.address,c)||"",N=v.opening_hours||v.openHours||"9:00 - 22:00",b=v.phone_number||v.phone||"N/A";return e.jsx(ce,{className:"hover:shadow-md transition-shadow",children:e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-navikko-secondary",children:w}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gh,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:v.rating})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"h-4 w-4 text-navikko-primary"}),e.jsx("span",{className:"flex-1",children:_}),e.jsx("span",{className:"text-navikko-action font-medium",children:v.distance})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ur,{className:"h-4 w-4 text-navikko-primary"}),e.jsx("span",{children:N})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-navikko-primary"}),e.jsx("span",{children:b})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Q,{onClick:()=>p(v),size:"sm",className:"flex-1 bg-navikko-primary hover:bg-navikko-primary/90 text-white",children:"Directions"}),e.jsx(Q,{onClick:()=>f(v),size:"sm",variant:"outline",className:"flex-1",children:"View on Map"})]})]})},v.id)})})]})]})})},o0=[{id:"az-dining-saku",name:{en:"AZ Dining Saku",ja:"AZ DINING ",zh:"AZ",ko:"AZ  "},description:{en:"Authentic Italian spaghetteria specializing in pasta dishes centered around carbonara, along with cafe menus. Located within Tsudoi no Yakata Kotesanne.",ja:"",zh:"",ko:"     .        .     ."},address:{en:"741 Iwamurata, Saku, Nagano Prefecture 385-0022 (Inside Tsudoi no Yakata Kotesanne)",ja:"385-0022 741 ",zh:"385-0022 741 ",ko:"385-0022    741   "},cuisine:"Italian",rating:4.5,priceRange:"",distance:"0.3 km",image:"/AZ Dining Saku/AZ inside.jpg",openHours:"11:00 - 22:00",phone:"050-5266-1283",isOpen:!0,opening_hours:"11:00-15:00 (L.O 14:30), 17:00-20:00 (L.O 19:30)",phone_number:"050-5266-1283",external_booking_url:"https://www.slow-style.com/restaurants/azdining-saku/",komoju_merchant_id:"your-actual-komoju-merchant-id",payjp_merchant_id:"payjp_test_merchant_456",latitude:36.248,longitude:138.248,menuUrl:"/AZ Dining Saku/AZ menu.jpg",menu:[{id:"az-1",name:{en:"Carbonara",ja:"",zh:"",ko:""},description:{en:"Classic Italian pasta with eggs, cheese, pancetta, and black pepper",ja:"",zh:"",ko:", , ,     "},price:1300,category:"Pasta",image:"/AZ Dining Saku/Carbonara set AZ.jpg",available:!0},{id:"az-2",name:{en:"Spaghetti with Lemon",ja:"",zh:"",ko:" "},description:{en:"Fresh spaghetti with lemon zest, olive oil, and herbs",ja:"",zh:"",ko:" ,  ,    "},price:1200,category:"Pasta",image:"/AZ Dining Saku/Tagliatele AZ.jpg",available:!0},{id:"az-3",name:{en:"Mushroom Pasta",ja:"",zh:"",ko:" "},description:{en:"Pasta with mixed mushrooms in a creamy sauce",ja:"",zh:"",ko:"     "},price:1400,category:"Pasta",image:"/AZ Dining Saku/Tagliatele AZ.jpg",available:!0},{id:"az-4",name:{en:"Seafood Pasta",ja:"",zh:"",ko:" "},description:{en:"Pasta with fresh seafood and rich tomato sauce",ja:"",zh:"",ko:"     "},price:1600,category:"Pasta",image:"/AZ Dining Saku/Tagliatele AZ.jpg",available:!0},{id:"az-5",name:{en:"Set Menu A",ja:"A",zh:"A",ko:"  A"},description:{en:"Pasta of your choice with soup, salad, and dessert",ja:"",zh:"",ko:"  , ,  "},price:1800,category:"Set Menu",image:"/AZ Dining Saku/Carbonara set AZ.jpg",available:!0},{id:"az-6",name:{en:"Set Menu B",ja:"B",zh:"B",ko:"  B"},description:{en:"Premium pasta with soup, salad, dessert, and coffee",ja:"",zh:"",ko:"  , , ,  "},price:2200,category:"Set Menu",image:"/AZ Dining Saku/Carbonara set AZ.jpg",available:!0}]},{id:"sushi-umi",name:{en:"Sushi Dokoro Umi",ja:" ",zh:" ",ko:" "},description:{en:"Premium sushi restaurant specializing in fresh seafood",ja:"",zh:"",ko:"    "},address:{en:"456 Ocean Avenue, Saku City, Nagano",ja:"456",zh:"456",ko:"   456"},cuisine:"Sushi",rating:4.9,priceRange:"",distance:"1.2 km",image:"",openHours:"11:30 - 21:30",phone:"+81-267-123-4568",isOpen:!0,opening_hours:"11:30 - 21:30",phone_number:"+81-267-123-4568",komoju_merchant_id:"your-actual-komoju-merchant-id",payjp_merchant_id:"payjp_test_merchant_012",latitude:36.25,longitude:138.25,menu:[{id:"umi-1",name:{en:"Premium Tuna Sashimi",ja:"",zh:"",ko:" "},description:{en:"Fresh bluefin tuna sashimi with wasabi and soy sauce",ja:"",zh:"",ko:"  ,   "},price:2800,category:"Sashimi",image:"",available:!0},{id:"umi-2",name:{en:"Dragon Roll",ja:"",zh:"",ko:" "},description:{en:"Eel and avocado roll topped with spicy tuna",ja:"",zh:"",ko:"     "},price:1800,category:"Sushi",image:"",available:!0}]},{id:"ramen-ryu",name:{en:"Ramen Ryu",ja:" ",zh:" ",ko:" "},description:{en:"Authentic ramen shop with rich broths and handmade noodles",ja:"",zh:"",ko:"     "},address:{en:"789 Dragon Street, Saku City, Nagano",ja:"789",zh:"789",ko:"   789"},cuisine:"Ramen",rating:4.6,priceRange:"",distance:"0.8 km",image:"",openHours:"11:00 - 23:00",phone:"+81-267-123-4569",isOpen:!0,opening_hours:"11:00 - 23:00",phone_number:"+81-267-123-4569",komoju_merchant_id:"komoju_test_merchant_345",payjp_merchant_id:"payjp_test_merchant_678",latitude:36.246,longitude:138.246,menu:[{id:"ryu-1",name:{en:"Seafood Bowl",ja:"",zh:"",ko:" "},description:{en:"Fresh seafood over rice with wasabi and soy sauce",ja:"",zh:"",ko:"  ,   "},price:1800,category:"Rice Bowl",image:"",available:!0},{id:"ryu-2",name:{en:"Spicy Miso Ramen",ja:"",zh:"",ko:"  "},description:{en:"Spicy miso broth with chashu, corn, and green onions",ja:"",zh:"",ko:"   , , "},price:1200,category:"Ramen",image:"",available:!0,spicy:!0}]}],BP=s=>o0.find(t=>t.id===s),VP=()=>o0;function WP(){const[s,t]=x.useState(null),[n,i]=x.useState(null);return x.useEffect(()=>{if(!navigator.geolocation){i("Geolocation not supported");return}navigator.geolocation.getCurrentPosition(o=>t(o.coords),o=>i(o.message),{enableHighAccuracy:!0,timeout:1e4})},[]),{coords:s,error:n}}const qP=s=>{const{coords:t}=WP(),[n,i]=x.useState([]),o=(u,h,m,f)=>{const v=(m-u)*Math.PI/180,w=(f-h)*Math.PI/180,_=Math.sin(v/2)*Math.sin(v/2)+Math.cos(u*Math.PI/180)*Math.cos(m*Math.PI/180)*Math.sin(w/2)*Math.sin(w/2);return 6371*(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)))},c=u=>u<1?`${Math.round(u*1e3)}m`:u<10?`${u.toFixed(1)}km`:`${Math.round(u)}km`;return x.useEffect(()=>{if(t&&s.length>0){const u=s.map(h=>{let m,f=h.distance;return h.latitude&&h.longitude&&(m=o(t.latitude,t.longitude,h.latitude,h.longitude),f=c(m)),{...h,calculatedDistance:m,distance:f}});i(u)}else i(s)},[t,s]),{restaurantsWithDistance:n,userLocation:t?{lat:t.latitude,lng:t.longitude}:null,hasLocation:!!t}},hv=({onViewDetails:s})=>{const{t,currentLanguage:n}=ze(),[i,o]=x.useState([]),[c,u]=x.useState([]),[h,m]=x.useState(""),[f,p]=x.useState("all"),[v,w]=x.useState("all"),[_,N]=x.useState("name"),[b,j]=x.useState(!0),[S,C]=x.useState(null),[k,I]=x.useState(!1),{restaurantsWithDistance:A,hasLocation:$,userLocation:T}=qP(i);x.useEffect(()=>{try{const P=VP();o(P),u(P),j(!1)}catch(P){console.error("Error loading restaurants:",P),C("Failed to load restaurants"),j(!1)}},[]);const M=x.useCallback(()=>{try{let P=[...A];h&&(P=P.filter(D=>{const B=ht(D.name,n),Y=ht(D.description||{},n),X=ht(D.address||{},n),oe=h.toLowerCase();return B.toLowerCase().includes(oe)||Y.toLowerCase().includes(oe)||X.toLowerCase().includes(oe)||D.cuisine.toLowerCase().includes(oe)})),f&&f!=="all"&&(P=P.filter(D=>D.cuisine===f)),v&&v!=="all"&&(P=P.filter(D=>D.priceRange===v)),P.sort((D,B)=>{switch(_){case"name":{const Y=ht(D.name,n),X=ht(B.name,n);return Y.localeCompare(X)}case"rating":return B.rating-D.rating;case"distance":{const Y=D.calculatedDistance||parseFloat(D.distance.replace(/[^\d.]/g,"")),X=B.calculatedDistance||parseFloat(B.distance.replace(/[^\d.]/g,""));return Y-X}case"price":return D.priceRange.localeCompare(B.priceRange);default:return 0}}),u(P)}catch(P){console.error("Error filtering restaurants:",P),u([])}},[h,f,v,_,A,n]);x.useEffect(()=>{A.length>0&&M()},[A,M]);const R=()=>{const P=A.map(D=>D.cuisine);return[...new Set(P)]},U=()=>{const P=A.map(D=>D.priceRange);return[...new Set(P)]},H=()=>{m(""),p("all"),w("all"),N("name")};return b?e.jsx("div",{className:"space-y-6",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("loading")}),e.jsx("p",{className:"text-gray-600",children:"Loading restaurants..."})]})}):S?e.jsx("div",{className:"space-y-6",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Error"}),e.jsx("p",{className:"text-gray-600",children:S}),e.jsx(Q,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(ce,{className:"p-6 border border-gray-200 bg-white rounded-xl shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{placeholder:t("search.placeholder"),value:h,onChange:P=>m(P.target.value),className:"pl-10 h-11 border-gray-200 focus:border-navikko-primary focus:ring-navikko-primary/20 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs(ut,{value:f,onValueChange:p,children:[e.jsx(it,{className:"h-11 border-gray-200 focus:border-navikko-primary focus:ring-navikko-primary/20 rounded-lg",children:e.jsx(mt,{placeholder:t("filter.cuisine")})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"all",children:t("filter.all_cuisines")}),R().map(P=>e.jsx(Pe,{value:P,children:P},P))]})]}),e.jsxs(ut,{value:v,onValueChange:w,children:[e.jsx(it,{className:"h-11 border-gray-200 focus:border-navikko-primary focus:ring-navikko-primary/20 rounded-lg",children:e.jsx(mt,{placeholder:t("filter.priceRange")})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"all",children:t("filter.all_prices")}),U().map(P=>e.jsx(Pe,{value:P,children:P},P))]})]}),e.jsxs(ut,{value:_,onValueChange:N,children:[e.jsx(it,{className:"h-11 border-gray-200 focus:border-navikko-primary focus:ring-navikko-primary/20 rounded-lg",children:e.jsx(mt,{placeholder:t("filter.sortBy")})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"name",children:t("filter.sortByName")}),e.jsx(Pe,{value:"rating",children:t("filter.sortByRating")}),e.jsx(Pe,{value:"distance",children:t("filter.sortByDistance")}),e.jsx(Pe,{value:"price",children:t("filter.sortByPrice")})]})]}),e.jsxs(Q,{onClick:H,variant:"outline",className:"h-11 border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg",children:[e.jsx(lx,{className:"h-4 w-4 mr-2"}),t("filter.clear")]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t("search.results").replace("{{count}}",c.length.toString())}),$&&e.jsxs("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full font-medium",children:[" ",t("search.from_your_location")]})]}),e.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-navikko-primary transition-colors cursor-pointer font-medium",children:[e.jsx(zn,{className:"h-4 w-4"}),e.jsx("span",{children:t("search.nearby")})]})]}),c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(P=>e.jsx(UP,{restaurant:P,onViewDetails:s},P.id))}):e.jsxs(ce,{className:"p-8 text-center border border-gray-200 bg-white rounded-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(ps,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No restaurants found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(Q,{onClick:H,variant:"outline",className:"border-gray-300",children:"Clear all filters"})]}),e.jsx($P,{isOpen:k,onClose:()=>I(!1),restaurants:c,userLocation:T})]})},Hh=s=>{if(!s||typeof s!="string")return console.warn("isValidUrl: Invalid input:",s),!1;if(s.trim()==="")return console.warn("isValidUrl: Empty URL string"),!1;if(!s.startsWith("http://")&&!s.startsWith("https://"))return console.warn("isValidUrl: URL missing protocol:",s),!1;try{const t=new URL(s),n=["http:","https:"].includes(t.protocol);return n||console.warn("isValidUrl: Invalid protocol:",t.protocol,"for URL:",s),n}catch(t){return console.warn("isValidUrl: Failed to construct URL:",s,"Error:",t),!1}},HP=({restaurant:s,isOpen:t,onClose:n})=>{const{t:i,currentLanguage:o}=ze(),[c,u]=x.useState("form"),[h,m]=x.useState({date:"",time:"",guests:2,name:"",contact:"",notes:""}),f=["11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00"],p=Array.from({length:10},(C,k)=>k+1),v=s.external_booking_url||s.external_booking_url_en,w=o==="en"&&s.external_booking_url_en?s.external_booking_url_en:s.external_booking_url,_=()=>{w&&(Hh(w)?window.open(w,"_blank"):console.warn("Invalid external booking URL:",w))},N=async C=>{C.preventDefault(),u("confirmation")},b=async()=>{try{const{error:C}=await fetch(`${window.location.origin||"http://localhost:8080"}/api/reservations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurant_id:s.id,...h,language:o})});if(C)throw C;await j(),m({date:"",time:"",guests:2,name:"",contact:"",notes:""}),u("form"),n()}catch(C){console.error("Error creating reservation:",C)}},j=async()=>{const C={restaurant_id:s.id,restaurant_name:ht(s.name,o),reservation:h,notification_email:s.notification_email,notification_line_id:s.notification_line_id};await fetch(`${window.location.origin||"http://localhost:8080"}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})},S=()=>{m({date:"",time:"",guests:2,name:"",contact:"",notes:""}),u("form")};return e.jsx(qt,{open:t,onOpenChange:n,children:e.jsxs(Dt,{className:"max-w-md",children:[e.jsx(Ht,{children:e.jsxs(Gt,{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"h-5 w-5"}),i("reservation.title")]})}),v?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"text-center py-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:ht(s.name,o)}),e.jsx("p",{className:"text-gray-600 mb-4",children:i("reservation.external_message")}),e.jsxs(Q,{onClick:_,className:"w-full bg-navikko-primary hover:bg-navikko-primary/90",children:[e.jsx(Bk,{className:"h-4 w-4 mr-2"}),i("reservation.external_button")]})]})}):e.jsx(e.Fragment,{children:c==="form"?e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"date",className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"h-4 w-4"}),i("reservation.date")]}),e.jsx(ne,{id:"date",type:"date",value:h.date,onChange:C=>m({...h,date:C.target.value}),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"time",className:"flex items-center gap-2",children:[e.jsx(ur,{className:"h-4 w-4"}),i("reservation.time")]}),e.jsxs(ut,{value:h.time,onValueChange:C=>m({...h,time:C}),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:i("reservation.select_time")})}),e.jsx(ot,{children:f.map(C=>e.jsx(Pe,{value:C,children:C},C))})]})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"guests",className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),i("reservation.guests")]}),e.jsxs(ut,{value:h.guests.toString(),onValueChange:C=>m({...h,guests:parseInt(C)}),children:[e.jsx(it,{children:e.jsx(mt,{})}),e.jsx(ot,{children:p.map(C=>e.jsxs(Pe,{value:C.toString(),children:[C," ",i(C===1?"reservation.guest":"reservation.guests")]},C))})]})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(Dr,{className:"h-4 w-4"}),i("reservation.name")]}),e.jsx(ne,{id:"name",value:h.name,onChange:C=>m({...h,name:C.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"contact",className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4"}),i("reservation.contact")]}),e.jsx(ne,{id:"contact",value:h.contact,onChange:C=>m({...h,contact:C.target.value}),placeholder:i("reservation.contact_placeholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"notes",className:"flex items-center gap-2",children:[e.jsx(On,{className:"h-4 w-4"}),i("reservation.notes")]}),e.jsx(Ot,{id:"notes",value:h.notes,onChange:C=>m({...h,notes:C.target.value}),placeholder:i("reservation.notes_placeholder"),rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:i("cancel")}),e.jsx(Q,{type:"submit",className:"flex-1 bg-navikko-primary hover:bg-navikko-primary/90",children:i("reservation.submit")})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i("reservation.confirm_title")}),e.jsx("p",{className:"text-gray-600",children:i("reservation.confirm_message")})]}),e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{className:"text-base",children:ht(s.name,o)})}),e.jsxs(de,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.date"),":"]}),e.jsx("span",{children:h.date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.time"),":"]}),e.jsx("span",{children:h.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.guests"),":"]}),e.jsx("span",{children:h.guests})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.name"),":"]}),e.jsx("span",{children:h.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.contact"),":"]}),e.jsx("span",{children:h.contact})]}),h.notes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[i("reservation.notes"),":"]}),e.jsx("span",{children:h.notes})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{variant:"outline",onClick:S,className:"flex-1",children:i("reservation.edit")}),e.jsx(Q,{onClick:b,className:"flex-1 bg-navikko-primary hover:bg-navikko-primary/90",children:i("reservation.confirm")})]})]})})]})})},GP=({restaurant:s,variant:t="default",size:n="default",className:i=""})=>{const{t:o,currentLanguage:c}=ze(),[u,h]=x.useState(!1),m=s.external_booking_url||s.external_booking_url_en,f=c==="en"&&s.external_booking_url_en?s.external_booking_url_en:s.external_booking_url,p=()=>{m&&f?Hh(f)?window.open(f,"_blank"):(console.warn("Invalid external booking URL:",f),h(!0)):h(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClick:p,variant:t,size:n,className:`${m?"bg-green-600 hover:bg-green-700":"bg-navikko-primary hover:bg-navikko-primary/90"} ${i}`,children:e.jsxs(e.Fragment,{children:[e.jsx(Fn,{className:"h-4 w-4 mr-2"}),o("reserve")||"Reserve Table"]})}),!m&&e.jsx(HP,{restaurant:s,isOpen:u,onClose:()=>h(!1)})]})},KP=({className:s="",alt:t="Image placeholder",size:n="md"})=>{const i={sm:"w-16 h-16",md:"w-20 h-20",lg:"w-32 h-32"};return e.jsx("div",{className:`${i[n]} ${s} bg-gray-200 rounded flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-400 rounded-full mx-auto mb-1 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm",children:""})}),e.jsx("p",{className:"text-xs text-gray-500",children:t})]})})},ki=(s,t)=>!s||typeof s!="object"?s:ht(s,t),JP=({restaurantId:s,onBack:t})=>{const{t:n,currentLanguage:i}=ze(),[o,c]=x.useState(null),[u,h]=x.useState(!0),[m,f]=x.useState(!1);x.useEffect(()=>{p()},[s]);const p=async()=>{try{h(!0);const A=BP(s);A?c(A):console.error("Restaurant not found:",s)}catch(A){console.error("Error fetching restaurant:",A)}finally{h(!1)}},v=A=>{if(!A)return;let $=A;A.startsWith("/")&&($=window.location.origin+A),Hh($)?window.open($,"_blank"):console.warn("Invalid menu URL:",A)};if(u)return e.jsx("div",{className:"text-center py-8",children:n("loading")});if(!o)return e.jsx("div",{className:"text-center py-8",children:n("error")});const w=i,_=ki(o.name,w)||"Restaurant",N=ki(o.description,w)||"",b=ki(o.address,w)||"Address not available",j=o.opening_hours||o.openHours||"9:00 - 22:00",S=o.phone_number||o.phone||"N/A",C=()=>o.image_url||o.image||"/AZ inside.jpg",k=A=>ki(A.name,w),I=A=>ki(A.description,w);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Q,{onClick:t,variant:"outline",className:"mb-4 border-navikko-primary text-navikko-primary hover:bg-navikko-primary hover:text-white",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),n("back")]}),o.menu&&o.menu.length>0&&e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(je,{className:"text-2xl text-navikko-secondary",children:[_," - ",n("menu")]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gh,{className:"h-5 w-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-navikko-secondary font-medium",children:o.rating})]})]})}),e.jsx(de,{children:e.jsx("div",{className:"grid gap-4",children:o.menu.map(A=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[A.image?e.jsx("img",{src:A.image,alt:k(A),className:"w-20 h-20 object-cover rounded",onError:$=>{const T=$.target;T.style.display="none"}}):e.jsx(KP,{size:"md",alt:k(A),className:"w-20 h-20"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:k(A)}),e.jsxs("span",{className:"font-bold text-lg text-navikko-primary",children:["",A.price]})]}),A.description&&e.jsx("p",{className:"text-gray-600 mb-2",children:I(A)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fe,{variant:"outline",children:A.category}),A.spicy&&e.jsxs(Fe,{variant:"outline",className:"text-red-600",children:[e.jsx(mh,{className:"h-3 w-3 mr-1"}),"Spicy"]}),A.vegetarian&&e.jsxs(Fe,{variant:"outline",className:"text-green-600",children:[e.jsx(fh,{className:"h-3 w-3 mr-1"}),"Vegetarian"]}),A.glutenFree&&e.jsxs(Fe,{variant:"outline",className:"text-blue-600",children:[e.jsx(vh,{className:"h-3 w-3 mr-1"}),"Gluten Free"]}),!A.available&&e.jsx(Fe,{variant:"outline",className:"text-gray-500",children:"Unavailable"})]})]})]},A.id))})})]}),o.menuUrl&&e.jsxs(ce,{children:[e.jsxs(_e,{children:[e.jsx(je,{className:"text-xl text-navikko-secondary",children:n("originalMenu")}),e.jsx(en,{className:"text-sm text-gray-600",children:"Click the image to view in full size"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:o.menuUrl,alt:`${_} Menu`,className:"w-full max-w-4xl rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow",style:{maxHeight:"80vh",objectFit:"contain",imageRendering:"-webkit-optimize-contrast"},onClick:()=>f(!0),onError:A=>{const $=A.target;$.style.display="none"}}),e.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Hk,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"If the menu image is unclear, please contact the restaurant directly."}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>v(o.menuUrl||""),className:"text-navikko-primary border-navikko-primary hover:bg-navikko-primary hover:text-white",children:"Open Menu in New Tab"})]})]})]}),m&&o.menuUrl&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-2",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[e.jsx(Q,{onClick:()=>v(o.menuUrl||""),variant:"outline",size:"sm",className:"bg-white hover:bg-gray-100",children:"Open in New Tab"}),e.jsx(Q,{onClick:()=>f(!1),variant:"outline",size:"sm",className:"bg-white hover:bg-gray-100",children:e.jsx(xh,{className:"h-4 w-4"})})]}),e.jsx("img",{src:o.menuUrl,alt:`${_} Menu`,className:"max-w-none max-h-none w-auto h-auto object-contain rounded-lg",style:{imageRendering:"-webkit-optimize-contrast",maxWidth:"95vw",maxHeight:"95vh"}})]})}),e.jsx(ce,{children:e.jsx(de,{className:"pt-6",children:e.jsx(GP,{restaurant:o,className:"w-full"})})}),e.jsxs(ce,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:C(),alt:_,className:"w-full h-full object-cover",onError:A=>{const $=A.target;$.style.display="none"}}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(Fe,{className:"bg-navikko-primary text-white",children:o.cuisine})})]}),e.jsxs(_e,{children:[e.jsxs(je,{className:"text-xl text-navikko-secondary",children:[n("about")," ",_]}),N&&e.jsx(en,{className:"text-base",children:N})]}),e.jsx(de,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-navikko-secondary",children:[e.jsx(zn,{className:"h-5 w-5"}),e.jsx("span",{className:"truncate",children:b})]}),e.jsxs("div",{className:"flex items-center gap-2 text-navikko-secondary",children:[e.jsx(ur,{className:"h-5 w-5"}),e.jsx("span",{className:"truncate",children:j})]}),e.jsxs("div",{className:"flex items-center gap-2 text-navikko-secondary",children:[e.jsx(tn,{className:"h-5 w-5"}),e.jsx("span",{className:"truncate",children:S})]}),e.jsxs("div",{className:"flex items-center gap-2 text-navikko-secondary",children:[e.jsx("span",{className:"font-medium",children:o.priceRange}),e.jsxs("span",{children:[" ",o.distance]})]})]})})]})]})};var Xl="Switch",[QP,dT]=sn(Xl),[YP,ZP]=QP(Xl),l0=x.forwardRef((s,t)=>{const{__scopeSwitch:n,name:i,checked:o,defaultChecked:c,required:u,disabled:h,value:m="on",onCheckedChange:f,form:p,...v}=s,[w,_]=x.useState(null),N=Ge(t,k=>_(k)),b=x.useRef(!1),j=w?p||!!w.closest("form"):!0,[S,C]=Ln({prop:o,defaultProp:c??!1,onChange:f,caller:Xl});return e.jsxs(YP,{scope:n,checked:S,disabled:h,children:[e.jsx(Se.button,{type:"button",role:"switch","aria-checked":S,"aria-required":u,"data-state":h0(S),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:N,onClick:ke(s.onClick,k=>{C(I=>!I),j&&(b.current=k.isPropagationStopped(),b.current||k.stopPropagation())})}),j&&e.jsx(d0,{control:w,bubbles:!b.current,name:i,value:m,checked:S,required:u,disabled:h,form:p,style:{transform:"translateX(-100%)"}})]})});l0.displayName=Xl;var c0="SwitchThumb",u0=x.forwardRef((s,t)=>{const{__scopeSwitch:n,...i}=s,o=ZP(c0,n);return e.jsx(Se.span,{"data-state":h0(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});u0.displayName=c0;var XP="SwitchBubbleInput",d0=x.forwardRef(({__scopeSwitch:s,control:t,checked:n,bubbles:i=!0,...o},c)=>{const u=x.useRef(null),h=Ge(u,c),m=Lh(n),f=Oh(t);return x.useEffect(()=>{const p=u.current;if(!p)return;const v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&_){const N=new Event("click",{bubbles:i});_.call(p,n),p.dispatchEvent(N)}},[m,n,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:h,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});d0.displayName=XP;function h0(s){return s?"checked":"unchecked"}var m0=l0,eR=u0;const f0=x.forwardRef(({className:s,...t},n)=>e.jsx(m0,{className:Re("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:n,children:e.jsx(eR,{className:Re("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-md ring-0 transition-transform duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0.5 data-[state=checked]:bg-white")})}));f0.displayName=m0.displayName;const tR=()=>{const{t:s,currentLanguage:t}=ze(),n=t!=="ja",[i,o]=x.useState([]),[c,u]=x.useState(!0),[h,m]=x.useState(null),[f,p]=x.useState({name:"",name_en:"",name_ja:"",name_romaji:"",name_zh:"",name_ko:"",address:"",address_en:"",address_ja:"",address_romaji:"",address_zh:"",address_ko:"",description:"",description_en:"",description_ja:"",description_romaji:"",description_zh:"",description_ko:"",phone:"",cuisine:"",rating:0,price_range:"$",latitude:0,longitude:0,is_active:!0,image_url:"",opening_hours:"",external_booking_url:"",notification_email:""}),[v,w]=x.useState(!1),[_,N]=x.useState(!1),b=["Japanese","Italian","Chinese","Korean","French","Thai","Indian","American","Cafe","Izakaya"];x.useEffect(()=>{(async()=>{try{const I=Ne(),{data:A,error:$}=await I.from("restaurants").select("*").order("created_at",{ascending:!1});$?console.error("Error fetching restaurants:",$):o(A||[])}catch(I){console.error("Error fetching restaurants:",I)}finally{u(!1)}})()},[]);const j=async k=>{k.preventDefault(),N(!0);try{const I=Ne();if(h){const{error:T}=await I.from("restaurants").update(f).eq("id",h);if(T)throw T}else{const{error:T}=await I.from("restaurants").insert([f]);if(T)throw T}const{data:A,error:$}=await I.from("restaurants").select("*").order("created_at",{ascending:!1});if($)throw $;o(A||[]),p({}),m(null)}catch(I){console.error("Error saving restaurant:",I)}finally{N(!1)}},S=k=>{p(k),m(k.id)},C=async k=>{if(confirm(s("confirm.delete")))try{const I=Ne(),{error:A}=await I.from("restaurants").delete().eq("id",k);if(A)throw A;const{data:$,error:T}=await I.from("restaurants").select("*").order("created_at",{ascending:!1});if(T)throw T;o($||[])}catch(I){console.error("Error deleting restaurant:",I)}};return c?e.jsx("div",{className:"p-8 text-center",children:s("loading")}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s("restaurant_management")}),e.jsxs(Q,{onClick:()=>{p({}),m(null)},children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),s("restaurant.add")]})]}),e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:s(h?"restaurant.edit":"restaurant.add")})}),e.jsx(de,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s("restaurant.names")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"name_ja",children:[s("restaurant.name_japanese")," *"]}),e.jsx(ne,{id:"name_ja",value:f.name_ja||"",onChange:k=>{const I={name_ja:k.target.value,name:k.target.value};t==="zh"&&(I.name_zh=k.target.value),p({...f,...I})},required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"name_romaji",children:[s("restaurant.name_romaji")," *"]}),e.jsx(ne,{id:"name_romaji",value:f.name_romaji||"",onChange:k=>p({...f,name_romaji:k.target.value}),placeholder:"Romaji/English transliteration",required:!0})]}),n&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name_en",children:s("restaurant.name_english")}),e.jsx(ne,{id:"name_en",value:f.name_en||"",onChange:k=>p({...f,name_en:k.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"cuisine",children:s("restaurant.cuisine_type")}),e.jsxs(ut,{value:f.cuisine||"",onValueChange:k=>p({...f,cuisine:k}),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:s("restaurant.select_cuisine")})}),e.jsx(ot,{children:b.map(k=>e.jsx(Pe,{value:k,children:k},k))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s("restaurant.addresses")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"address_ja",children:[s("restaurant.address_japanese")," *"]}),e.jsx(ne,{id:"address_ja",value:f.address_ja||"",onChange:k=>{const I={address_ja:k.target.value,address:k.target.value};t==="zh"&&(I.address_zh=k.target.value),p({...f,...I})},required:!0})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"address_romaji",children:[s("restaurant.address_romaji")," *"]}),e.jsx(ne,{id:"address_romaji",value:f.address_romaji||"",onChange:k=>p({...f,address_romaji:k.target.value}),placeholder:"Romaji/English transliteration",required:!0})]}),n&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"address_en",children:s("restaurant.address_english")}),e.jsx(ne,{id:"address_en",value:f.address_en||"",onChange:k=>p({...f,address_en:k.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"phone",children:s("restaurant.phone_number")}),e.jsx(ne,{id:"phone",value:f.phone||"",onChange:k=>p({...f,phone:k.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s("restaurant.descriptions")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_ja",children:s("restaurant.description_japanese")}),e.jsx(Ot,{id:"description_ja",value:f.description_ja||"",onChange:k=>{const I={description_ja:k.target.value,description:k.target.value};t==="zh"&&(I.description_zh=k.target.value),p({...f,...I})}})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_romaji",children:s("restaurant.description_romaji")}),e.jsx(Ot,{id:"description_romaji",value:f.description_romaji||"",onChange:k=>p({...f,description_romaji:k.target.value}),placeholder:"Romaji/English transliteration"})]}),n&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_en",children:s("restaurant.description_english")}),e.jsx(Ot,{id:"description_en",value:f.description_en||"",onChange:k=>p({...f,description_en:k.target.value})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image_url",children:s("restaurant.image_url")}),e.jsx(ne,{id:"image_url",value:f.image_url||"",onChange:k=>p({...f,image_url:k.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"opening_hours",children:s("restaurant.opening_hours")}),e.jsx(ne,{id:"opening_hours",value:f.opening_hours||"",onChange:k=>p({...f,opening_hours:k.target.value}),placeholder:s("restaurant.opening_hours_placeholder")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"rating",children:s("restaurant.rating")}),e.jsx(ne,{id:"rating",type:"number",step:"0.1",min:"0",max:"5",value:f.rating||"",onChange:k=>p({...f,rating:parseFloat(k.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"price_range",children:s("restaurant.price_range")}),e.jsxs(ut,{value:f.price_range||"$",onValueChange:k=>p({...f,price_range:k}),children:[e.jsx(it,{children:e.jsx(mt,{})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"$",children:s("restaurant.price_budget")}),e.jsx(Pe,{value:"$$",children:s("restaurant.price_moderate")}),e.jsx(Pe,{value:"$$$",children:s("restaurant.price_expensive")}),e.jsx(Pe,{value:"$$$$",children:s("restaurant.price_very_expensive")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"latitude",children:s("restaurant.latitude")}),e.jsx(ne,{id:"latitude",type:"number",step:"0.000001",value:f.latitude||"",onChange:k=>p({...f,latitude:parseFloat(k.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"longitude",children:s("restaurant.longitude")}),e.jsx(ne,{id:"longitude",type:"number",step:"0.000001",value:f.longitude||"",onChange:k=>p({...f,longitude:parseFloat(k.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"external_booking_url",children:s("restaurant.external_booking_url")}),e.jsx(ne,{id:"external_booking_url",value:f.external_booking_url||"",onChange:k=>p({...f,external_booking_url:k.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notification_email",children:s("restaurant.notification_email")}),e.jsx(ne,{id:"notification_email",type:"email",value:f.notification_email||"",onChange:k=>p({...f,notification_email:k.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f0,{id:"is_active",checked:f.is_active!==!1,onCheckedChange:k=>p({...f,is_active:k})}),e.jsx(G,{htmlFor:"is_active",children:s("restaurant.active_restaurant")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{type:"submit",children:s(h?"button.update":"button.create")}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>{p({}),m(null)},children:s("button.cancel")})]})]})})]}),e.jsx("div",{className:"grid gap-4",children:i.map(k=>e.jsx(ce,{children:e.jsx(de,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:k.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),e.jsxs("div",{className:"mt-2 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[s("restaurant.cuisine"),":"]})," ",k.cuisine]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("address"),":"]})," ",k.address]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("phone"),":"]})," ",k.phone]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("restaurant.rating"),":"]})," ",k.rating||s("n/a")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("restaurant.price_range"),":"]})," ",k.price_range||s("n/a")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("restaurant.status"),":"]})," ",k.is_active?s("restaurant.active"):s("restaurant.inactive")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{size:"sm",variant:"default",onClick:()=>window.location.href=`/restaurant/${k.id}/dashboard`,className:"bg-navikko-primary hover:bg-navikko-primary/90",children:s("restaurant.manage")}),e.jsx(Q,{size:"sm",variant:"outline",onClick:()=>S(k),children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>C(k.id),children:e.jsx(Sa,{className:"h-4 w-4"})})]})]})})},k.id))})]})},rR=()=>{const{t:s,currentLanguage:t}=ze(),[n,i]=x.useState([]),[o,c]=x.useState([]),[u,h]=x.useState(!1),[m,f]=x.useState(null),[p,v]=x.useState("all"),[w,_]=x.useState({restaurant_id:"",name_en:"",name_ja:"",name_zh:"",name_ko:"",description_en:"",description_ja:"",description_zh:"",description_ko:"",price:0,category:"",image:"",available:!0,spicy:!1,vegetarian:!1,glutenFree:!1});x.useEffect(()=>{N(),b()},[]);const N=async()=>{try{const R=Ne(),{data:U,error:H}=await R.from("menu_items").select(`
          *,
          restaurants!inner(
            id,
            name,
            name_en,
            name_ja,
            name_zh,
            name_ko
          )
        `).order("created_at",{ascending:!1});if(H){console.error("Error fetching menu items:",H),Ve({title:"Error",description:"Failed to load menu items",variant:"destructive"});return}const P=(U||[]).map(D=>({...D,restaurantId:D.restaurant_id,restaurantName:{en:D.restaurants.name_en||D.restaurants.name,ja:D.restaurants.name_ja||D.restaurants.name,zh:D.restaurants.name_zh||D.restaurants.name,ko:D.restaurants.name_ko||D.restaurants.name}}));i(P)}catch(R){console.error("Error fetching menu items:",R),Ve({title:"Error",description:"Failed to load menu items",variant:"destructive"})}},b=async()=>{try{const R=Ne(),{data:U,error:H}=await R.from("restaurants").select("id, name, name_en, name_ja, name_zh, name_ko").eq("is_active",!0).order("name");if(H){console.error("Error fetching restaurants:",H);return}c(U||[])}catch(R){console.error("Error fetching restaurants:",R)}},j=p==="all"?n:n.filter(R=>R.restaurantId===p),S=async R=>{R.preventDefault();try{const U=Ne(),H={restaurant_id:w.restaurant_id,name_en:w.name_en,name_ja:w.name_ja||null,name_zh:w.name_zh||null,name_ko:w.name_ko||null,description_en:w.description_en||null,description_ja:w.description_ja||null,description_zh:w.description_zh||null,description_ko:w.description_ko||null,price:w.price,category:w.category,image_url:w.image||null,is_available:w.available,is_spicy:w.spicy,is_vegetarian:w.vegetarian,is_gluten_free:w.glutenFree};if(m){const{error:P}=await U.from("menu_items").update(H).eq("id",m.id);if(P){console.error("Error updating menu item:",P),Ve({title:"Error",description:"Failed to update menu item",variant:"destructive"});return}}else{const{error:P}=await U.from("menu_items").insert([H]);if(P){console.error("Error creating menu item:",P),Ve({title:"Error",description:"Failed to create menu item",variant:"destructive"});return}}await N(),C(),Ve({title:"Success",description:m?"Menu item updated successfully":"Menu item created successfully"})}catch(U){console.error("Error saving menu item:",U),Ve({title:"Error",description:"Failed to save menu item",variant:"destructive"})}},C=()=>{_({restaurant_id:"",name_en:"",name_ja:"",name_zh:"",name_ko:"",description_en:"",description_ja:"",description_zh:"",description_ko:"",price:0,category:"",image:"",available:!0,spicy:!1,vegetarian:!1,glutenFree:!1}),f(null),h(!1)},k=R=>{f(R),_({restaurant_id:R.restaurantId,name_en:R.name_en||"",name_ja:R.name_ja||"",name_zh:R.name_zh||"",name_ko:R.name_ko||"",description_en:R.description_en||"",description_ja:R.description_ja||"",description_zh:R.description_zh||"",description_ko:R.description_ko||"",price:R.price,category:R.category,image:R.image_url||"",available:R.is_available,spicy:R.is_spicy||!1,vegetarian:R.is_vegetarian||!1,glutenFree:R.is_gluten_free||!1}),h(!0)},I=async R=>{if(confirm(s("confirm.delete")))try{const U=Ne(),{error:H}=await U.from("menu_items").delete().eq("id",R);if(H){console.error("Error deleting menu item:",H),Ve({title:"Error",description:"Failed to delete menu item",variant:"destructive"});return}await N(),Ve({title:"Success",description:"Menu item deleted successfully"})}catch(U){console.error("Error deleting menu item:",U),Ve({title:"Error",description:"Failed to delete menu item",variant:"destructive"})}},A=(R,U)=>typeof R=="string"?R:ht(R,U),$=R=>{const U={en:R.name_en,ja:R.name_ja||R.name_en,zh:R.name_zh||R.name_en,ko:R.name_ko||R.name_en};return A(U,t)},T=R=>{const U={en:R.description_en||"",ja:R.description_ja||R.description_en||"",zh:R.description_zh||R.description_en||"",ko:R.description_ko||R.description_en||""};return A(U,t)},M=R=>A(R,t);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>window.history.back(),className:"text-navikko-primary hover:bg-navikko-primary/10",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold",children:s("nav.menus")})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lx,{className:"h-4 w-4 text-navikko-primary"}),e.jsxs(ut,{value:p,onValueChange:v,children:[e.jsx(it,{className:"w-48",children:e.jsx(mt,{placeholder:"Filter by restaurant"})}),e.jsxs(ot,{children:[e.jsxs(Pe,{value:"all",children:["All Restaurants (",n?.length||0," items)"]}),o?.map(R=>{const U=n?.filter(H=>H.restaurantId===R.id)?.length||0;return e.jsxs(Pe,{value:R.id,children:[A({en:R.name_en||R.name,ja:R.name_ja||R.name,zh:R.name_zh||R.name,ko:R.name_ko||R.name},t)," (",U," items)"]},R.id)})]})]})]})}),e.jsxs(qt,{open:u,onOpenChange:h,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{onClick:()=>C(),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),s("button.add")]})}),e.jsxs(Dt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ht,{children:e.jsxs(Gt,{children:[s(m?"button.edit":"button.add")," ",s("nav.menus")]})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurant_id",children:s("form.restaurant")}),e.jsxs(ut,{value:w.restaurant_id,onValueChange:R=>_({...w,restaurant_id:R}),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:s("form.selectRestaurant")})}),e.jsx(ot,{children:o.map(R=>e.jsx(Pe,{value:R.id,children:A({en:R.name_en||R.name,ja:R.name_ja||R.name,zh:R.name_zh||R.name,ko:R.name_ko||R.name},t)},R.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name_en",children:"Name (English)"}),e.jsx(ne,{id:"name_en",value:w.name_en,onChange:R=>_({...w,name_en:R.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name_ja",children:"Name (Japanese)"}),e.jsx(ne,{id:"name_ja",value:w.name_ja,onChange:R=>_({...w,name_ja:R.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name_zh",children:"Name (Chinese)"}),e.jsx(ne,{id:"name_zh",value:w.name_zh,onChange:R=>_({...w,name_zh:R.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name_ko",children:"Name (Korean)"}),e.jsx(ne,{id:"name_ko",value:w.name_ko,onChange:R=>_({...w,name_ko:R.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_en",children:"Description (English)"}),e.jsx(ne,{id:"description_en",value:w.description_en,onChange:R=>_({...w,description_en:R.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_ja",children:"Description (Japanese)"}),e.jsx(ne,{id:"description_ja",value:w.description_ja,onChange:R=>_({...w,description_ja:R.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_zh",children:"Description (Chinese)"}),e.jsx(ne,{id:"description_zh",value:w.description_zh,onChange:R=>_({...w,description_zh:R.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description_ko",children:"Description (Korean)"}),e.jsx(ne,{id:"description_ko",value:w.description_ko,onChange:R=>_({...w,description_ko:R.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"price",children:s("form.price")}),e.jsx(ne,{id:"price",type:"number",step:"0.01",value:w.price,onChange:R=>_({...w,price:parseFloat(R.target.value)}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"category",children:"Category"}),e.jsx(ne,{id:"category",value:w.category,onChange:R=>_({...w,category:R.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image",children:"Image URL"}),e.jsx(ne,{id:"image",value:w.image,onChange:R=>_({...w,image:R.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"available",checked:w.available,onCheckedChange:R=>_({...w,available:!!R})}),e.jsx(G,{htmlFor:"available",children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"spicy",checked:w.spicy,onCheckedChange:R=>_({...w,spicy:!!R})}),e.jsx(G,{htmlFor:"spicy",children:"Spicy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"vegetarian",checked:w.vegetarian,onCheckedChange:R=>_({...w,vegetarian:!!R})}),e.jsx(G,{htmlFor:"vegetarian",children:"Vegetarian"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"glutenFree",checked:w.glutenFree,onCheckedChange:R=>_({...w,glutenFree:!!R})}),e.jsx(G,{htmlFor:"glutenFree",children:"Gluten Free"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{type:"submit",className:"flex-1",children:s(m?"button.update":"button.create")}),e.jsx(Q,{type:"button",variant:"outline",onClick:C,children:s("button.cancel")})]})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-navikko-secondary",children:"Menu Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-2xl font-bold text-navikko-primary",children:n?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Menu Items"})]}),o?.map(R=>{const U=n?.filter(H=>H.restaurantId===R.id)?.length||0;return e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-lg font-semibold text-navikko-secondary",children:A({en:R.name_en||R.name,ja:R.name_ja||R.name,zh:R.name_zh||R.name,ko:R.name_ko||R.name},t)}),e.jsx("div",{className:"text-2xl font-bold text-navikko-primary",children:U}),e.jsx("div",{className:"text-sm text-gray-600",children:"Menu Items"})]},R.id)})]})]}),e.jsx("div",{className:"grid gap-4",children:j?.map(R=>e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:$(R)}),e.jsx("div",{className:"text-sm text-gray-600",children:M(R.restaurantName)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>k(R),children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I(R.id),children:e.jsx(Sa,{className:"h-4 w-4"})})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[R.image_url&&e.jsx("img",{src:R.image_url,alt:$(R),className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-lg",children:["",R.price]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:T(R)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fe,{variant:"outline",children:R.category}),R.is_spicy&&e.jsxs(Fe,{variant:"outline",className:"text-red-600",children:[e.jsx(mh,{className:"h-3 w-3 mr-1"}),"Spicy"]}),R.is_vegetarian&&e.jsxs(Fe,{variant:"outline",className:"text-green-600",children:[e.jsx(fh,{className:"h-3 w-3 mr-1"}),"Vegetarian"]}),R.is_gluten_free&&e.jsxs(Fe,{variant:"outline",className:"text-blue-600",children:[e.jsx(vh,{className:"h-3 w-3 mr-1"}),"Gluten Free"]}),!R.is_available&&e.jsx(Fe,{variant:"outline",className:"text-gray-500",children:"Unavailable"})]})]})]})})]},R.id))})]})},nR=(s,t)=>!s||typeof s!="object"?s:s[t]||s["en"]||Object.values(s)[0]||"",sR=()=>{const{t:s,currentLanguage:t}=ze(),[n,i]=x.useState([]),[o,c]=x.useState([]),[u,h]=x.useState(!1),[m,f]=x.useState(null),[p,v]=x.useState({restaurant_id:"",name:"",date:"",comment:""});x.useEffect(()=>{(async()=>{try{const k=Ne(),{data:I,error:A}=await k.from("reservations").select(`
            *,
            restaurants(name, address, phone),
            users(name, email, phone)
          `).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});A?console.error("Error fetching reservations:",A):i(I||[])}catch(k){console.error("Error fetching reservations:",k)}})()},[]);const w=async C=>{if(C.preventDefault(),m){const{error:k}=await Ne().from("reservations").update(p).eq("id",m.id);k?console.error("Error updating reservation:",k):(fetchReservations(),_())}else{const{error:k}=await Ne().from("reservations").insert([p]);k?console.error("Error creating reservation:",k):(fetchReservations(),_())}},_=()=>{v({restaurant_id:"",name:"",date:"",comment:""}),f(null),h(!1)},N=C=>{f(C),v({restaurant_id:C.restaurant_id,name:C.name,date:C.date.slice(0,16),comment:C.comment}),h(!0)},b=async C=>{if(confirm(s("confirm.delete"))){const{error:k}=await Ne().from("reservations").delete().eq("id",C);k?console.error("Error deleting reservation:",k):fetchReservations()}},j=C=>{const k=o.find(I=>I.id===C);return k?k.name_json?nR(k.name_json,t):t==="ja"?k.name_ja:k.name_en:""},S=C=>{const k=t==="ja"?"ja-JP":"en-US";return new Date(C).toLocaleString(k)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s("nav.reservations")}),e.jsxs(qt,{open:u,onOpenChange:h,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{onClick:()=>_(),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),s("button.add")]})}),e.jsxs(Dt,{className:"max-w-md",children:[e.jsx(Ht,{children:e.jsxs(Gt,{children:[s(m?"button.edit":"button.add")," ",s("reservation")]})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurant_id",children:s("form.restaurant")}),e.jsxs(ut,{value:p.restaurant_id,onValueChange:C=>v({...p,restaurant_id:C}),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:s("form.selectRestaurant")})}),e.jsx(ot,{children:o.map(C=>e.jsx(Pe,{value:C.id,children:j(C.id)},C.id))})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name",children:s("reservation.name")}),e.jsx(ne,{id:"name",value:p.name,onChange:C=>v({...p,name:C.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"date",children:s("reservation.date")}),e.jsx(ne,{id:"date",type:"datetime-local",value:p.date,onChange:C=>v({...p,date:C.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"comment",children:s("reservation.notes")}),e.jsx(Ot,{id:"comment",value:p.comment,onChange:C=>v({...p,comment:C.target.value}),rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:_,className:"flex-1",children:s("button.cancel")}),e.jsx(Q,{type:"submit",className:"flex-1",children:s(m?"button.update":"button.create")})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:n.map(C=>e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"h-5 w-5"}),C.name]}),e.jsx("p",{className:"text-sm text-gray-600",children:j(C.restaurant_id)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>N(C),children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>b(C.id),children:e.jsx(Sa,{className:"h-4 w-4"})})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[s("reservation.date"),": "]}),S(C.date)]}),C.comment&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[s("reservation.notes"),": "]}),C.comment]})]})})]},C.id))})]})},aR=()=>{const{t:s}=ze(),[t,n]=x.useState(!1),[i,o]=x.useState(!1),[c,u]=x.useState(null),[h,m]=x.useState({ownerName:"",ownerEmail:"",ownerPhone:"",ownerLanguage:"en",restaurantName:{en:"",ja:"",zh:"",ko:""},restaurantDescription:{en:"",ja:"",zh:"",ko:""},cuisine:"",priceRange:"",rating:4,address:{en:"",ja:"",zh:"",ko:""},latitude:0,longitude:0,phone:"",openingHours:"",website:"",instagram:"",facebook:"",twitter:"",externalBookingUrl:"",notificationEmail:"",notificationLineId:"",restaurantImage:null,menuImage:null,menuItems:[]}),f=["Italian","Japanese","Chinese","Korean","Thai","Indian","French","Mexican","American","Mediterranean","Vietnamese","Spanish","Greek","Turkish","Lebanese","Moroccan","Brazilian","Peruvian","Other"],p=["","","",""],v=["Appetizer","Main Course","Dessert","Beverage","Soup","Salad","Pasta","Pizza","Sushi","Ramen","Curry","Grill","Seafood","Vegetarian","Set Menu","Special","Other"],w=[{code:"en",name:"English"},{code:"ja",name:""},{code:"ko",name:""},{code:"zh",name:""}],_=(T,M)=>{m(R=>({...R,[T]:M}))},N=(T,M,R)=>{m(U=>({...U,[T]:{...U[T],[M]:R}}))},b=(T,M)=>{m(R=>({...R,[T]:M}))},j=()=>{const T={id:`item-${Date.now()}`,name:{en:"",ja:"",zh:"",ko:""},description:{en:"",ja:"",zh:"",ko:""},price:0,category:"",image:null,available:!0,spicy:!1,vegetarian:!1,glutenFree:!1};m(M=>({...M,menuItems:[...M.menuItems,T]}))},S=(T,M,R)=>{m(U=>({...U,menuItems:U.menuItems.map((H,P)=>P===T?{...H,[M]:R}:H)}))},C=(T,M,R,U)=>{m(H=>({...H,menuItems:H.menuItems.map((P,D)=>D===T?{...P,[M]:{...P[M],[R]:U}}:P)}))},k=T=>{m(M=>({...M,menuItems:M.menuItems.filter((R,U)=>U!==T)}))},I=async()=>{if(!h.website){alert("Please enter a website URL first");return}o(!0);try{const T=await fetch(`${window.location.origin||"http://localhost:8080"}/api/scrape-restaurant`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:h.website})});if(T.ok){const M=await T.json();u(M),M.name&&_("restaurantName",M.name),M.description&&_("restaurantDescription",M.description),M.address&&_("address",M.address),M.phone&&_("phone",M.phone),M.openingHours&&_("openingHours",M.openingHours)}}catch(T){console.error("Error scraping website:",T),alert("Failed to scrape website. Please enter information manually.")}finally{o(!1)}},A=async T=>{const M=h[T];if(!M){alert(`Please enter a ${T} URL first`);return}o(!0);try{const R=await fetch(`${window.location.origin||"http://localhost:8080"}/api/scrape-social`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:T,url:M})});if(R.ok){const U=await R.json();u(U),U.description&&_("restaurantDescription",U.description),U.images&&console.log("Scraped images:",U.images)}}catch(R){console.error(`Error scraping ${T}:`,R),alert(`Failed to scrape ${T}. Please enter information manually.`)}finally{o(!1)}},$=async T=>{T.preventDefault();try{const M=new FormData;if(Object.entries(h).forEach(([U,H])=>{H instanceof File?M.append(U,H):typeof H=="object"&&H!==null?M.append(U,JSON.stringify(H)):M.append(U,String(H))}),(await fetch(`${window.location.origin||"http://localhost:8080"}/api/register-restaurant`,{method:"POST",body:M})).ok)alert("Restaurant registered successfully!"),n(!1),m({ownerName:"",ownerEmail:"",ownerPhone:"",ownerLanguage:"en",restaurantName:{en:"",ja:"",zh:"",ko:""},restaurantDescription:{en:"",ja:"",zh:"",ko:""},cuisine:"",priceRange:"",rating:4,address:{en:"",ja:"",zh:"",ko:""},latitude:0,longitude:0,phone:"",openingHours:"",website:"",instagram:"",facebook:"",twitter:"",externalBookingUrl:"",notificationEmail:"",notificationLineId:"",restaurantImage:null,menuImage:null,menuItems:[]});else throw new Error("Registration failed")}catch(M){console.error("Error registering restaurant:",M),alert("Failed to register restaurant. Please try again.")}};return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s("auth.restaurant_owner_registration")}),e.jsxs(qt,{open:t,onOpenChange:n,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{onClick:()=>n(!0),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),s("auth.register_restaurant")]})}),e.jsxs(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ht,{children:e.jsx(Gt,{children:s("auth.register_your_restaurant")})}),e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs(Zl,{defaultValue:"owner",className:"w-full",children:[e.jsxs(Ki,{className:"grid w-full grid-cols-5",children:[e.jsx(or,{value:"owner",children:"Owner Info"}),e.jsx(or,{value:"basic",children:"Basic Info"}),e.jsx(or,{value:"location",children:"Location"}),e.jsx(or,{value:"online",children:"Online"}),e.jsx(or,{value:"menu",children:"Menu"})]}),e.jsx(lr,{value:"owner",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:"Owner Information"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ownerName",children:"Owner Name *"}),e.jsx(ne,{id:"ownerName",value:h.ownerName,onChange:T=>_("ownerName",T.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ownerEmail",children:"Email *"}),e.jsx(ne,{id:"ownerEmail",type:"email",value:h.ownerEmail,onChange:T=>_("ownerEmail",T.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ownerPhone",children:"Phone"}),e.jsx(ne,{id:"ownerPhone",value:h.ownerPhone,onChange:T=>_("ownerPhone",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ownerLanguage",children:"Preferred Language"}),e.jsxs(ut,{value:h.ownerLanguage,onValueChange:T=>_("ownerLanguage",T),children:[e.jsx(it,{children:e.jsx(mt,{})}),e.jsx(ot,{children:w.map(T=>e.jsx(Pe,{value:T.code,children:T.name},T.code))})]})]})]})]})]})}),e.jsx(lr,{value:"basic",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:"Restaurant Basic Information"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Restaurant Name (Multilingual) *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"nameEn",className:"text-sm",children:"English"}),e.jsx(ne,{id:"nameEn",value:h.restaurantName.en,onChange:T=>N("restaurantName","en",T.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"nameJa",className:"text-sm",children:""}),e.jsx(ne,{id:"nameJa",value:h.restaurantName.ja,onChange:T=>N("restaurantName","ja",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"nameZh",className:"text-sm",children:""}),e.jsx(ne,{id:"nameZh",value:h.restaurantName.zh,onChange:T=>N("restaurantName","zh",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"nameKo",className:"text-sm",children:""}),e.jsx(ne,{id:"nameKo",value:h.restaurantName.ko,onChange:T=>N("restaurantName","ko",T.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Description (Multilingual)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"descEn",className:"text-sm",children:"English"}),e.jsx(Ot,{id:"descEn",value:h.restaurantDescription.en,onChange:T=>N("restaurantDescription","en",T.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"descJa",className:"text-sm",children:""}),e.jsx(Ot,{id:"descJa",value:h.restaurantDescription.ja,onChange:T=>N("restaurantDescription","ja",T.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"descZh",className:"text-sm",children:""}),e.jsx(Ot,{id:"descZh",value:h.restaurantDescription.zh,onChange:T=>N("restaurantDescription","zh",T.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"descKo",className:"text-sm",children:""}),e.jsx(Ot,{id:"descKo",value:h.restaurantDescription.ko,onChange:T=>N("restaurantDescription","ko",T.target.value),rows:3})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"cuisine",children:"Cuisine Type *"}),e.jsxs(ut,{value:h.cuisine,onValueChange:T=>_("cuisine",T),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:"Select cuisine"})}),e.jsx(ot,{children:f.map(T=>e.jsx(Pe,{value:T,children:T},T))})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"priceRange",children:"Price Range"}),e.jsxs(ut,{value:h.priceRange,onValueChange:T=>_("priceRange",T),children:[e.jsx(it,{children:e.jsx(mt,{})}),e.jsx(ot,{children:p.map(T=>e.jsx(Pe,{value:T,children:T},T))})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"rating",children:"Rating"}),e.jsx(ne,{id:"rating",type:"number",min:"0",max:"5",step:"0.1",value:h.rating,onChange:T=>_("rating",parseFloat(T.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"restaurantImage",children:"Restaurant Image"}),e.jsx(ne,{id:"restaurantImage",type:"file",accept:"image/*",onChange:T=>b("restaurantImage",T.target.files?.[0]||null)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"menuImage",children:"Menu Image"}),e.jsx(ne,{id:"menuImage",type:"file",accept:"image/*",onChange:T=>b("menuImage",T.target.files?.[0]||null)})]})]})]})]})}),e.jsx(lr,{value:"location",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:"Location & Contact Information"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Address (Multilingual)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"addrEn",className:"text-sm",children:"English"}),e.jsx(ne,{id:"addrEn",value:h.address.en,onChange:T=>N("address","en",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"addrJa",className:"text-sm",children:""}),e.jsx(ne,{id:"addrJa",value:h.address.ja,onChange:T=>N("address","ja",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"addrZh",className:"text-sm",children:""}),e.jsx(ne,{id:"addrZh",value:h.address.zh,onChange:T=>N("address","zh",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"addrKo",className:"text-sm",children:""}),e.jsx(ne,{id:"addrKo",value:h.address.ko,onChange:T=>N("address","ko",T.target.value)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"latitude",children:"Latitude"}),e.jsx(ne,{id:"latitude",type:"number",step:"any",value:h.latitude,onChange:T=>_("latitude",parseFloat(T.target.value))})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"longitude",children:"Longitude"}),e.jsx(ne,{id:"longitude",type:"number",step:"any",value:h.longitude,onChange:T=>_("longitude",parseFloat(T.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"phone",children:"Phone Number"}),e.jsx(ne,{id:"phone",value:h.phone,onChange:T=>_("phone",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"openingHours",children:"Opening Hours"}),e.jsx(ne,{id:"openingHours",placeholder:"e.g., 11:00-22:00",value:h.openingHours,onChange:T=>_("openingHours",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"externalBookingUrl",children:"External Booking URL"}),e.jsx(ne,{id:"externalBookingUrl",type:"url",placeholder:"https://...",value:h.externalBookingUrl,onChange:T=>_("externalBookingUrl",T.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notificationEmail",children:"Notification Email"}),e.jsx(ne,{id:"notificationEmail",type:"email",value:h.notificationEmail,onChange:T=>_("notificationEmail",T.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notificationLineId",children:"LINE ID (for notifications)"}),e.jsx(ne,{id:"notificationLineId",value:h.notificationLineId,onChange:T=>_("notificationLineId",T.target.value)})]})]})]})}),e.jsx(lr,{value:"online",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:"Online Presence & Web Scraping"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"website",children:"Website URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{id:"website",type:"url",placeholder:"https://...",value:h.website,onChange:T=>_("website",T.target.value)}),e.jsx(Q,{type:"button",variant:"outline",onClick:I,disabled:i,children:i?e.jsx(ha,{className:"h-4 w-4 animate-spin"}):e.jsx(ps,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"instagram",children:"Instagram URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{id:"instagram",type:"url",placeholder:"https://instagram.com/...",value:h.instagram,onChange:T=>_("instagram",T.target.value)}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>A("instagram"),disabled:i,children:i?e.jsx(ha,{className:"h-4 w-4 animate-spin"}):e.jsx(Wk,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"facebook",children:"Facebook URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{id:"facebook",type:"url",placeholder:"https://facebook.com/...",value:h.facebook,onChange:T=>_("facebook",T.target.value)}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>A("facebook"),disabled:i,children:i?e.jsx(ha,{className:"h-4 w-4 animate-spin"}):e.jsx(Vk,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"twitter",children:"Twitter/X URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{id:"twitter",type:"url",placeholder:"https://twitter.com/...",value:h.twitter,onChange:T=>_("twitter",T.target.value)}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>A("twitter"),disabled:i,children:i?e.jsx(ha,{className:"h-4 w-4 animate-spin"}):e.jsx(Yk,{className:"h-4 w-4"})})]})]})]}),c&&e.jsxs(ce,{className:"bg-green-50 border-green-200",children:[e.jsx(_e,{children:e.jsx(je,{className:"text-green-800",children:"Scraped Data"})}),e.jsx(de,{children:e.jsx("pre",{className:"text-sm text-green-700 overflow-auto",children:JSON.stringify(c,null,2)})})]})]})]})}),e.jsx(lr,{value:"menu",className:"space-y-4",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(je,{children:"Menu Items"}),e.jsxs(Q,{type:"button",onClick:j,children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add Menu Item"]})]})}),e.jsxs(de,{className:"space-y-4",children:[h.menuItems.map((T,M)=>e.jsxs(ce,{className:"border-2",children:[e.jsx(_e,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(je,{className:"text-lg",children:["Menu Item ",M+1]}),e.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>k(M),children:"Remove"})]})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Item Name (Multilingual)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:"English"}),e.jsx(ne,{value:T.name.en,onChange:R=>C(M,"name","en",R.target.value),placeholder:"Item name in English"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(ne,{value:T.name.ja,onChange:R=>C(M,"name","ja",R.target.value),placeholder:"Item name in Japanese"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(ne,{value:T.name.zh,onChange:R=>C(M,"name","zh",R.target.value),placeholder:"Item name in Chinese"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(ne,{value:T.name.ko,onChange:R=>C(M,"name","ko",R.target.value),placeholder:"Item name in Korean"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Description (Multilingual)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:"English"}),e.jsx(Ot,{value:T.description.en,onChange:R=>C(M,"description","en",R.target.value),rows:2,placeholder:"Description in English"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(Ot,{value:T.description.ja,onChange:R=>C(M,"description","ja",R.target.value),rows:2,placeholder:"Description in Japanese"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(Ot,{value:T.description.zh,onChange:R=>C(M,"description","zh",R.target.value),rows:2,placeholder:"Description in Chinese"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm",children:""}),e.jsx(Ot,{value:T.description.ko,onChange:R=>C(M,"description","ko",R.target.value),rows:2,placeholder:"Description in Korean"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Price ()"}),e.jsx(ne,{type:"number",value:T.price,onChange:R=>S(M,"price",parseInt(R.target.value))})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Category"}),e.jsxs(ut,{value:T.category,onValueChange:R=>S(M,"category",R),children:[e.jsx(it,{children:e.jsx(mt,{placeholder:"Select category"})}),e.jsx(ot,{children:v.map(R=>e.jsx(Pe,{value:R,children:R},R))})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Item Image"}),e.jsx(ne,{type:"file",accept:"image/*",onChange:R=>S(M,"image",R.target.files?.[0]||null)})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:`available-${T.id}-${M}`,checked:T.available,onCheckedChange:R=>S(M,"available",R)}),e.jsx(G,{htmlFor:`available-${T.id}-${M}`,children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:`spicy-${T.id}-${M}`,checked:T.spicy,onCheckedChange:R=>S(M,"spicy",R)}),e.jsx(G,{htmlFor:`spicy-${T.id}-${M}`,children:"Spicy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:`vegetarian-${T.id}-${M}`,checked:T.vegetarian,onCheckedChange:R=>S(M,"vegetarian",R)}),e.jsx(G,{htmlFor:`vegetarian-${T.id}-${M}`,children:"Vegetarian"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:`glutenFree-${T.id}-${M}`,checked:T.glutenFree,onCheckedChange:R=>S(M,"glutenFree",R)}),e.jsx(G,{htmlFor:`glutenFree-${T.id}-${M}`,children:"Gluten Free"})]})]})]})]},T.id)),h.menuItems.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:'No menu items added yet. Click "Add Menu Item" to get started.'})]})]})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1",children:s("auth.register_restaurant")})]})]})]})]})]})})},iR=()=>{const{t:s}=ze(),[t,n]=x.useState([]),[i,o]=x.useState(!1),[c,u]=x.useState(null),[h,m]=x.useState({name:"",email:"",language:"en"}),f=[{code:"en",name:"English"},{code:"ja",name:""},{code:"ko",name:""},{code:"zh",name:""},{code:"es",name:"Espaol"},{code:"th",name:""},{code:"ms",name:"Bahasa Melayu"},{code:"id",name:"Bahasa Indonesia"},{code:"pl",name:"Polski"}];x.useEffect(()=>{p(),v()},[]);const p=async()=>{console.log(" UserManagement: Creating user_profiles table if not exists...");const S=Ne(),{error:C}=await S.rpc("exec_sql",{sql:`
        CREATE TABLE IF NOT EXISTS user_profiles (
          id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
          name TEXT NOT NULL,
          email TEXT UNIQUE NOT NULL,
          language TEXT DEFAULT 'en',
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );
      `});C?console.error(" Error creating user_profiles table:",C):console.log(" user_profiles table created/verified successfully")},v=async()=>{console.log(" UserManagement: Fetching users from database...");const S=Ne(),{data:C,error:k}=await S.from("user_profiles").select("*").order("created_at",{ascending:!1});k?console.error(" Error fetching users:",k):(console.log(" Users fetched successfully:",C?.length||0,"users found"),n(C||[]))},w=async S=>{if(S.preventDefault(),c){const C=Ne(),{error:k}=await C.from("user_profiles").update({...h,updated_at:new Date().toISOString()}).eq("id",c.id);k?console.error("Error updating user:",k):(v(),_())}else{const C=Ne(),{error:k}=await C.from("user_profiles").insert([h]);k?console.error("Error creating user:",k):(v(),_())}},_=()=>{m({name:"",email:"",language:"en"}),u(null),o(!1)},N=S=>{u(S),m({name:S.name,email:S.email,language:S.language}),o(!0)},b=async S=>{if(confirm(s("confirm.delete"))){const C=Ne(),{error:k}=await C.from("user_profiles").delete().eq("id",S);k?console.error("Error deleting user:",k):v()}},j=S=>{const C=f.find(k=>k.code===S);return C?C.name:S};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s("nav.users")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(qt,{open:i,onOpenChange:o,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{onClick:()=>_(),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),s("button.add")]})}),e.jsxs(Dt,{className:"max-w-md",children:[e.jsx(Ht,{children:e.jsxs(Gt,{children:[s(c?"button.edit":"button.add")," ",s("nav.users")]})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name",children:s("form.name")}),e.jsx(ne,{id:"name",value:h.name,onChange:S=>m({...h,name:S.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"email",children:s("form.email")}),e.jsx(ne,{id:"email",type:"email",value:h.email,onChange:S=>m({...h,email:S.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"language",children:s("form.language")}),e.jsxs(ut,{value:h.language,onValueChange:S=>m({...h,language:S}),children:[e.jsx(it,{children:e.jsx(mt,{})}),e.jsx(ot,{children:f.map(S=>e.jsx(Pe,{value:S.code,children:S.name},S.code))})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:_,className:"flex-1",children:s("button.cancel")}),e.jsx(Q,{type:"submit",className:"flex-1",children:s(c?"button.update":"button.create")})]})]})]})]}),e.jsx(aR,{})]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsx(ce,{children:e.jsxs(de,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Dr,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Get started by adding your first user profile to the system."}),e.jsxs(Q,{onClick:()=>o(!0),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add First User"]})]})}):t.map(S=>e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Dr,{className:"h-5 w-5"}),S.name]}),e.jsx("p",{className:"text-sm text-gray-600",children:S.email})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>N(S),children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>b(S.id),children:e.jsx(Sa,{className:"h-4 w-4"})})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{children:["Language: ",j(S.language)]}),e.jsxs("span",{children:["Created: ",new Date(S.created_at).toLocaleDateString()]})]})})]},S.id))})]})},oR=()=>{const{t:s}=ze(),t=dr(),[n,i]=x.useState({totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,averageOrderValue:0,customerCount:0}),[o,c]=x.useState([]),[u,h]=x.useState(!0);x.useEffect(()=>{setTimeout(()=>{i({totalOrders:156,pendingOrders:8,completedOrders:148,totalRevenue:234500,averageOrderValue:1503,customerCount:89}),c([{id:"order-001",customerName:"",items:"Carbonara x1,  x1",total:2500,status:"pending",time:"14:30"},{id:"order-002",customerName:"John Smith",items:"Set Menu A x2",total:3600,status:"completed",time:"13:15"},{id:"order-003",customerName:"",items:"Seafood Pasta x1",total:1600,status:"pending",time:"12:45"}]),h(!1)},1e3)},[]);const m=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=p=>{switch(p){case"pending":return"Pending";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return p}};return u?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-navikko-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-navikko-secondary mb-2",children:s("dashboard.title","")}),e.jsx("p",{className:"text-gray-600",children:s("dashboard.welcome","")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:s("dashboard.total_orders","")}),e.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.totalOrders}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("dashboard.orders_growth","+12%")})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:s("dashboard.pending_orders","")}),e.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.pendingOrders}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("dashboard.need_attention","")})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:s("dashboard.total_revenue","")}),e.jsx(ix,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",n.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("dashboard.revenue_growth","+8%")})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:s("dashboard.customers","")}),e.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.customerCount}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("dashboard.new_customers","+5")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"h-5 w-5"}),s("dashboard.recent_orders","")]})}),e.jsxs(de,{children:[e.jsx("div",{className:"space-y-3",children:o.slice(0,3).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:p.customerName}),e.jsx("p",{className:"text-xs text-gray-600",children:p.items})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-sm",children:["",p.total]}),e.jsx(Fe,{className:`text-xs ${m(p.status)}`,children:s(`dashboard.status.${p.status}`,f(p.status))})]})]},p.id))}),e.jsx(Q,{variant:"outline",className:"w-full mt-4",onClick:()=>t("/orders"),children:s("dashboard.view_all_orders","")})]})]}),e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(uh,{className:"h-5 w-5"}),s("dashboard.performance","")]})}),e.jsxs(de,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s("dashboard.average_order_value","")}),e.jsxs("span",{className:"font-medium",children:["",n.averageOrderValue]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s("dashboard.completion_rate","")}),e.jsxs("span",{className:"font-medium text-green-600",children:[Math.round(n.completedOrders/n.totalOrders*100),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s("dashboard.pending_orders","")}),e.jsx("span",{className:"font-medium text-yellow-600",children:n.pendingOrders})]})]}),e.jsx(Q,{variant:"outline",className:"w-full mt-4",onClick:()=>t("/menu-management"),children:s("dashboard.manage_menu","")})]})]}),e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(ax,{className:"h-5 w-5"}),s("dashboard.alerts","")]})}),e.jsxs(de,{children:[e.jsxs("div",{className:"space-y-3",children:[n.pendingOrders>0&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:s("dashboard.orders_pending_count",`${n.pendingOrders}`).replace("{count}",n.pendingOrders.toString())}),e.jsx("p",{className:"text-xs text-yellow-600",children:s("dashboard.review_process_orders","")})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:s("dashboard.menu_update_available","")}),e.jsx("p",{className:"text-xs text-blue-600",children:s("dashboard.add_seasonal_items","")})]})]}),e.jsx(Q,{variant:"outline",className:"w-full mt-4",onClick:()=>t("/restaurants"),children:s("dashboard.view_restaurant","")})]})]})]})]})},lR=()=>{const{t:s}=ze(),[t,n]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(""),[h,m]=x.useState("all"),[f,p]=x.useState(!0);x.useEffect(()=>{v()},[]);const v=async()=>{try{const S=Ne(),{data:C,error:k}=await S.from("orders").select(`
          *,
          restaurants!inner(
            name,
            name_en,
            name_ja,
            name_zh,
            name_ko
          )
        `).order("created_at",{ascending:!1});if(k){console.error("Error fetching orders:",k),Ve({title:"Error",description:"Failed to load orders",variant:"destructive"});return}const I=(C||[]).map(A=>({id:A.id,customerName:A.customer_name,customerEmail:A.customer_email,customerPhone:A.customer_phone||"",items:A.items||[],totalAmount:A.total_amount,status:A.status,pickupTime:A.pickup_time||"",orderTime:new Date(A.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),notes:A.notes||""}));n(I),o(I),p(!1)}catch(S){console.error("Error fetching orders:",S),Ve({title:"Error",description:"Failed to load orders",variant:"destructive"}),p(!1)}},w=x.useCallback(()=>{let S=t;c&&(S=S.filter(C=>C.customerName.toLowerCase().includes(c.toLowerCase())||C.id.toLowerCase().includes(c.toLowerCase()))),h!=="all"&&(S=S.filter(C=>C.status===h)),o(S)},[c,h,t]);x.useEffect(()=>{w()},[w]);const _=async(S,C)=>{try{const k=Ne(),{error:I}=await k.from("orders").update({status:C}).eq("id",S);if(I){console.error("Error updating order status:",I),Ve({title:"Error",description:"Failed to update order status",variant:"destructive"});return}n(A=>A.map($=>$.id===S?{...$,status:C}:$)),Ve({title:"Success",description:`Order status updated to ${C}`})}catch(k){console.error("Error updating order status:",k),Ve({title:"Error",description:"Failed to update order status",variant:"destructive"})}},N=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=S=>{switch(S){case"pending":return"Pending";case"preparing":return"Preparing";case"ready":return"Ready";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return S}},j=S=>{switch(S){case"pending":return"preparing";case"preparing":return"ready";case"ready":return"completed";default:return null}};return f?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-navikko-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-navikko-secondary mb-2",children:"Orders Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track incoming orders from customers."})]}),e.jsx(ce,{className:"mb-6",children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{placeholder:"Search by customer name or order ID...",value:c,onChange:S=>u(S.target.value),className:"pl-10"})]})}),e.jsxs(ut,{value:h,onValueChange:m,children:[e.jsx(it,{className:"w-full md:w-48",children:e.jsx(mt,{placeholder:"Filter by status"})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"all",children:"All Status"}),e.jsx(Pe,{value:"pending",children:"Pending"}),e.jsx(Pe,{value:"preparing",children:"Preparing"}),e.jsx(Pe,{value:"ready",children:"Ready"}),e.jsx(Pe,{value:"completed",children:"Completed"}),e.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:i.length>0?i.map(S=>e.jsx(ce,{className:"hover:shadow-md transition-shadow",children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:S.customerName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",S.id]})]}),e.jsx(Fe,{className:N(S.status),children:b(S.status)})]}),e.jsxs("div",{className:"mb-3",children:[S.items.map((C,k)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[C.name," x",C.quantity]}),e.jsxs("span",{children:["",C.price.toLocaleString()]})]},k)),e.jsx("div",{className:"border-t mt-2 pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",S.totalAmount.toLocaleString()]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tn,{className:"h-3 w-3"}),e.jsx("span",{children:S.customerPhone})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(On,{className:"h-3 w-3"}),e.jsx("span",{children:S.customerEmail})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ur,{className:"h-3 w-3"}),e.jsxs("span",{children:["Order: ",S.orderTime]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ur,{className:"h-3 w-3"}),e.jsxs("span",{children:["Pickup: ",S.pickupTime]})]})]}),S.notes&&e.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[e.jsx("strong",{children:"Notes:"})," ",S.notes]})]}),e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-shrink-0",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),"View Details"]}),j(S.status)&&e.jsxs(Q,{size:"sm",onClick:()=>_(S.id,j(S.status)),className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-4 w-4"}),"Mark as ",j(S.status)]}),S.status==="pending"&&e.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>_(S.id,"cancelled"),className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"h-4 w-4"}),"Cancel Order"]})]})]})})},S.id)):e.jsx(ce,{children:e.jsx(de,{className:"pt-6 text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(ps,{className:"h-12 w-12 mx-auto text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:c||h!=="all"?"Try adjusting your search criteria":"No orders have been placed yet"})]})})})})]})},cR=()=>{const{restaurantId:s}=Dl(),t=dr(),{t:n,currentLanguage:i}=ze(),[o,c]=x.useState(null),[u,h]=x.useState({totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,averageOrderValue:0,customerCount:0,menuItemsCount:0}),[m,f]=x.useState(!0);x.useEffect(()=>{s&&(p(),v())},[s]);const p=async()=>{try{const _=Ne(),{data:N,error:b}=await _.from("restaurants").select("*").eq("id",s).single();if(b){console.error("Error fetching restaurant:",b),Ve({title:"Error",description:"Failed to load restaurant data",variant:"destructive"});return}c(N)}catch(_){console.error("Error fetching restaurant:",_)}},v=async()=>{try{const _=Ne(),{data:N,error:b}=await _.from("orders").select("*").eq("restaurant_id",s);b&&console.error("Error fetching orders:",b);const{data:j,error:S}=await _.from("menu_items").select("*").eq("restaurant_id",s);S&&console.error("Error fetching menu items:",S);const C=N?.length||0,k=N?.filter(M=>M.status==="pending")?.length||0,I=N?.filter(M=>M.status==="completed")?.length||0,A=N?.reduce((M,R)=>M+(R.total_amount||0),0)||0,$=C>0?Math.round(A/C):0,T=j?.length||0;h({totalOrders:C,pendingOrders:k,completedOrders:I,totalRevenue:A,averageOrderValue:$,customerCount:C,menuItemsCount:T}),f(!1)}catch(_){console.error("Error fetching stats:",_),f(!1)}},w=()=>{if(!o)return"Restaurant";switch(i){case"ja":return o.name_ja||o.name;case"en":return o.name_en||o.name;default:return o.name}};return m?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-navikko-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurant data..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t("/restaurants"),className:"text-navikko-primary hover:bg-navikko-primary/10",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Back to Restaurants"]})}),e.jsxs("h1",{className:"text-3xl font-bold text-navikko-secondary mb-2",children:[w()," - ",n("dashboard.title","Restaurant Dashboard")]}),e.jsx("p",{className:"text-gray-600",children:n("dashboard.welcome","Restaurant management dashboard with orders, menu, and analytics.")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs(Q,{onClick:()=>t(`/restaurant/${s}/orders`),className:"h-16 flex items-center justify-center gap-3 bg-navikko-primary hover:bg-navikko-primary/90",children:[e.jsx(Fn,{className:"h-6 w-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Manage Orders"}),e.jsxs("div",{className:"text-sm opacity-90",children:[u.pendingOrders," pending"]})]})]}),e.jsxs(Q,{onClick:()=>t(`/restaurant/${s}/menu`),variant:"outline",className:"h-16 flex items-center justify-center gap-3 border-navikko-primary text-navikko-primary hover:bg-navikko-primary/10",children:[e.jsx(Td,{className:"h-6 w-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Manage Menu"}),e.jsxs("div",{className:"text-sm opacity-70",children:[u.menuItemsCount," items"]})]})]}),e.jsxs(Q,{onClick:()=>t(`/restaurant/${s}/analytics`),variant:"outline",className:"h-16 flex items-center justify-center gap-3 border-navikko-primary text-navikko-primary hover:bg-navikko-primary/10",children:[e.jsx(uh,{className:"h-6 w-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"View Analytics"}),e.jsx("div",{className:"text-sm opacity-70",children:"Performance data"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:n("dashboard.total_orders","Total Orders")}),e.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.totalOrders}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.completedOrders," completed"]})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:n("dashboard.pending_orders","Pending Orders")}),e.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.pendingOrders}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n("dashboard.need_attention","Need attention")})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:n("dashboard.total_revenue","Total Revenue")}),e.jsx(ix,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",u.totalRevenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",u.averageOrderValue.toLocaleString()]})]})]}),e.jsxs(ce,{children:[e.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(je,{className:"text-sm font-medium",children:"Menu Items"}),e.jsx(Td,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.menuItemsCount}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active menu items"})]})]})]}),u.pendingOrders>0&&e.jsxs(ce,{className:"mb-6",children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(ax,{className:"h-5 w-5 text-yellow-600"}),n("dashboard.alerts","Alerts")]})}),e.jsx(de,{children:e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[u.pendingOrders," orders pending for this restaurant"]}),e.jsx("p",{className:"text-xs text-yellow-600",children:n("dashboard.review_process_orders","Review and process orders")}),e.jsx(Q,{size:"sm",className:"mt-2",onClick:()=>t(`/restaurant/${s}/orders`),children:"View Orders"})]})})]})]})},uR=()=>{const{restaurantId:s}=Dl(),t=dr(),{t:n,currentLanguage:i}=ze(),[o,c]=x.useState(null),[u,h]=x.useState([]),[m,f]=x.useState([]),[p,v]=x.useState(""),[w,_]=x.useState("all"),[N,b]=x.useState(!0);x.useEffect(()=>{s&&(j(),S())},[s]);const j=async()=>{try{const M=Ne(),{data:R,error:U}=await M.from("restaurants").select("*").eq("id",s).single();if(U){console.error("Error fetching restaurant:",U);return}c(R)}catch(M){console.error("Error fetching restaurant:",M)}},S=async()=>{try{const M=Ne(),{data:R,error:U}=await M.from("orders").select("*").eq("restaurant_id",s).order("created_at",{ascending:!1});if(U){console.error("Error fetching orders:",U),Ve({title:"Error",description:"Failed to load orders for this restaurant",variant:"destructive"});return}const H=(R||[]).map(P=>({id:P.id,customerName:P.customer_name,customerEmail:P.customer_email,customerPhone:P.customer_phone||"",items:P.items||[],totalAmount:P.total_amount,status:P.status,pickupTime:P.pickup_time||"",orderTime:new Date(P.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),notes:P.notes||""}));h(H),f(H),b(!1)}catch(M){console.error("Error fetching orders:",M),Ve({title:"Error",description:"Failed to load orders for this restaurant",variant:"destructive"}),b(!1)}},C=x.useCallback(()=>{let M=u;p&&(M=M.filter(R=>R.customerName.toLowerCase().includes(p.toLowerCase())||R.id.toLowerCase().includes(p.toLowerCase()))),w!=="all"&&(M=M.filter(R=>R.status===w)),f(M)},[p,w,u]);x.useEffect(()=>{C()},[C]);const k=async(M,R)=>{try{const U=Ne(),{error:H}=await U.from("orders").update({status:R}).eq("id",M);if(H){console.error("Error updating order status:",H),Ve({title:"Error",description:"Failed to update order status",variant:"destructive"});return}h(P=>P.map(D=>D.id===M?{...D,status:R}:D)),Ve({title:"Success",description:`Order status updated to ${R}`})}catch(U){console.error("Error updating order status:",U),Ve({title:"Error",description:"Failed to update order status",variant:"destructive"})}},I=M=>{switch(M){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=M=>{switch(M){case"pending":return"Pending";case"preparing":return"Preparing";case"ready":return"Ready";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return M}},$=M=>{switch(M){case"pending":return"preparing";case"preparing":return"ready";case"ready":return"completed";default:return null}},T=()=>{if(!o)return"Restaurant";switch(i){case"ja":return o.name_ja||o.name;case"en":return o.name_en||o.name;default:return o.name}};return N?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-navikko-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t(`/restaurant/${s}/dashboard`),className:"text-navikko-primary hover:bg-navikko-primary/10",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsxs("h1",{className:"text-3xl font-bold text-navikko-secondary mb-2",children:[T()," - Orders Management"]}),e.jsx("p",{className:"text-gray-600",children:"Manage and track orders for this restaurant."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(ce,{children:e.jsxs(de,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-navikko-primary",children:u?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),e.jsx(ce,{children:e.jsxs(de,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u?.filter(M=>M.status==="pending")?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),e.jsx(ce,{children:e.jsxs(de,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u?.filter(M=>M.status==="preparing")?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Preparing"})]})}),e.jsx(ce,{children:e.jsxs(de,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u?.filter(M=>M.status==="completed")?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})})]}),e.jsx(ce,{className:"mb-6",children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ne,{placeholder:"Search by customer name or order ID...",value:p,onChange:M=>v(M.target.value),className:"pl-10"})]})}),e.jsxs(ut,{value:w,onValueChange:_,children:[e.jsx(it,{className:"w-full md:w-48",children:e.jsx(mt,{placeholder:"Filter by status"})}),e.jsxs(ot,{children:[e.jsx(Pe,{value:"all",children:"All Status"}),e.jsx(Pe,{value:"pending",children:"Pending"}),e.jsx(Pe,{value:"preparing",children:"Preparing"}),e.jsx(Pe,{value:"ready",children:"Ready"}),e.jsx(Pe,{value:"completed",children:"Completed"}),e.jsx(Pe,{value:"cancelled",children:"Cancelled"})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:m?.length>0?m.map(M=>e.jsx(ce,{className:"hover:shadow-md transition-shadow",children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:M.customerName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",M.id]})]}),e.jsx(Fe,{className:I(M.status),children:A(M.status)})]}),e.jsxs("div",{className:"mb-3",children:[M.items?.map((R,U)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[R.name," x",R.quantity]}),e.jsxs("span",{children:["",R.price?.toLocaleString()]})]},U)),e.jsx("div",{className:"border-t mt-2 pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",M.totalAmount?.toLocaleString()]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tn,{className:"h-3 w-3"}),e.jsx("span",{children:M.customerPhone})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(On,{className:"h-3 w-3"}),e.jsx("span",{children:M.customerEmail})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ur,{className:"h-3 w-3"}),e.jsxs("span",{children:["Order: ",M.orderTime]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ur,{className:"h-3 w-3"}),e.jsxs("span",{children:["Pickup: ",M.pickupTime]})]})]}),M.notes&&e.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[e.jsx("strong",{children:"Notes:"})," ",M.notes]})]}),e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-shrink-0",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),"View Details"]}),$(M.status)&&e.jsxs(Q,{size:"sm",onClick:()=>k(M.id,$(M.status)),className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-4 w-4"}),"Mark as ",$(M.status)]}),M.status==="pending"&&e.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>k(M.id,"cancelled"),className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"h-4 w-4"}),"Cancel Order"]})]})]})})},M.id)):e.jsx(ce,{children:e.jsx(de,{className:"pt-6 text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(ps,{className:"h-12 w-12 mx-auto text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"No orders found for this restaurant"}),e.jsx("p",{className:"text-gray-500",children:p||w!=="all"?"Try adjusting your search criteria":"No orders have been placed for this restaurant yet"})]})})})})]})},dR=()=>{const{restaurantId:s}=Dl(),t=dr(),{t:n,currentLanguage:i}=ze(),[o,c]=x.useState(null),[u,h]=x.useState([]),[m,f]=x.useState(!1),[p,v]=x.useState(null),[w,_]=x.useState(["ja",i==="ja"?"en":i]),[N,b]=x.useState({name_ja:"",name_en:"",name_zh:"",name_ko:"",name_pl:"",name_ms:"",name_id:"",name_vi:"",name_th:"",name_es:"",name_ro:"",description_ja:"",description_en:"",description_zh:"",description_ko:"",description_pl:"",description_ms:"",description_id:"",description_vi:"",description_th:"",description_es:"",description_ro:"",price:0,category:"",image:"",available:!0,spicy:!1,vegetarian:!1,glutenFree:!1}),j=[{code:"ja",name:"Japanese",required:!0},{code:"en",name:"English"},{code:"zh",name:"Chinese"},{code:"ko",name:"Korean"},{code:"pl",name:"Polish"},{code:"ms",name:"Malay"},{code:"id",name:"Indonesian"},{code:"vi",name:"Vietnamese"},{code:"th",name:"Thai"},{code:"es",name:"Spanish"},{code:"ro",name:"Romanian"}];x.useEffect(()=>{const P=["ja"];i!=="ja"?P.push(i):P.push("en"),_(P)},[i]);const S=P=>{P!=="ja"&&_(D=>D.includes(P)?D.filter(B=>B!==P):[...D,P])},C=x.useCallback(async()=>{try{const P=Ne(),{data:D,error:B}=await P.from("restaurants").select("*").eq("id",s).single();if(B){console.error("Error fetching restaurant:",B);return}c(D)}catch(P){console.error("Error fetching restaurant:",P)}},[s]),k=x.useCallback(async()=>{try{const P=Ne(),{data:D,error:B}=await P.from("menu_items").select("*").eq("restaurant_id",s).order("created_at",{ascending:!1});if(B){console.error("Error fetching menu items:",B),Ve({title:"Error",description:"Failed to load menu items for this restaurant",variant:"destructive"});return}h(D||[])}catch(P){console.error("Error fetching menu items:",P),Ve({title:"Error",description:"Failed to load menu items for this restaurant",variant:"destructive"})}},[s]);x.useEffect(()=>{s&&(C(),k())},[s,C,k]);const I=async P=>{P.preventDefault();try{const D=Ne(),B={restaurant_id:s,name_en:N.name_en||null,name_ja:N.name_ja||null,name_zh:N.name_zh||(i==="zh"?N.name_ja:null),name_ko:N.name_ko||null,name_pl:N.name_pl||null,name_ms:N.name_ms||null,name_id:N.name_id||null,name_vi:N.name_vi||null,name_th:N.name_th||null,name_es:N.name_es||null,name_ro:N.name_ro||null,description_en:N.description_en||null,description_ja:N.description_ja||null,description_zh:N.description_zh||(i==="zh"?N.description_ja:null),description_ko:N.description_ko||null,description_pl:N.description_pl||null,description_ms:N.description_ms||null,description_id:N.description_id||null,description_vi:N.description_vi||null,description_th:N.description_th||null,description_es:N.description_es||null,description_ro:N.description_ro||null,price:N.price,category:N.category,image_url:N.image||null,is_available:N.available,is_spicy:N.spicy,is_vegetarian:N.vegetarian,is_gluten_free:N.glutenFree};if(p){const{error:Y}=await D.from("menu_items").update(B).eq("id",p.id);if(Y){console.error("Error updating menu item:",Y),Ve({title:"Error",description:"Failed to update menu item",variant:"destructive"});return}}else{const{error:Y}=await D.from("menu_items").insert([B]);if(Y){console.error("Error creating menu item:",Y),Ve({title:"Error",description:"Failed to create menu item",variant:"destructive"});return}}await k(),A(),Ve({title:"Success",description:p?"Menu item updated successfully":"Menu item created successfully"})}catch(D){console.error("Error saving menu item:",D),Ve({title:"Error",description:"Failed to save menu item",variant:"destructive"})}},A=()=>{b({name_ja:"",name_en:"",name_zh:"",name_ko:"",name_pl:"",name_ms:"",name_id:"",name_vi:"",name_th:"",name_es:"",name_ro:"",description_ja:"",description_en:"",description_zh:"",description_ko:"",description_pl:"",description_ms:"",description_id:"",description_vi:"",description_th:"",description_es:"",description_ro:"",price:0,category:"",image:"",available:!0,spicy:!1,vegetarian:!1,glutenFree:!1}),v(null),f(!1)},$=P=>{v(P),b({name_ja:P.name_ja||"",name_en:P.name_en||"",name_zh:P.name_zh||"",name_ko:P.name_ko||"",name_pl:"",name_ms:"",name_id:"",name_vi:"",name_th:"",name_es:"",name_ro:"",description_ja:P.description_ja||"",description_en:P.description_en||"",description_zh:P.description_zh||"",description_ko:P.description_ko||"",description_pl:"",description_ms:"",description_id:"",description_vi:"",description_th:"",description_es:"",description_ro:"",price:P.price,category:P.category,image:P.image_url||"",available:P.is_available,spicy:P.is_spicy||!1,vegetarian:P.is_vegetarian||!1,glutenFree:P.is_gluten_free||!1}),f(!0)},T=async P=>{if(confirm(n("confirm.delete")))try{const D=Ne(),{error:B}=await D.from("menu_items").delete().eq("id",P);if(B){console.error("Error deleting menu item:",B),Ve({title:"Error",description:"Failed to delete menu item",variant:"destructive"});return}await k(),Ve({title:"Success",description:"Menu item deleted successfully"})}catch(D){console.error("Error deleting menu item:",D),Ve({title:"Error",description:"Failed to delete menu item",variant:"destructive"})}},M=(P,D)=>typeof P=="string"?P:ht(P,D),R=P=>{const D={en:P.name_en,ja:P.name_ja||P.name_en,zh:P.name_zh||P.name_en,ko:P.name_ko||P.name_en};return M(D,i)},U=P=>{const D={en:P.description_en||"",ja:P.description_ja||P.description_en||"",zh:P.description_zh||P.description_en||"",ko:P.description_ko||P.description_en||""};return M(D,i)},H=()=>{if(!o)return"Restaurant";switch(i){case"ja":return o.name_ja||o.name;case"en":return o.name_en||o.name;default:return o.name}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t(`/restaurant/${s}/dashboard`),className:"text-navikko-primary hover:bg-navikko-primary/10",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("h1",{className:"text-2xl font-bold",children:[H()," - Menu Management"]})]}),e.jsxs(qt,{open:m,onOpenChange:f,children:[e.jsx(Aa,{asChild:!0,children:e.jsxs(Q,{onClick:()=>A(),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),n("button.add")]})}),e.jsxs(Dt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ht,{children:e.jsxs(Gt,{children:[n(p?"button.edit":"button.add")," Menu Item"]})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Languages to Support"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(P=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`lang-${P.code}`,checked:w.includes(P.code),onChange:()=>S(P.code),disabled:P.required,className:"rounded","aria-label":`Select ${P.name} language support`,title:`Toggle ${P.name} language support for menu items`}),e.jsxs(G,{htmlFor:`lang-${P.code}`,className:P.required?"font-semibold":"",children:[P.name," ",P.required&&"*"]})]},P.code))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Names"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(P=>{const D=j.find(B=>B.code===P);return D?e.jsxs("div",{children:[e.jsxs(G,{htmlFor:`name_${P}`,children:["Name (",D.name,") ",D.required?"*":""]}),e.jsx(ne,{id:`name_${P}`,value:N[`name_${P}`],onChange:B=>b({...N,[`name_${P}`]:B.target.value}),required:D.required})]},`name-${P}`):null})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Descriptions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(P=>{const D=j.find(B=>B.code===P);return D?e.jsxs("div",{children:[e.jsxs(G,{htmlFor:`description_${P}`,children:["Description (",D.name,")"]}),e.jsx(ne,{id:`description_${P}`,value:N[`description_${P}`],onChange:B=>b({...N,[`description_${P}`]:B.target.value})})]},`desc-${P}`):null})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"price",children:n("form.price")}),e.jsx(ne,{id:"price",type:"number",step:"0.01",value:N.price,onChange:P=>b({...N,price:parseFloat(P.target.value)}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"category",children:"Category"}),e.jsx(ne,{id:"category",value:N.category,onChange:P=>b({...N,category:P.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image",children:"Image URL"}),e.jsx(ne,{id:"image",value:N.image,onChange:P=>b({...N,image:P.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"available",checked:N.available,onCheckedChange:P=>b({...N,available:!!P})}),e.jsx(G,{htmlFor:"available",children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"spicy",checked:N.spicy,onCheckedChange:P=>b({...N,spicy:!!P})}),e.jsx(G,{htmlFor:"spicy",children:"Spicy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"vegetarian",checked:N.vegetarian,onCheckedChange:P=>b({...N,vegetarian:!!P})}),e.jsx(G,{htmlFor:"vegetarian",children:"Vegetarian"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{id:"glutenFree",checked:N.glutenFree,onCheckedChange:P=>b({...N,glutenFree:!!P})}),e.jsx(G,{htmlFor:"glutenFree",children:"Gluten Free"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{type:"submit",className:"flex-1",children:n(p?"button.update":"button.create")}),e.jsx(Q,{type:"button",variant:"outline",onClick:A,children:n("button.cancel")})]})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-navikko-secondary",children:"Menu Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-2xl font-bold text-navikko-primary",children:u?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Menu Items"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u?.filter(P=>P.is_available)?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Available Items"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u?.filter(P=>P.is_spicy)?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Spicy Items"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u?.filter(P=>P.is_vegetarian)?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vegetarian Items"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:u?.map(P=>e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:R(P)}),e.jsx("div",{className:"text-sm text-gray-600",children:H()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>$(P),"aria-label":`Edit ${R(P)} menu item`,title:`Edit ${R(P)} menu item`,children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>T(P.id),"aria-label":`Delete ${R(P)} menu item`,title:`Delete ${R(P)} menu item`,children:e.jsx(Sa,{className:"h-4 w-4"})})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[P.image_url&&e.jsx("img",{src:P.image_url,alt:R(P),className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-lg",children:["",P.price]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:U(P)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fe,{variant:"outline",children:P.category}),P.is_spicy&&e.jsxs(Fe,{variant:"outline",className:"text-red-600",children:[e.jsx(mh,{className:"h-3 w-3 mr-1"}),"Spicy"]}),P.is_vegetarian&&e.jsxs(Fe,{variant:"outline",className:"text-green-600",children:[e.jsx(fh,{className:"h-3 w-3 mr-1"}),"Vegetarian"]}),P.is_gluten_free&&e.jsxs(Fe,{variant:"outline",className:"text-blue-600",children:[e.jsx(vh,{className:"h-3 w-3 mr-1"}),"Gluten Free"]}),!P.is_available&&e.jsx(Fe,{variant:"outline",className:"text-gray-500",children:"Unavailable"})]})]})]})})]},P.id))})]})},hR=()=>{const{userRole:s,setUserRole:t,isCustomer:n,isRestaurantOwner:i,isAdmin:o}=Hn(),{t:c}=ze(),u=[{id:"customer",name:"Customer",description:"Browse restaurants and place orders",icon:fs,color:"bg-blue-100 text-blue-800",features:["Browse restaurants","Place orders","View cart","User profile"]},{id:"restaurant_owner",name:"Restaurant Owner",description:"Manage restaurant, menus, and orders",icon:ms,color:"bg-green-100 text-green-800",features:["Dashboard","Order management","Menu management","Restaurant view"]},{id:"admin",name:"Admin",description:"Full system access and management",icon:Mi,color:"bg-purple-100 text-purple-800",features:["All restaurant owner features","User management","Reservation management","System settings"]}],h=u.find(m=>m.id===s);return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-navikko-secondary mb-2",children:"Role Switcher"}),e.jsx("p",{className:"text-gray-600",children:"Switch between different user roles to test the application"})]}),e.jsxs(ce,{className:"mb-8",children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[h&&He.createElement(h.icon,{className:"h-5 w-5"}),"Current Role: ",h?.name]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Fe,{className:h?.color,children:h?.name}),e.jsx("p",{className:"text-gray-600",children:h?.description})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map(m=>{const f=m.icon,p=s===m.id;return e.jsxs(ce,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${p?"ring-2 ring-navikko-primary":"hover:border-navikko-primary/50"}`,onClick:()=>t(m.id),children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),m.name,p&&e.jsx(Fe,{className:"bg-navikko-primary text-white",children:"Active"})]})}),e.jsxs(de,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Features:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:m.features.map((v,w)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-navikko-primary rounded-full"}),v]},w))})]}),e.jsx(Q,{className:`w-full mt-4 ${p?"bg-navikko-primary hover:bg-navikko-primary/90":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,disabled:p,children:p?"Current Role":"Switch to "+m.name})]})]},m.id)})}),e.jsxs(ce,{className:"mt-8",children:[e.jsx(_e,{children:e.jsx(je,{children:"Quick Actions"})}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>window.location.reload(),children:[e.jsx(fs,{className:"h-4 w-4"}),"Refresh App"]}),e.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{t("customer"),window.location.reload()},children:[e.jsx(ms,{className:"h-4 w-4"}),"Reset to Customer"]}),e.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{localStorage.clear(),window.location.reload()},children:[e.jsx(Mi,{className:"h-4 w-4"}),"Clear All Data"]}),e.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{console.log("Adding test data...")},children:[e.jsx(fs,{className:"h-4 w-4"}),"Add Test Data"]})]})})]})]})},mR=()=>{const{user:s,userRole:t,logout:n}=Hn(),{t:i}=ze();if(!s)return e.jsxs("div",{className:"p-4 sm:p-8 text-center bg-white rounded-lg shadow-sm border-navikko-primary/20 border",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-navikko-secondary",children:"Profile"}),e.jsx("p",{className:"text-navikko-secondary text-sm sm:text-base",children:"No user data available."})]});const o=()=>{switch(t){case"admin":return e.jsx(Mi,{className:"h-5 w-5 text-purple-600"});case"restaurant_owner":return e.jsx(ms,{className:"h-5 w-5 text-green-600"});default:return e.jsx(Dr,{className:"h-5 w-5 text-blue-600"})}},c=()=>{switch(t){case"admin":return"bg-purple-100 text-purple-800";case"restaurant_owner":return"bg-green-100 text-green-800";default:return"bg-blue-100 text-blue-800"}},u=()=>{switch(t){case"admin":return"Administrator";case"restaurant_owner":return"Restaurant Owner";default:return"Customer"}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-navikko-secondary mb-2",children:"Profile"}),e.jsx("p",{className:"text-navikko-secondary",children:"Manage your account information and preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Dr,{className:"h-5 w-5 text-navikko-primary"}),"Personal Information"]})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-navikko-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Dr,{className:"h-8 w-8 text-navikko-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-navikko-secondary",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[o(),e.jsx(Fe,{className:c(),children:u()})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(On,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(tn,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:s.phone})]})]})]}),s.createdAt&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Fn,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Member Since"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})]})}),s.restaurantInfo&&e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(sx,{className:"h-5 w-5 text-navikko-primary"}),"Restaurant Information"]})}),e.jsx(de,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Restaurant Name"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:s.restaurantInfo.name})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zn,{className:"h-4 w-4 text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:s.restaurantInfo.address})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(tn,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Restaurant Phone"}),e.jsx("p",{className:"font-medium text-navikko-secondary",children:s.restaurantInfo.phone})]})]}),s.restaurantInfo.cuisine&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cuisine Type"}),e.jsx(Fe,{variant:"outline",className:"text-navikko-primary",children:s.restaurantInfo.cuisine})]})]})})]}),e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsx(je,{children:"Account Actions"})}),e.jsxs(de,{className:"space-y-3",children:[e.jsxs(Q,{variant:"outline",className:"w-full justify-start",onClick:()=>{},children:[e.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs(Q,{variant:"outline",className:"w-full justify-start",onClick:()=>{},children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Change Password"]}),e.jsxs(Q,{variant:"outline",className:"w-full justify-start",onClick:()=>{},children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Notification Settings"]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(Q,{variant:"destructive",className:"w-full justify-start",onClick:n,children:[e.jsx(ux,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})]})]})},wr=({children:s,requiredRole:t,fallback:n,showAccessDenied:i=!0})=>{const{hasRole:o,isAuthenticated:c,canAccessAdminFeatures:u,canAccessRestaurantFeatures:h,logout:m}=Hn(),{t:f}=ze(),p=dr(),v=o(t);console.log(" SecureRoute Debug:",{requiredRole:t,isAuthenticated:c,hasRequiredRole:v,canAccessAdminFeatures:u,canAccessRestaurantFeatures:h});const w=(()=>{if(!c)return console.log(" SecureRoute: Not authenticated"),!1;switch(t){case"admin":return console.log(" SecureRoute: Checking admin access:",u),u;case"restaurant_owner":return console.log(" SecureRoute: Checking restaurant owner access:",h),h;case"customer":return console.log(" SecureRoute: Checking customer access:",v),v;default:return console.log(" SecureRoute: Unknown role"),!1}})();return console.log(" SecureRoute Final Decision:",{canAccess:w}),c?v?w?e.jsx(e.Fragment,{children:s}):n||e.jsxs(ce,{className:"max-w-md mx-auto mt-8",children:[e.jsxs(_e,{className:"text-center",children:[e.jsx(ph,{className:"w-12 h-12 mx-auto text-red-400 mb-4"}),e.jsx(je,{children:f("auth.accessDenied")}),e.jsxs(en,{children:[t==="admin"&&f("auth.adminAccessRestricted"),t==="restaurant_owner"&&f("auth.subscriptionRequired")]})]}),e.jsxs(de,{className:"text-center space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[t==="admin"&&f("auth.adminSecurityMessage"),t==="restaurant_owner"&&f("auth.subscriptionExpiredMessage")]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>p("/"),children:f("auth.backToHome")}),e.jsx(Q,{variant:"destructive",onClick:m,children:f("auth.logout")})]})]})]}):n||e.jsxs(ce,{className:"max-w-md mx-auto mt-8",children:[e.jsxs(_e,{className:"text-center",children:[e.jsx(Qk,{className:"w-12 h-12 mx-auto text-orange-400 mb-4"}),e.jsx(je,{children:f("auth.insufficientPermissions")}),e.jsx(en,{children:`Role required: ${t}`})]}),e.jsx(de,{className:"text-center",children:e.jsx(Q,{onClick:()=>p("/"),children:f("auth.backToHome")})})]}):n||e.jsxs(ce,{className:"max-w-md mx-auto mt-8",children:[e.jsxs(_e,{className:"text-center",children:[e.jsx(ma,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx(je,{children:f("auth.loginRequired")}),e.jsx(en,{children:f("auth.pleaseLoginToAccess")})]}),e.jsx(de,{className:"text-center",children:e.jsx(Q,{onClick:()=>p("/"),children:f("auth.goToLogin")})})]})},fR={JP:1,KR:1,MY:.6,TH:.6,ID:.4,VN:.4,PL:.7,RO:.5},pR={JP:"JPY",KR:"KRW",MY:"MYR",TH:"THB",ID:"IDR",VN:"VND",PL:"PLN",RO:"RON"},mv={JP:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["JP"],supported_methods:["card","apple_pay","google_pay"]},{name:"komoju",display_name:"Komoju (Local Payments)",supported_countries:["JP"],supported_methods:["card","convenience_store","bank_transfer","pay_easy"]}],KR:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["KR"],supported_methods:["card","apple_pay","google_pay"]}],MY:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["MY"],supported_methods:["card","grabpay","fpx"]}],TH:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["TH"],supported_methods:["card","promptpay","truemoney"]}],ID:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["ID"],supported_methods:["card","gopay","ovo"]}],VN:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["VN"],supported_methods:["card"]}],PL:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["PL"],supported_methods:["card","blik","p24"]}],RO:[{name:"stripe",display_name:"Credit Card (Stripe)",supported_countries:["RO"],supported_methods:["card","sepa_debit"]}]};class gR{supabase=Ne();async getSubscriptionPlans(){const{data:t,error:n}=await this.supabase.from("subscription_plans").select("*").order("plan_code");if(n)throw console.error("Error fetching subscription plans:",n),n;return t||[]}async getPricingForCountry(t){const{data:n,error:i}=await this.supabase.from("subscription_pricing").select(`
        *,
        subscription_plans (*)
      `).eq("country_code",t).order("plan_id");if(i)throw console.error("Error fetching pricing:",i),i;return n||[]}getPaymentProviders(t){return mv[t]||mv.JP}calculatePrice(t,n){const i=fR[n]||1;return Math.round(t*i)}getCurrency(t){return pR[t]||"JPY"}formatPrice(t,n){const i={JPY:new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}),KRW:new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}),MYR:new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}),THB:new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}),IDR:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}),VND:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),PLN:new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN"}),RON:new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"})};return(i[n]||i.JPY).format(t)}async createSubscription(t){const{data:n,error:i}=await this.supabase.from("subscription_pricing").select("*").eq("plan_id",t.plan_id).eq("country_code",t.country_code).single();if(i||!n)throw new Error("Pricing not found for this plan and country");const o=new Date,c=new Date(o.getTime()+720*60*60*1e3),u={restaurant_id:t.restaurant_id,plan_id:t.plan_id,status:"trialing",current_period_start:o.toISOString(),current_period_end:c.toISOString(),trial_end:new Date(o.getTime()+336*60*60*1e3).toISOString(),country_code:t.country_code,currency:n.currency,amount:n.price_monthly,cancel_at_period_end:!1},{data:h,error:m}=await this.supabase.from("subscriptions").insert([u]).select().single();if(m)throw console.error("Error creating subscription:",m),m;return h}async getRestaurantSubscription(t){const{data:n,error:i}=await this.supabase.from("subscriptions").select(`
        *,
        subscription_plans (*)
      `).eq("restaurant_id",t).eq("status","active").single();if(i&&i.code!=="PGRST116")throw console.error("Error fetching subscription:",i),i;return n}async updateSubscriptionStatus(t,n,i){const o={status:n,updated_at:new Date().toISOString(),...i},{error:c}=await this.supabase.from("subscriptions").update(o).eq("id",t);if(c)throw console.error("Error updating subscription status:",c),c}async recordPayment(t){const n={subscription_id:t.subscription_id,amount:t.amount,currency:t.currency,status:t.status,payment_method:t.payment_method,payment_provider:t.payment_provider,description:t.description,receipt_url:t.receipt_url,failure_reason:t.failure_reason,...t.payment_provider==="stripe"&&{stripe_payment_intent_id:t.provider_payment_id},...t.payment_provider==="paypal"&&{paypal_payment_id:t.provider_payment_id},...t.payment_provider==="komoju"&&{komoju_payment_id:t.provider_payment_id}},{error:i}=await this.supabase.from("payments").insert([n]);if(i)throw console.error("Error recording payment:",i),i}async hasFeatureAccess(t,n){const i=await this.getRestaurantSubscription(t);if(!i||i.status!=="active")return!1;const{data:o,error:c}=await this.supabase.from("subscription_plans").select("*").eq("id",i.plan_id).single();if(c||!o)return!1;switch(n){case"reservations":return o.has_reservations;case"analytics":return o.has_analytics;case"api_access":return o.has_api_access;case"multi_location":return o.has_multi_location;default:return!0}}async getUsageLimits(t){const n=await this.getRestaurantSubscription(t);if(!n)return{max_menu_items:0,max_languages:0,current_menu_items:0,current_languages:0};const{data:i}=await this.supabase.from("subscription_plans").select("max_menu_items, max_languages").eq("id",n.plan_id).single(),{data:o}=await this.supabase.from("menu_items").select("id").eq("restaurant_id",t);return{max_menu_items:i?.max_menu_items||0,max_languages:i?.max_languages||0,current_menu_items:o?.length||0,current_languages:1}}}const _d=new gR;var p0="basil",vR=function(t){return t===3?"v3":t},g0="https://js.stripe.com",xR="".concat(g0,"/").concat(p0,"/stripe.js"),yR=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wR=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var _R=function(t){return yR.test(t)||wR.test(t)},jR=function(){for(var t=document.querySelectorAll('script[src^="'.concat(g0,'"]')),n=0;n<t.length;n++){var i=t[n];if(_R(i.src))return i}return null},fv=function(t){var n="",i=document.createElement("script");i.src="".concat(xR).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(i),i},bR=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.7.0",startTime:n})},Ni=null,gl=null,vl=null,kR=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},NR=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},SR=function(t){return Ni!==null?Ni:(Ni=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=jR();if(!(o&&t)){if(!o)o=fv(t);else if(o&&vl!==null&&gl!==null){var c;o.removeEventListener("load",vl),o.removeEventListener("error",gl),(c=o.parentNode)===null||c===void 0||c.removeChild(o),o=fv(t)}}vl=NR(n,i),gl=kR(i),o.addEventListener("load",vl),o.addEventListener("error",gl)}catch(u){i(u);return}}),Ni.catch(function(n){return Ni=null,Promise.reject(n)}))},CR=function(t,n,i){if(t===null)return null;var o=n[0],c=o.match(/^pk_test/),u=vR(t.version),h=p0;c&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.7.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=t.apply(void 0,n);return bR(m,i),m},Si,v0=!1,x0=function(){return Si||(Si=SR(null).catch(function(t){return Si=null,Promise.reject(t)}),Si)};Promise.resolve().then(function(){return x0()}).catch(function(s){v0||console.warn(s)});var ER=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v0=!0;var o=Date.now();return x0().then(function(c){return CR(c,n,o)})};const PR="pk_test_51RppCCHXFxgn2NnufvJSiQhdt9pfJxu8GahyrW7AsmWPCJPugnyoC76J4BJ3L3mSeUsB8Xe5OrKRzAo0Pks2fhax00rVNfRq6w";let jd;const RR=()=>(jd||(jd=ER(PR)),jd);class TR{stripe=null;async initialize(){if(this.stripe=await RR(),!this.stripe)throw new Error("Failed to initialize Stripe")}async createCheckoutSession(t){try{const n=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to create checkout session");const{sessionId:i,url:o}=await n.json();return{sessionId:i,url:o}}catch(n){throw console.error("Error creating checkout session:",n),n}}async redirectToCheckout(t){this.stripe||await this.initialize();const{error:n}=await this.stripe.redirectToCheckout({sessionId:t});if(n)throw console.error("Stripe redirect error:",n),n}async createPortalSession(t,n){try{const i=await fetch("/api/stripe/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:t,returnUrl:n})});if(!i.ok)throw new Error("Failed to create portal session");const{url:o}=await i.json();return{url:o}}catch(i){throw console.error("Error creating portal session:",i),i}}async getCustomer(t){try{const n=await fetch(`/api/stripe/customers/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to get customer");return await n.json()}catch(n){throw console.error("Error getting customer:",n),n}}async getSubscription(t){try{const n=await fetch(`/api/stripe/subscriptions/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to get subscription");return await n.json()}catch(n){throw console.error("Error getting subscription:",n),n}}async cancelSubscription(t,n=!0){try{const i=await fetch(`/api/stripe/subscriptions/${t}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cancelAtPeriodEnd:n})});if(!i.ok)throw new Error("Failed to cancel subscription");return await i.json()}catch(i){throw console.error("Error canceling subscription:",i),i}}async updateSubscription(t,n){try{const i=await fetch(`/api/stripe/subscriptions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:n})});if(!i.ok)throw new Error("Failed to update subscription");return await i.json()}catch(i){throw console.error("Error updating subscription:",i),i}}async handleWebhookEvent(t){try{switch(t.type){case"checkout.session.completed":await this.handleCheckoutCompleted(t.data.object);break;case"customer.subscription.created":await this.handleSubscriptionCreated(t.data.object);break;case"customer.subscription.updated":await this.handleSubscriptionUpdated(t.data.object);break;case"customer.subscription.deleted":await this.handleSubscriptionDeleted(t.data.object);break;case"invoice.payment_succeeded":await this.handlePaymentSucceeded(t.data.object);break;case"invoice.payment_failed":await this.handlePaymentFailed(t.data.object);break;default:console.log(`Unhandled event type: ${t.type}`)}}catch(n){throw console.error("Error handling webhook event:",n),n}}async handleCheckoutCompleted(t){const{customer:n,subscription:i,metadata:o}=t;await ir.from("subscriptions").update({stripe_customer_id:n,stripe_subscription_id:i,status:"active",updated_at:new Date().toISOString()}).eq("user_id",o.userId)}async handleSubscriptionCreated(t){const{customer:n,id:i,status:o,current_period_start:c,current_period_end:u}=t,{data:h}=await ir.from("subscriptions").select("*").eq("stripe_customer_id",n).single();h&&await ir.from("subscriptions").update({stripe_subscription_id:i,status:o,current_period_start:new Date(c*1e3).toISOString(),current_period_end:new Date(u*1e3).toISOString(),updated_at:new Date().toISOString()}).eq("id",h.id)}async handleSubscriptionUpdated(t){const{id:n,status:i,current_period_start:o,current_period_end:c,cancel_at_period_end:u}=t;await ir.from("subscriptions").update({status:i,current_period_start:new Date(o*1e3).toISOString(),current_period_end:new Date(c*1e3).toISOString(),cancel_at_period_end:u,updated_at:new Date().toISOString()}).eq("stripe_subscription_id",n)}async handleSubscriptionDeleted(t){const{id:n}=t;await ir.from("subscriptions").update({status:"canceled",updated_at:new Date().toISOString()}).eq("stripe_subscription_id",n)}async handlePaymentSucceeded(t){const{subscription:n,customer:i}=t;await ir.from("payments").insert({subscription_id:n,stripe_customer_id:i,amount:t.amount_paid,currency:t.currency,status:"succeeded",stripe_invoice_id:t.id,created_at:new Date().toISOString()})}async handlePaymentFailed(t){const{subscription:n,customer:i}=t;await ir.from("payments").insert({subscription_id:n,stripe_customer_id:i,amount:t.amount_due,currency:t.currency,status:"failed",stripe_invoice_id:t.id,created_at:new Date().toISOString()}),await ir.from("subscriptions").update({status:"past_due",updated_at:new Date().toISOString()}).eq("stripe_subscription_id",n)}}const pv=new TR,AR=()=>{const[s,t]=x.useState(null),[n,i]=x.useState(!0),o=Ne();return x.useEffect(()=>{(async()=>{const{data:{session:v}}=await o.auth.getSession();t(v?.user||null),i(!1)})();const{data:{subscription:p}}=o.auth.onAuthStateChange(async(v,w)=>{t(w?.user||null),i(!1)});return()=>p.unsubscribe()},[o.auth]),{user:s,loading:n,signIn:async(f,p)=>{const{error:v}=await o.auth.signInWithPassword({email:f,password:p});if(v)throw v},signUp:async(f,p)=>{const{error:v}=await o.auth.signUp({email:f,password:p});if(v)throw v},signOut:async()=>{const{error:f}=await o.auth.signOut();if(f)throw f},resetPassword:async f=>{const{error:p}=await o.auth.resetPasswordForEmail(f);if(p)throw p}}},IR=({restaurantId:s})=>{const{user:t}=AR(),[n,i]=x.useState(null),[o,c]=x.useState([]),[u,h]=x.useState(!0),[m,f]=x.useState(null),[p,v]=x.useState(null),w=x.useCallback(async()=>{try{h(!0),v(null);const S=await _d.getRestaurantSubscription(s);i(S);const C=await _d.getPricingForCountry("JP");c(C)}catch(S){console.error("Error loading subscription data:",S),v("Failed to load subscription information")}finally{h(!1)}},[s]);x.useEffect(()=>{w()},[w]);const _=async S=>{if(t)try{f(S),v(null);const{sessionId:C,url:k}=await pv.createCheckoutSession({priceId:S,userId:t.id,restaurantId:s,successUrl:`${window.location.origin}/subscription/success`,cancelUrl:`${window.location.origin}/subscription/cancel`,countryCode:"JP"});window.location.href=k}catch(C){console.error("Error creating checkout session:",C),v("Failed to start upgrade process")}finally{f(null)}},N=async()=>{if(n?.stripe_customer_id)try{const{url:S}=await pv.createPortalSession(n.stripe_customer_id,window.location.href);window.location.href=S}catch(S){console.error("Error opening customer portal:",S),v("Failed to open subscription management")}},b=S=>{const C={active:{color:"bg-green-100 text-green-800",label:"Active"},trialing:{color:"bg-blue-100 text-blue-800",label:"Trial"},past_due:{color:"bg-yellow-100 text-yellow-800",label:"Past Due"},canceled:{color:"bg-red-100 text-red-800",label:"Canceled"},incomplete:{color:"bg-gray-100 text-gray-800",label:"Incomplete"}},k=C[S]||C.incomplete;return e.jsx(Fe,{className:k.color,children:k.label})},j=S=>({starter:["Up to 50 menu items","Basic order management","Email support","Mobile app access"],standard:["Up to 200 menu items","Advanced analytics","Priority support","Custom branding","Multi-location support"],premium:["Unlimited menu items","Advanced integrations","24/7 phone support","Custom development","Dedicated account manager"]})[S]||[];return u?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(ha,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading subscription information..."})]}):e.jsxs("div",{className:"space-y-6",children:[p&&e.jsxs(kr,{variant:"destructive",children:[e.jsx(Ul,{className:"h-4 w-4"}),e.jsx(Nr,{children:p})]}),n&&e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(Oi,{className:"h-5 w-5"}),"Current Subscription"]})}),e.jsxs(de,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Plan"}),e.jsx("p",{className:"font-semibold capitalize",children:n.plan_id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),b(n.status)]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Next Billing"}),e.jsx("p",{className:"font-semibold",children:n.current_period_end?new Date(n.current_period_end).toLocaleDateString("ja-JP"):"N/A"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx(Q,{onClick:N,variant:"outline",children:"Manage Subscription"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:n?"Upgrade Your Plan":"Choose Your Plan"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(S=>{const C=n?.plan_id===S.plan_id,k=j(S.plan_id);return e.jsxs(ce,{className:C?"ring-2 ring-blue-500":"",children:[e.jsxs(_e,{children:[e.jsxs(je,{className:"flex items-center justify-between",children:[e.jsx("span",{className:"capitalize",children:S.plan_id}),C&&e.jsx(Fe,{children:"Current"})]}),e.jsxs(en,{children:[e.jsx("span",{className:"text-2xl font-bold",children:_d.formatPrice(S.price_monthly,S.currency)}),e.jsx("span",{className:"text-sm text-gray-600",children:"/month"})]})]}),e.jsxs(de,{children:[e.jsx("ul",{className:"space-y-2 mb-6",children:k.map((I,A)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:I})]},A))}),!C&&e.jsx(Q,{onClick:()=>_(S.stripe_price_id||S.id),disabled:m===S.id,className:"w-full",children:m===S.id?e.jsxs(e.Fragment,{children:[e.jsx(ha,{className:"h-4 w-4 animate-spin mr-2"}),"Processing..."]}):n?"Upgrade":"Get Started"})]})]},S.id)})})]}),n&&e.jsxs(ce,{children:[e.jsx(_e,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-5 w-5"}),"Usage Overview"]})}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Menu Items"}),e.jsx("p",{className:"font-semibold",children:"Loading..."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Orders This Month"}),e.jsx("p",{className:"font-semibold",children:"Loading..."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Storage Used"}),e.jsx("p",{className:"font-semibold",children:"Loading..."})]})]})})]})]})},Nt=()=>{const{sidebarOpen:s,toggleSidebar:t,cartItems:n,selectedRestaurantId:i,setSelectedRestaurantId:o,userRole:c,isRestaurantOwner:u,isAdmin:h,isCustomer:m,isAuthenticated:f,user:p,setShowAuthModal:v}=Hn(),{t:w}=ze();WS();const _=Vn(),N=dr(),b=Dl(),S=(H=>{const P=H.split("/").filter(Boolean);return P[0]==="restaurant"&&P[2]?`restaurant-${P[2]}`:P[0]||"restaurants"})(_.pathname);x.useEffect(()=>{_.pathname.startsWith("/restaurant/")&&b.restaurantId?o(b.restaurantId):b.id?o(b.id):_.pathname==="/restaurants"&&o(null)},[_.pathname,b.id,b.restaurantId,o]),x.useEffect(()=>{f&&_.pathname==="/"&&(console.log(" Redirecting authenticated user from root to restaurants"),N("/restaurants",{replace:!0})),!f&&_.pathname!=="/"&&(console.log(" Redirecting unauthenticated user to root"),N("/",{replace:!0}))},[f,_.pathname,N]);const C=H=>{o(H),N(`/restaurant/${H}`)},k=()=>{o(null),N("/restaurants")},I=()=>{N("/cart")},A=()=>{N("/profile")},$=()=>{N("/menu-management")},T=()=>{N("/role-switcher")},M=H=>{N(`/${H}`)},R=n.reduce((H,P)=>H+P.quantity,0),U=()=>{const H={isAuthenticated:f,userRole:c,currentView:S,pathname:_.pathname,user:p?{id:p.id,email:p.email,userType:p.userType}:null,authService:{currentUser:Be.getCurrentUser()?{id:Be.getCurrentUser()?.id,email:Be.getCurrentUser()?.email,userType:Be.getCurrentUser()?.userType}:null,isAuthenticated:Be.isAuthenticated(),isAdmin:Be.isAdmin(),isRestaurantOwner:Be.isRestaurantOwner(),isCustomer:Be.isCustomer()}};if(console.log(" AppLayout Debug:",H),!f)return console.log(" User not authenticated, showing welcome screen"),e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("img",{src:"/logo/NAVIkko Green.png",alt:"NAVIkko",className:"h-16 sm:h-20 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-navikko-secondary mb-4",children:w("welcome.title")}),e.jsx("p",{className:"text-lg sm:text-xl text-navikko-secondary/80 mb-6",children:w("welcome.subtitle")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-700 mb-8 text-lg",children:w("welcome.signup_message")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:e.jsx("button",{onClick:()=>v(!0),className:"px-8 py-4 bg-navikko-primary text-white rounded-lg hover:bg-navikko-primary/90 transition-colors font-semibold text-lg shadow-sm",children:w("welcome.get_started")})}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{className:"mb-3",children:"By using this app, you agree to our"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[e.jsx(Or,{to:"/terms-of-service",className:"text-navikko-primary hover:underline",children:"Terms of Service"}),e.jsx("span",{className:"hidden sm:inline",children:", and"}),e.jsx(Or,{to:"/privacy-policy",className:"text-navikko-primary hover:underline",children:"Privacy Policy"}),e.jsx("span",{className:"hidden sm:inline",children:", and"}),e.jsx(Or,{to:"/commercial-transaction-act",className:"text-navikko-primary hover:underline",children:""})]})]})]})]})});switch(console.log(" User authenticated, rendering view:",S),S){case"restaurants":return console.log(" Rendering RestaurantList component"),e.jsx(hv,{onViewDetails:C});case"restaurant":return i?e.jsx(JP,{restaurantId:i,onBack:k}):e.jsxs("div",{className:"p-4 sm:p-8 text-center bg-white rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-navikko-secondary",children:"Restaurant not found"}),e.jsx("p",{className:"text-navikko-secondary text-sm sm:text-base",children:"Please select a restaurant from the list."})]});case"cart":return e.jsxs("div",{className:"p-4 sm:p-8 bg-white rounded-lg shadow-sm border-navikko-primary/20 border",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-center text-navikko-secondary",children:w("nav.cart")}),n.length===0?e.jsx("p",{className:"text-navikko-secondary text-center text-sm sm:text-base",children:w("cart.empty")}):e.jsxs("div",{children:[e.jsx("div",{className:"space-y-4 mb-6",children:n.map(P=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-4 bg-navikko-background rounded-lg border border-navikko-primary/20 gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate text-navikko-secondary",children:P.name}),e.jsxs("p",{className:"text-navikko-secondary text-xs sm:text-sm",children:["Quantity: ",P.quantity]})]}),e.jsxs("p",{className:"font-bold text-sm sm:text-base flex-shrink-0 text-navikko-action",children:["",(P.price*P.quantity).toLocaleString()]})]},P.id))}),e.jsxs("div",{className:"text-lg sm:text-xl font-bold text-center text-navikko-action",children:[w("cart.total"),": ",n.reduce((P,D)=>P+D.price*D.quantity,0).toLocaleString()]})]})]});case"profile":return e.jsx(mR,{});case"dashboard":return console.log(" Rendering RestaurantOwnerDashboard component"),e.jsx(wr,{requiredRole:"restaurant_owner",children:e.jsx(oR,{})});case"orders":return e.jsx(wr,{requiredRole:"restaurant_owner",children:e.jsx(lR,{})});case"menu-management":return e.jsx(wr,{requiredRole:"restaurant_owner",children:e.jsx(rR,{})});case"subscription":return e.jsx(wr,{requiredRole:"restaurant_owner",children:e.jsx(IR,{restaurantId:p?.id||""})});case"users":return console.log(" Rendering UserManagement component"),e.jsx(wr,{requiredRole:"admin",children:e.jsx(iR,{})});case"reservations":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(sR,{})});case"restaurant-dashboard":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(cR,{})});case"restaurant-orders":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(uR,{})});case"restaurant-menu":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(dR,{})});case"restaurant-management":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(tR,{})});case"role-switcher":return e.jsx(wr,{requiredRole:"admin",children:e.jsx(hR,{})});default:return console.log(" Defaulting to restaurants view"),e.jsx(hv,{onViewDetails:C})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(AP,{onMenuClick:t,cartItemCount:R,onCartClick:I,onProfileClick:A,onAdminClick:$,onRoleSwitcherClick:T}),f&&e.jsx(IP,{onNavigate:M,currentSection:S}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:e.jsx("div",{className:"w-full",children:U()})}),e.jsx("footer",{className:"bg-white border-t border-gray-100 mt-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{className:"mb-3",children:" 2024 NAVIkko. All rights reserved."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[e.jsx(Or,{to:"/terms-of-service",className:"text-navikko-primary hover:underline",children:"Terms of Service"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx(Or,{to:"/privacy-policy",className:"text-navikko-primary hover:underline",children:"Privacy Policy"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx(Or,{to:"/commercial-transaction-act",className:"text-navikko-primary hover:underline",children:""})]})]})})})]})},OR=()=>{const s=Vn();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),e.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),e.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},MR=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(Or,{to:"/",className:"inline-flex items-center text-navikko-primary hover:text-navikko-primary/80 transition-colors",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"})," / Back to Home"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-left",children:" / Privacy Policy"}),e.jsxs("div",{className:"prose prose-lg max-w-none text-left",children:[e.jsx("div",{className:"mb-6 pb-4 border-b border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[": WaSanDo ",e.jsx("br",{}),": 386-0005 1499-28",e.jsx("br",{}),"Address: 1499-28 Kosato, Ueda, Nagano, 386-0005 Japan",e.jsx("br",{}),": info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:""}),e.jsx("br",{}),": ",new Date().toLocaleDateString()]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. "}),e.jsx("p",{className:"text-gray-700 mb-4",children:"WaSanDo Navikko"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. "}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. "}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. "}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsxs("p",{className:"text-gray-700 mb-6",children:[": info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:""})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Information We Collect"}),e.jsx("p",{className:"text-gray-700 mb-4",children:'WaSanDo  ("we," "our," or "us") collects the following personal information:'}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:"Name, email address, phone number"}),e.jsx("li",{children:"Location information (with your consent)"}),e.jsx("li",{children:"Restaurant order and reservation history"}),e.jsx("li",{children:"Payment information"}),e.jsx("li",{children:"Service usage history"})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. How We Use Your Information"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"We use collected information for:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:"Providing and operating our services"}),e.jsx("li",{children:"Processing restaurant orders and reservations"}),e.jsx("li",{children:"Sending important notifications"}),e.jsx("li",{children:"Improving service quality"}),e.jsx("li",{children:"Complying with legal obligations"})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Information Sharing"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"We do not share personal information with third parties except as required by law or with your consent."}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Contact Us"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"For questions about this Privacy Policy, please contact us:"}),e.jsxs("p",{className:"text-gray-700",children:["Email: info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:"Contact us"})]})]})]})]})})}),DR=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(Or,{to:"/",className:"inline-flex items-center text-navikko-primary hover:text-navikko-primary/80 transition-colors",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"})," / Back to Home"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-left",children:" / Terms of Service"}),e.jsxs("div",{className:"prose prose-lg max-w-none text-left",children:[e.jsx("div",{className:"mb-6 pb-4 border-b border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[": WaSanDo ",e.jsx("br",{}),": 386-0005 1499-28",e.jsx("br",{}),"Address: 1499-28 Kosato, Ueda, Nagano, 386-0005 Japan",e.jsx("br",{}),": info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:""}),e.jsx("br",{}),": ",new Date().toLocaleDateString()]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"WaSanDo Navikko"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2"}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3"}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:""}),e.jsxs("p",{className:"text-gray-700 mb-6",children:[": info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:""})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"By accessing and using Navikko, you accept and agree to be bound by the terms and provision of this agreement."}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. User Conduct"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You agree not to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[e.jsx("li",{children:"Use the service for any unlawful purpose"}),e.jsx("li",{children:"Interfere with or disrupt the service"}),e.jsx("li",{children:"Violate any applicable laws or regulations"})]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Contact Information"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),e.jsxs("p",{className:"text-gray-700",children:["Email: info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:"Contact us"})]})]})]})]})})}),LR=()=>{const[s]=Ub(),t=dr(),{t:n}=ze(),[i,o]=x.useState(null),[c,u]=x.useState(!0),h=s.get("session_id");x.useEffect(()=>{h&&m(h)},[h]);const m=async p=>{try{const v=await fetch(`${window.location.origin}/api/verify-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:p})});v.ok&&(await v.json()).verified&&o({orderId:`ORDER-${Date.now()}`,status:"paid",date:new Date().toLocaleDateString()})}catch(v){console.error("Error verifying payment:",v)}finally{u(!1)}},f=()=>{const p=`
      Order Receipt
      =============
      Order ID: ${i?.orderId}
      Date: ${i?.date}
      Status: ${i?.status}
      
      Thank you for your order!
    `,v=new Blob([p],{type:"text/plain"}),w=URL.createObjectURL(v),_=document.createElement("a");_.href=w,_.download=`receipt-${i?.orderId}.txt`,_.click(),URL.revokeObjectURL(w)};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-navikko-primary mx-auto mb-4"}),e.jsx("p",{children:"Verifying payment..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(ce,{className:"text-center",children:[e.jsxs(_e,{children:[e.jsx("div",{className:"mx-auto mb-4",children:e.jsx(Bi,{className:"h-16 w-16 text-green-500 mx-auto"})}),e.jsx(je,{className:"text-2xl text-green-600",children:n("order.confirmation.title","Order Confirmed!")}),e.jsx("p",{className:"text-gray-600",children:n("order.confirmation.subtitle","Your order has been successfully placed and paid for.")})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-3",children:n("order.details","Order Details")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[n("order.orderNumber","Order Number"),":"]}),e.jsx("span",{className:"font-mono",children:i?.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[n("order.date","Order Date"),":"]}),e.jsx("span",{children:i?.date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[n("order.status","Status"),":"]}),e.jsx("span",{className:"text-green-600 font-semibold",children:i?.status})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(cg,{className:"h-5 w-5"}),n("order.qrCode","Pickup QR Code")]}),e.jsx("div",{className:"bg-white p-4 rounded border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(cg,{className:"h-16 w-16 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:n("order.qrCode.instructions","Show this QR code when picking up your order")})]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Q,{onClick:f,variant:"outline",className:"flex-1",children:[e.jsx(ox,{className:"h-4 w-4 mr-2"}),n("order.downloadReceipt","Download Receipt")]}),e.jsxs(Q,{onClick:()=>t("/"),className:"flex-1",children:[e.jsx(cx,{className:"h-4 w-4 mr-2"}),n("order.done","Done")]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-left",children:[e.jsx("h4",{className:"font-semibold mb-2",children:n("order.importantNotes","Important Notes")}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[e.jsxs("li",{children:[" ",n("order.notes.pickup","Please arrive at the restaurant at your selected pickup time")]}),e.jsxs("li",{children:[" ",n("order.notes.qrCode","Show the QR code to the staff when picking up")]}),e.jsxs("li",{children:[" ",n("order.notes.contact","Contact the restaurant if you need to modify your order")]}),e.jsxs("li",{children:[" ",n("order.notes.receipt","Keep this confirmation for your records")]})]})]})]})]})})})},FR=()=>{const s=dr(),{t}=ze();return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(ce,{className:"text-center",children:[e.jsxs(_e,{children:[e.jsx("div",{className:"mx-auto mb-4",children:e.jsx(Ul,{className:"h-16 w-16 text-red-500 mx-auto"})}),e.jsx(je,{className:"text-2xl text-red-600",children:"Payment Cancelled"}),e.jsx("p",{className:"text-gray-600",children:"Your payment was cancelled. No charges were made to your account."})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"What happened?"}),e.jsx("p",{className:"text-sm text-gray-700",children:"You cancelled the payment process. Your order has not been placed and no money has been charged."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Q,{onClick:()=>s(-1),variant:"outline",className:"flex-1",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Go Back"]}),e.jsxs(Q,{onClick:()=>s("/"),className:"flex-1",children:[e.jsx(cx,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-left",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Need Help?"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[e.jsx("li",{children:" If you're having trouble with payment, please contact the restaurant directly"}),e.jsx("li",{children:" You can try placing your order again"}),e.jsx("li",{children:" For technical support, please contact our support team"})]})]})]})]})})})},zR=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(Or,{to:"/",className:"inline-flex items-center text-navikko-primary hover:text-navikko-primary/80 transition-colors",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"})," / Back to Home"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-left",children:""}),e.jsxs("div",{className:"prose prose-lg max-w-none text-left",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:""}),e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700 w-32",children:""}),e.jsx("td",{className:"py-2 text-gray-900",children:"WaSanDo "})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700",children:""}),e.jsxs("td",{className:"py-2 text-gray-900",children:["386-0005",e.jsx("br",{}),"1499-28"]})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700",children:""}),e.jsxs("td",{className:"py-2 text-gray-900",children:[": info@wasando.com",e.jsx("br",{}),"WhatsApp: ",e.jsx("a",{href:"https://wa.me/817037822505",className:"text-navikko-primary hover:underline",children:""})]})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700",children:""}),e.jsx("td",{className:"py-2 text-gray-900",children:""})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700",children:""}),e.jsx("td",{className:"py-2 text-gray-900",children:""})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-700",children:""}),e.jsx("td",{className:"py-2 text-gray-900",children:""})]})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-sm text-gray-600",children:e.jsxs("p",{children:[": ",new Date().toLocaleDateString()]})})]})]})})});var UR=Object.defineProperty,Ol=Object.getOwnPropertySymbols,y0=Object.prototype.hasOwnProperty,w0=Object.prototype.propertyIsEnumerable,gv=(s,t,n)=>t in s?UR(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,Zd=(s,t)=>{for(var n in t||(t={}))y0.call(t,n)&&gv(s,n,t[n]);if(Ol)for(var n of Ol(t))w0.call(t,n)&&gv(s,n,t[n]);return s},Xd=(s,t)=>{var n={};for(var i in s)y0.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&Ol)for(var i of Ol(s))t.indexOf(i)<0&&w0.call(s,i)&&(n[i]=s[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ws;(s=>{const t=class De{constructor(m,f,p,v){if(this.version=m,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],m<De.MIN_VERSION||m>De.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let w=[];for(let N=0;N<this.size;N++)w.push(!1);for(let N=0;N<this.size;N++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(p);if(this.drawCodewords(_),v==-1){let N=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const j=this.getPenaltyScore();j<N&&(v=b,N=j),this.applyMask(b)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(m,f){const p=s.QrSegment.makeSegments(m);return De.encodeSegments(p,f)}static encodeBinary(m,f){const p=s.QrSegment.makeBytes(m);return De.encodeSegments([p],f)}static encodeSegments(m,f,p=1,v=40,w=-1,_=!0){if(!(De.MIN_VERSION<=p&&p<=v&&v<=De.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let N,b;for(N=p;;N++){const k=De.getNumDataCodewords(N,f)*8,I=u.getTotalBits(m,N);if(I<=k){b=I;break}if(N>=v)throw new RangeError("Data too long")}for(const k of[De.Ecc.MEDIUM,De.Ecc.QUARTILE,De.Ecc.HIGH])_&&b<=De.getNumDataCodewords(N,k)*8&&(f=k);let j=[];for(const k of m){n(k.mode.modeBits,4,j),n(k.numChars,k.mode.numCharCountBits(N),j);for(const I of k.getData())j.push(I)}o(j.length==b);const S=De.getNumDataCodewords(N,f)*8;o(j.length<=S),n(0,Math.min(4,S-j.length),j),n(0,(8-j.length%8)%8,j),o(j.length%8==0);for(let k=236;j.length<S;k^=253)n(k,8,j);let C=[];for(;C.length*8<j.length;)C.push(0);return j.forEach((k,I)=>C[I>>>3]|=k<<7-(I&7)),new De(N,f,C,w)}getModule(m,f){return 0<=m&&m<this.size&&0<=f&&f<this.size&&this.modules[f][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),f=m.length;for(let p=0;p<f;p++)for(let v=0;v<f;v++)p==0&&v==0||p==0&&v==f-1||p==f-1&&v==0||this.drawAlignmentPattern(m[p],m[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const f=this.errorCorrectionLevel.formatBits<<3|m;let p=f;for(let w=0;w<10;w++)p=p<<1^(p>>>9)*1335;const v=(f<<10|p)^21522;o(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(v,w));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let p=0;p<12;p++)m=m<<1^(m>>>11)*7973;const f=this.version<<12|m;o(f>>>18==0);for(let p=0;p<18;p++){const v=i(f,p),w=this.size-11+p%3,_=Math.floor(p/3);this.setFunctionModule(w,_,v),this.setFunctionModule(_,w,v)}}drawFinderPattern(m,f){for(let p=-4;p<=4;p++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(p)),_=m+v,N=f+p;0<=_&&_<this.size&&0<=N&&N<this.size&&this.setFunctionModule(_,N,w!=2&&w!=4)}}drawAlignmentPattern(m,f){for(let p=-2;p<=2;p++)for(let v=-2;v<=2;v++)this.setFunctionModule(m+v,f+p,Math.max(Math.abs(v),Math.abs(p))!=1)}setFunctionModule(m,f,p){this.modules[f][m]=p,this.isFunction[f][m]=!0}addEccAndInterleave(m){const f=this.version,p=this.errorCorrectionLevel;if(m.length!=De.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const v=De.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],w=De.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],_=Math.floor(De.getNumRawDataModules(f)/8),N=v-_%v,b=Math.floor(_/v);let j=[];const S=De.reedSolomonComputeDivisor(w);for(let k=0,I=0;k<v;k++){let A=m.slice(I,I+b-w+(k<N?0:1));I+=A.length;const $=De.reedSolomonComputeRemainder(A,S);k<N&&A.push(0),j.push(A.concat($))}let C=[];for(let k=0;k<j[0].length;k++)j.forEach((I,A)=>{(k!=b-w||A>=N)&&C.push(I[k])});return o(C.length==_),C}drawCodewords(m){if(m.length!=Math.floor(De.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const _=p-w,b=(p+1&2)==0?this.size-1-v:v;!this.isFunction[b][_]&&f<m.length*8&&(this.modules[b][_]=i(m[f>>>3],7-(f&7)),f++)}}o(f==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let v;switch(m){case 0:v=(p+f)%2==0;break;case 1:v=f%2==0;break;case 2:v=p%3==0;break;case 3:v=(p+f)%3==0;break;case 4:v=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:v=p*f%2+p*f%3==0;break;case 6:v=(p*f%2+p*f%3)%2==0;break;case 7:v=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&v&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let m=0;for(let w=0;w<this.size;w++){let _=!1,N=0,b=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[w][j]==_?(N++,N==5?m+=De.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,b),_||(m+=this.finderPenaltyCountPatterns(b)*De.PENALTY_N3),_=this.modules[w][j],N=1);m+=this.finderPenaltyTerminateAndCount(_,N,b)*De.PENALTY_N3}for(let w=0;w<this.size;w++){let _=!1,N=0,b=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][w]==_?(N++,N==5?m+=De.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,b),_||(m+=this.finderPenaltyCountPatterns(b)*De.PENALTY_N3),_=this.modules[j][w],N=1);m+=this.finderPenaltyTerminateAndCount(_,N,b)*De.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let _=0;_<this.size-1;_++){const N=this.modules[w][_];N==this.modules[w][_+1]&&N==this.modules[w+1][_]&&N==this.modules[w+1][_+1]&&(m+=De.PENALTY_N2)}let f=0;for(const w of this.modules)f=w.reduce((_,N)=>_+(N?1:0),f);const p=this.size*this.size,v=Math.ceil(Math.abs(f*20-p*10)/p)-1;return o(0<=v&&v<=9),m+=v*De.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let p=[6];for(let v=this.size-7;p.length<m;v-=f)p.splice(1,0,v);return p}}static getNumRawDataModules(m){if(m<De.MIN_VERSION||m>De.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*m+128)*m+64;if(m>=2){const p=Math.floor(m/7)+2;f-=(25*p-10)*p-55,m>=7&&(f-=36)}return o(208<=f&&f<=29648),f}static getNumDataCodewords(m,f){return Math.floor(De.getNumRawDataModules(m)/8)-De.ECC_CODEWORDS_PER_BLOCK[f.ordinal][m]*De.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let f=[];for(let v=0;v<m-1;v++)f.push(0);f.push(1);let p=1;for(let v=0;v<m;v++){for(let w=0;w<f.length;w++)f[w]=De.reedSolomonMultiply(f[w],p),w+1<f.length&&(f[w]^=f[w+1]);p=De.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(m,f){let p=f.map(v=>0);for(const v of m){const w=v^p.shift();p.push(0),f.forEach((_,N)=>p[N]^=De.reedSolomonMultiply(_,w))}return p}static reedSolomonMultiply(m,f){if(m>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let v=7;v>=0;v--)p=p<<1^(p>>>7)*285,p^=(f>>>v&1)*m;return o(p>>>8==0),p}finderPenaltyCountPatterns(m){const f=m[1];o(f<=this.size*3);const p=f>0&&m[2]==f&&m[3]==f*3&&m[4]==f&&m[5]==f;return(p&&m[0]>=f*4&&m[6]>=f?1:0)+(p&&m[6]>=f*4&&m[0]>=f?1:0)}finderPenaltyTerminateAndCount(m,f,p){return m&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(m,f){f[0]==0&&(m+=this.size),f.pop(),f.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=t;function n(h,m,f){if(m<0||m>31||h>>>m)throw new RangeError("Value out of range");for(let p=m-1;p>=0;p--)f.push(h>>>p&1)}function i(h,m){return(h>>>m&1)!=0}function o(h){if(!h)throw new Error("Assertion error")}const c=class at{constructor(m,f,p){if(this.mode=m,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(m){let f=[];for(const p of m)n(p,8,f);return new at(at.Mode.BYTE,m.length,f)}static makeNumeric(m){if(!at.isNumeric(m))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<m.length;){const v=Math.min(m.length-p,3);n(parseInt(m.substring(p,p+v),10),v*3+1,f),p+=v}return new at(at.Mode.NUMERIC,m.length,f)}static makeAlphanumeric(m){if(!at.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=m.length;p+=2){let v=at.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p))*45;v+=at.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p+1)),n(v,11,f)}return p<m.length&&n(at.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p)),6,f),new at(at.Mode.ALPHANUMERIC,m.length,f)}static makeSegments(m){return m==""?[]:at.isNumeric(m)?[at.makeNumeric(m)]:at.isAlphanumeric(m)?[at.makeAlphanumeric(m)]:[at.makeBytes(at.toUtf8ByteArray(m))]}static makeEci(m){let f=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,f);else if(m<16384)n(2,2,f),n(m,14,f);else if(m<1e6)n(6,3,f),n(m,21,f);else throw new RangeError("ECI assignment value out of range");return new at(at.Mode.ECI,0,f)}static isNumeric(m){return at.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return at.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,f){let p=0;for(const v of m){const w=v.mode.numCharCountBits(f);if(v.numChars>=1<<w)return 1/0;p+=4+w+v.bitData.length}return p}static toUtf8ByteArray(m){m=encodeURI(m);let f=[];for(let p=0;p<m.length;p++)m.charAt(p)!="%"?f.push(m.charCodeAt(p)):(f.push(parseInt(m.substring(p+1,p+3),16)),p+=2);return f}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=c;s.QrSegment=c})(ws||(ws={}));(s=>{(t=>{const n=class{constructor(o,c){this.ordinal=o,this.formatBits=c}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(s.QrCode||(s.QrCode={}))})(ws||(ws={}));(s=>{(t=>{const n=class{constructor(o,c){this.modeBits=o,this.numBitsCharCount=c}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(s.QrSegment||(s.QrSegment={}))})(ws||(ws={}));var pa=ws;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $R={L:pa.QrCode.Ecc.LOW,M:pa.QrCode.Ecc.MEDIUM,Q:pa.QrCode.Ecc.QUARTILE,H:pa.QrCode.Ecc.HIGH},_0=128,j0="L",b0="#FFFFFF",k0="#000000",N0=!1,S0=1,BR=4,VR=0,WR=.1;function C0(s,t=0){const n=[];return s.forEach(function(i,o){let c=null;i.forEach(function(u,h){if(!u&&c!==null){n.push(`M${c+t} ${o+t}h${h-c}v1H${c+t}z`),c=null;return}if(h===i.length-1){if(!u)return;c===null?n.push(`M${h+t},${o+t} h1v1H${h+t}z`):n.push(`M${c+t},${o+t} h${h+1-c}v1H${c+t}z`);return}u&&c===null&&(c=h)})}),n.join("")}function E0(s,t){return s.slice().map((n,i)=>i<t.y||i>=t.y+t.h?n:n.map((o,c)=>c<t.x||c>=t.x+t.w?o:!1))}function qR(s,t,n,i){if(i==null)return null;const o=s.length+n*2,c=Math.floor(t*WR),u=o/t,h=(i.width||c)*u,m=(i.height||c)*u,f=i.x==null?s.length/2-h/2:i.x*u,p=i.y==null?s.length/2-m/2:i.y*u,v=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let N=Math.floor(f),b=Math.floor(p),j=Math.ceil(h+f-N),S=Math.ceil(m+p-b);w={x:N,y:b,w:j,h:S}}const _=i.crossOrigin;return{x:f,y:p,h:m,w:h,excavation:w,opacity:v,crossOrigin:_}}function HR(s,t){return t!=null?Math.max(Math.floor(t),0):s?BR:VR}function P0({value:s,level:t,minVersion:n,includeMargin:i,marginSize:o,imageSettings:c,size:u,boostLevel:h}){let m=He.useMemo(()=>{const N=(Array.isArray(s)?s:[s]).reduce((b,j)=>(b.push(...pa.QrSegment.makeSegments(j)),b),[]);return pa.QrCode.encodeSegments(N,$R[t],n,void 0,void 0,h)},[s,t,n,h]);const{cells:f,margin:p,numCells:v,calculatedImageSettings:w}=He.useMemo(()=>{let _=m.getModules();const N=HR(i,o),b=_.length+N*2,j=qR(_,u,N,c);return{cells:_,margin:N,numCells:b,calculatedImageSettings:j}},[m,u,c,i,o]);return{qrcode:m,margin:p,cells:f,numCells:v,calculatedImageSettings:w}}var GR=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),KR=He.forwardRef(function(t,n){const i=t,{value:o,size:c=_0,level:u=j0,bgColor:h=b0,fgColor:m=k0,includeMargin:f=N0,minVersion:p=S0,boostLevel:v,marginSize:w,imageSettings:_}=i,b=Xd(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=b,S=Xd(b,["style"]),C=_?.src,k=He.useRef(null),I=He.useRef(null),A=He.useCallback(B=>{k.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[$,T]=He.useState(!1),{margin:M,cells:R,numCells:U,calculatedImageSettings:H}=P0({value:o,level:u,minVersion:p,boostLevel:v,includeMargin:f,marginSize:w,imageSettings:_,size:c});He.useEffect(()=>{if(k.current!=null){const B=k.current,Y=B.getContext("2d");if(!Y)return;let X=R;const oe=I.current,J=H!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;J&&H.excavation!=null&&(X=E0(R,H.excavation));const Z=window.devicePixelRatio||1;B.height=B.width=c*Z;const ee=c/U*Z;Y.scale(ee,ee),Y.fillStyle=h,Y.fillRect(0,0,U,U),Y.fillStyle=m,GR?Y.fill(new Path2D(C0(X,M))):R.forEach(function(F,V){F.forEach(function(ae,pe){ae&&Y.fillRect(pe+M,V+M,1,1)})}),H&&(Y.globalAlpha=H.opacity),J&&Y.drawImage(oe,H.x+M,H.y+M,H.w,H.h)}}),He.useEffect(()=>{T(!1)},[C]);const P=Zd({height:c,width:c},j);let D=null;return C!=null&&(D=He.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{T(!0)},ref:I,crossOrigin:H?.crossOrigin})),He.createElement(He.Fragment,null,He.createElement("canvas",Zd({style:P,height:c,width:c,ref:A,role:"img"},S)),D)});KR.displayName="QRCodeCanvas";var R0=He.forwardRef(function(t,n){const i=t,{value:o,size:c=_0,level:u=j0,bgColor:h=b0,fgColor:m=k0,includeMargin:f=N0,minVersion:p=S0,boostLevel:v,title:w,marginSize:_,imageSettings:N}=i,b=Xd(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:S,numCells:C,calculatedImageSettings:k}=P0({value:o,level:u,minVersion:p,boostLevel:v,includeMargin:f,marginSize:_,imageSettings:N,size:c});let I=S,A=null;N!=null&&k!=null&&(k.excavation!=null&&(I=E0(S,k.excavation)),A=He.createElement("image",{href:N.src,height:k.h,width:k.w,x:k.x+j,y:k.y+j,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const $=C0(I,j);return He.createElement("svg",Zd({height:c,width:c,viewBox:`0 0 ${C} ${C}`,ref:n,role:"img"},b),!!w&&He.createElement("title",null,w),He.createElement("path",{fill:h,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),He.createElement("path",{fill:m,d:$,shapeRendering:"crispEdges"}),A)});R0.displayName="QRCodeSVG";const JR=({secret:s,accountName:t,issuer:n="Navikko",size:i=200})=>{const o=zS(s,t,n);return e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(R0,{value:o,size:i,level:"M",includeMargin:!0}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Secret: ",e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:s})]}),e.jsx("p",{className:"text-xs mt-1",children:"Scan with Google Authenticator or similar app"})]})]})},QR=({onSetupComplete:s,onCancel:t})=>{const[n,i]=x.useState(null),[o,c]=x.useState(""),[u,h]=x.useState(""),[m,f]=x.useState(""),[p,v]=x.useState(!1),[w,_]=x.useState(""),[N,b]=x.useState("");x.useEffect(()=>{(async()=>{const A=Be.getCurrentUser()?.email||"admin@example.com";try{const R=Ne(),{data:U}=await R.from("users").select("id").eq("email",A).single();if(U){const{data:H}=await R.from("admin_access").select("two_factor_secret, two_factor_enabled").eq("user_id",U.id).single();if(H?.two_factor_secret){console.log("2FA Setup: Using existing secret from database:",H.two_factor_secret);const P=new Wt({secret:H.two_factor_secret}),D=P.generateQRCodeURL(A,"Navikko Admin");i(P),h(H.two_factor_secret),c(D),localStorage.setItem("admin_totp_secret",H.two_factor_secret),console.log("2FA Setup: Set UI secret to:",H.two_factor_secret);return}}}catch(R){console.warn("Could not load secret from database:",R)}let $=localStorage.getItem("admin_totp_secret");$||($=Cl(),localStorage.setItem("admin_totp_secret",$));const T=new Wt({secret:$}),M=T.generateQRCodeURL(A,"Navikko Admin");i(T),h($),c(M),console.log("2FA Setup: Using secret:",$),console.log("2FA Setup: Set UI secret to:",$)})()},[]);const j=async()=>{if(!n||!m){_("Please enter the verification code");return}v(!0),_("");try{if(console.log("2FA Verification: Checking code:",m,"with secret:",u),console.log("2FA Verification: TOTP service secret:",n.getSecret()),console.log("2FA Verification: UI secret state:",u),await n.verifyCode(m)){try{const I=Ne(),$=Be.getCurrentUser()?.email||"admin@example.com",{error:T}=await I.from("admin_access").update({two_factor_secret:u,two_factor_enabled:!0,updated_at:new Date().toISOString()}).eq("user_id",(await I.from("users").select("id").eq("email",$).single()).data.id);if(T){console.error("Failed to update database with 2FA secret:",T),_("Database update failed. Please try again.");return}else console.log(" Database updated successfully with new 2FA secret:",u)}catch(I){console.warn("Database update failed, but 2FA setup is still valid:",I)}b("2FA setup successful! You can now log in with your authenticator app."),setTimeout(()=>{s()},2e3)}else _("Invalid verification code. Please try again.")}catch{_("Verification failed. Please try again.")}finally{v(!1)}},S=()=>{navigator.clipboard.writeText(u),b("Secret copied to clipboard!"),setTimeout(()=>b(""),3e3)},C=async()=>{const I=Be.getCurrentUser()?.email||"admin@example.com";localStorage.removeItem("admin_totp_secret");const A=Cl(),$=new Wt({secret:A}),T=$.generateQRCodeURL(I,"Navikko Admin");i($),h(A),c(T),localStorage.setItem("admin_totp_secret",A),f(""),_(""),b("New secret generated! Please scan the new QR code.");try{const M=Ne(),{data:R}=await M.from("users").select("id").eq("email",I).single();R&&await M.from("admin_access").update({two_factor_secret:A,two_factor_enabled:!1,updated_at:new Date().toISOString()}).eq("user_id",R.id)}catch(M){console.warn("Could not update database with new secret:",M)}};return e.jsxs(ce,{className:"w-full max-w-md mx-auto",children:[e.jsx(_e,{children:e.jsx(je,{className:"flex items-center gap-2",children:" Set Up Two-Factor Authentication"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Scan the QR code with your authenticator app (Google Authenticator, Authy, etc.) to set up 2FA for enhanced security."}),o&&e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsx(JR,{secret:u,accountName:Be.getCurrentUser()?.email||"admin@example.com",issuer:"Navikko Admin",size:200})}),e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"text-sm font-medium",children:"Manual Entry Secret"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ne,{value:u,readOnly:!0,className:"font-mono text-sm",style:{minWidth:"300px"}}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Secret length: ",u?.length||0," characters"]}),e.jsx(Q,{variant:"outline",size:"sm",onClick:S,children:"Copy"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use this secret if you can't scan the QR code"}),e.jsx(Q,{variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Generate New Secret"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"verification-code",children:"Verification Code"}),e.jsx(ne,{id:"verification-code",type:"text",placeholder:"Enter 6-digit code",value:m,onChange:k=>f(k.target.value),maxLength:6,className:"text-center text-lg font-mono"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter the 6-digit code from your authenticator app"})]}),w&&e.jsx(kr,{variant:"destructive",children:e.jsx(Nr,{children:w})}),N&&e.jsx(kr,{children:e.jsx(Nr,{children:N})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{onClick:j,disabled:p||!m,className:"flex-1",children:p?"Verifying...":"Verify & Complete Setup"}),e.jsx(Q,{variant:"outline",onClick:t,disabled:p,children:"Cancel"})]})]})]})};function YR(){const s=dr(),[t,n]=x.useState(!1),i=()=>{n(!0),setTimeout(()=>{s("/")},2e3)},o=()=>{s("/")};return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"2FA Setup Complete!"}),e.jsx("p",{className:"text-gray-600",children:"You can now log in with your authenticator app."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsx(QR,{onSetupComplete:i,onCancel:o})})}const ZR=({isVisible:s=!1})=>{const[t,n]=x.useState([]),[i,o]=x.useState(""),[c,u]=x.useState(""),[h,m]=x.useState(30),[f,p]=x.useState(!1),v="PKKHZPR2QBZC54PTPEA7SVZ6ZNGE3MHI",w=(j,S="info")=>{const C=new Date().toLocaleTimeString();n(k=>[...k,`[${C}] ${j}`])},_=async()=>{n([]),w("=== Production 2FA Debug Started (v2.0) ===","info"),w(` Using database secret: ${v}`,"info");try{const k=await Ug(v);u(k),w(` TOTP implementation working. Current code: ${k}`,"success")}catch(k){w(` TOTP implementation failed: ${k}`,"error")}typeof crypto<"u"&&crypto.subtle?w(" Web Crypto API available","success"):w(" Web Crypto API not available","error");try{Ug(v),w(" Base32 decoding working correctly","success")}catch(k){w(` Base32 decoding failed: ${k}`,"error")}const j=Date.now();w(` Current timestamp: ${j}`,"info"),w(` Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}`,"info");const S=navigator.userAgent;w(` Browser: ${S}`,"info");try{const k="2fa_debug_test";localStorage.setItem(k,"test"),localStorage.removeItem(k),w(" localStorage available","success")}catch{w(" localStorage not available","error")}Object.entries({VITE_SUPABASE_URL:"https://mzmvlahjtybrdboteyry.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16bXZsYWhqdHlicmRib3RleXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NTY2ODEsImV4cCI6MjA2ODAzMjY4MX0.95zziILtcMnzvCwKz4HoWeeFSfqlQSbe_afdTl97VVmA",VITE_APP_NAME:"Navikko"}).forEach(([k,I])=>{I?w(` ${k}: Configured`,"success"):w(` ${k}: Missing`,"error")}),w("=== Debug Checks Complete ===","info")},N=async()=>{if(!i||i.length!==6){w(" Please enter a 6-digit code","error");return}p(!0),w(` Testing code: ${i}`,"info");try{const j=new Wt({secret:v});if(await j.verifyCode(i))w(` Code ${i} is VALID!`,"success");else{w(` Code ${i} is INVALID`,"error");const C=await j.generateCode(),k=j.getRemainingTime();w(` Expected current code: ${C} (expires in ${k}s)`,"info")}}catch(j){w(` Code validation error: ${j}`,"error")}finally{p(!1)}},b=async()=>{try{const j=new Wt({secret:v}),S=await j.generateCode(),C=j.getRemainingTime();u(S),o(S),w(` Generated current code: ${S} (expires in ${C}s)`,"success")}catch(j){w(` Failed to generate code: ${j}`,"error")}};return x.useEffect(()=>{if(s){const j=setInterval(()=>{const S=new Wt({secret:v});m(S.getRemainingTime())},1e3);return()=>clearInterval(j)}},[s]),s?e.jsxs(ce,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(_e,{children:e.jsx(je,{className:"flex items-center gap-2",children:" Production 2FA Debug Tool"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsx(kr,{children:e.jsx(Nr,{children:"This debug tool tests the 2FA implementation in the actual production environment. Use this to verify that your authenticator app codes match what the system expects."})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{onClick:_,variant:"outline",children:"Run Debug Checks"}),e.jsx(Q,{onClick:b,variant:"outline",children:"Generate Current Code"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Test Your Authenticator Code"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{type:"text",placeholder:"Enter 6-digit code from your app",value:i,onChange:j=>o(j.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"text-center text-lg font-mono"}),e.jsx(Q,{onClick:N,disabled:f||i.length!==6,className:"w-full",children:f?"Testing...":"Test Code"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Expected Code"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-mono font-bold",children:c||"------"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Expires in: ",e.jsxs(Fe,{variant:"outline",children:[h,"s"]})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Compare this with your authenticator app code"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Debug Information"}),e.jsx("div",{className:"max-h-96 overflow-y-auto bg-gray-50 p-4 rounded-lg",children:t.length===0?e.jsx("p",{className:"text-gray-500",children:'Click "Run Debug Checks" to start debugging'}):e.jsx("div",{className:"space-y-1",children:t.map((j,S)=>e.jsx("div",{className:"text-sm font-mono",children:j},S))})})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Database Secret:"})," ",v]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Environment:"})," ","production"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deployment URL:"})," ",window.location.origin]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Debug Version:"})," 2.0 (Cache Bust)"]})]})]})]}):null};function XR(){return e.jsx(VS,{children:e.jsx(US,{children:e.jsx(Db,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs("div",{className:"App",children:[e.jsxs(Eb,{children:[e.jsx(Je,{path:"/",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurants",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant/:id",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/cart",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/profile",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/dashboard",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/orders",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/menu-management",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/subscription",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant/:restaurantId/dashboard",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant/:restaurantId/orders",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant/:restaurantId/menu",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant/:restaurantId/analytics",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/restaurant-management",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/users",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/reservations",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/role-switcher",element:e.jsx(Nt,{})}),e.jsx(Je,{path:"/privacy-policy",element:e.jsx(MR,{})}),e.jsx(Je,{path:"/terms-of-service",element:e.jsx(DR,{})}),e.jsx(Je,{path:"/commercial-transaction-act",element:e.jsx(zR,{})}),e.jsx(Je,{path:"/order-success",element:e.jsx(LR,{})}),e.jsx(Je,{path:"/order-cancel",element:e.jsx(FR,{})}),e.jsx(Je,{path:"/admin-2fa-setup",element:e.jsx(YR,{})}),e.jsx(Je,{path:"/2fa-debug",element:e.jsx(ZR,{isVisible:!0})}),e.jsx(Je,{path:"*",element:e.jsx(OR,{})})]}),e.jsx(I1,{})]})})})})}window.onerror=function(s,t,n,i,o){return t&&(t.includes("content-script")||t.includes("content.js")||t.includes("chrome-extension")||t.includes("moz-extension"))?(console.warn("Browser extension error filtered out:",{message:s,source:t,lineno:n,colno:i}),!0):(console.error("App error:",{message:s,source:t,lineno:n,colno:i,error:o}),!1)};window.onunhandledrejection=function(s){if(s.reason&&(s.reason.message?.includes("content-script")||s.reason.stack?.includes("content.js"))){console.warn("Browser extension promise rejection filtered out:",s.reason),s.preventDefault();return}console.error("Unhandled promise rejection:",s.reason)};console.log(" App starting...");Dj.createRoot(document.getElementById("root")).render(e.jsx(XR,{}));
